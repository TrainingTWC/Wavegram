(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Ng(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fu={exports:{}},Li={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Ov(){if(I0)return Li;I0=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:r,type:l,key:h,ref:c!==void 0?c:null,props:d}}return Li.Fragment=a,Li.jsx=i,Li.jsxs=i,Li}var L0;function Nv(){return L0||(L0=1,Fu.exports=Ov()),Fu.exports}var m=Nv(),Zu={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Rv(){if(M0)return oe;M0=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function H(A,z,P){this.props=A,this.context=z,this.refs=j,this.updater=P||T}H.prototype.isReactComponent={},H.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function $(){}$.prototype=H.prototype;function M(A,z,P){this.props=A,this.context=z,this.refs=j,this.updater=P||T}var q=M.prototype=new $;q.constructor=M,D(q,H.prototype),q.isPureReactComponent=!0;var ie=Array.isArray;function V(){}var G={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ce(A,z,P){var X=P.ref;return{$$typeof:r,type:A,key:z,ref:X!==void 0?X:null,props:P}}function ut(A,z){return ce(A.type,z,A.props)}function mt(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function Ye(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return z[P]})}var Jt=/\/+/g;function ct(A,z){return typeof A=="object"&&A!==null&&A.key!=null?Ye(""+A.key):z.toString(36)}function Rt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(V,V):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function I(A,z,P,X,le){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var Ae=!1;if(A===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(A.$$typeof){case r:case a:Ae=!0;break;case _:return Ae=A._init,I(Ae(A._payload),z,P,X,le)}}if(Ae)return le=le(A),Ae=X===""?"."+ct(A,0):X,ie(le)?(P="",Ae!=null&&(P=Ae.replace(Jt,"$&/")+"/"),I(le,z,P,"",function(ga){return ga})):le!=null&&(mt(le)&&(le=ut(le,P+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(Jt,"$&/")+"/")+Ae)),z.push(le)),1;Ae=0;var Me=X===""?".":X+":";if(ie(A))for(var Ve=0;Ve<A.length;Ve++)X=A[Ve],he=Me+ct(X,Ve),Ae+=I(X,z,P,he,le);else if(Ve=S(A),typeof Ve=="function")for(A=Ve.call(A),Ve=0;!(X=A.next()).done;)X=X.value,he=Me+ct(X,Ve++),Ae+=I(X,z,P,he,le);else if(he==="object"){if(typeof A.then=="function")return I(Rt(A),z,P,X,le);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(A,z,P){if(A==null)return A;var X=[],le=0;return I(A,X,"","",function(he){return z.call(P,he,le++)}),X}function ee(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var Te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ce={map:Y,forEach:function(A,z,P){Y(A,function(){z.apply(this,arguments)},P)},count:function(A){var z=0;return Y(A,function(){z++}),z},toArray:function(A){return Y(A,function(z){return z})||[]},only:function(A){if(!mt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return oe.Activity=w,oe.Children=Ce,oe.Component=H,oe.Fragment=i,oe.Profiler=c,oe.PureComponent=M,oe.StrictMode=l,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,oe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return G.H.useMemoCache(A)}},oe.cache=function(A){return function(){return A.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(A,z,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=D({},A.props),le=A.key;if(z!=null)for(he in z.key!==void 0&&(le=""+z.key),z)!fe.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(X[he]=z[he]);var he=arguments.length-2;if(he===1)X.children=P;else if(1<he){for(var Ae=Array(he),Me=0;Me<he;Me++)Ae[Me]=arguments[Me+2];X.children=Ae}return ce(A.type,le,X)},oe.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},oe.createElement=function(A,z,P){var X,le={},he=null;if(z!=null)for(X in z.key!==void 0&&(he=""+z.key),z)fe.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(le[X]=z[X]);var Ae=arguments.length-2;if(Ae===1)le.children=P;else if(1<Ae){for(var Me=Array(Ae),Ve=0;Ve<Ae;Ve++)Me[Ve]=arguments[Ve+2];le.children=Me}if(A&&A.defaultProps)for(X in Ae=A.defaultProps,Ae)le[X]===void 0&&(le[X]=Ae[X]);return ce(A,he,le)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(A){return{$$typeof:g,render:A}},oe.isValidElement=mt,oe.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:ee}},oe.memo=function(A,z){return{$$typeof:y,type:A,compare:z===void 0?null:z}},oe.startTransition=function(A){var z=G.T,P={};G.T=P;try{var X=A(),le=G.S;le!==null&&le(P,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,Te)}catch(he){Te(he)}finally{z!==null&&P.types!==null&&(z.types=P.types),G.T=z}},oe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},oe.use=function(A){return G.H.use(A)},oe.useActionState=function(A,z,P){return G.H.useActionState(A,z,P)},oe.useCallback=function(A,z){return G.H.useCallback(A,z)},oe.useContext=function(A){return G.H.useContext(A)},oe.useDebugValue=function(){},oe.useDeferredValue=function(A,z){return G.H.useDeferredValue(A,z)},oe.useEffect=function(A,z){return G.H.useEffect(A,z)},oe.useEffectEvent=function(A){return G.H.useEffectEvent(A)},oe.useId=function(){return G.H.useId()},oe.useImperativeHandle=function(A,z,P){return G.H.useImperativeHandle(A,z,P)},oe.useInsertionEffect=function(A,z){return G.H.useInsertionEffect(A,z)},oe.useLayoutEffect=function(A,z){return G.H.useLayoutEffect(A,z)},oe.useMemo=function(A,z){return G.H.useMemo(A,z)},oe.useOptimistic=function(A,z){return G.H.useOptimistic(A,z)},oe.useReducer=function(A,z,P){return G.H.useReducer(A,z,P)},oe.useRef=function(A){return G.H.useRef(A)},oe.useState=function(A){return G.H.useState(A)},oe.useSyncExternalStore=function(A,z,P){return G.H.useSyncExternalStore(A,z,P)},oe.useTransition=function(){return G.H.useTransition()},oe.version="19.2.3",oe}var B0;function jc(){return B0||(B0=1,Zu.exports=Rv()),Zu.exports}var K=jc();const qe=Ng(K);var Wu={exports:{}},Mi={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function jv(){return z0||(z0=1,(function(r){function a(I,Y){var ee=I.length;I.push(Y);e:for(;0<ee;){var Te=ee-1>>>1,Ce=I[Te];if(0<c(Ce,Y))I[Te]=Y,I[ee]=Ce,ee=Te;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var Y=I[0],ee=I.pop();if(ee!==Y){I[0]=ee;e:for(var Te=0,Ce=I.length,A=Ce>>>1;Te<A;){var z=2*(Te+1)-1,P=I[z],X=z+1,le=I[X];if(0>c(P,ee))X<Ce&&0>c(le,P)?(I[Te]=le,I[X]=ee,Te=X):(I[Te]=P,I[z]=ee,Te=z);else if(X<Ce&&0>c(le,ee))I[Te]=le,I[X]=ee,Te=X;else break e}}return Y}function c(I,Y){var ee=I.sortIndex-Y.sortIndex;return ee!==0?ee:I.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var p=[],y=[],_=1,w=null,E=3,S=!1,T=!1,D=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function q(I){for(var Y=i(y);Y!==null;){if(Y.callback===null)l(y);else if(Y.startTime<=I)l(y),Y.sortIndex=Y.expirationTime,a(p,Y);else break;Y=i(y)}}function ie(I){if(D=!1,q(I),!T)if(i(p)!==null)T=!0,V||(V=!0,Ye());else{var Y=i(y);Y!==null&&Rt(ie,Y.startTime-I)}}var V=!1,G=-1,fe=5,ce=-1;function ut(){return j?!0:!(r.unstable_now()-ce<fe)}function mt(){if(j=!1,V){var I=r.unstable_now();ce=I;var Y=!0;try{e:{T=!1,D&&(D=!1,$(G),G=-1),S=!0;var ee=E;try{t:{for(q(I),w=i(p);w!==null&&!(w.expirationTime>I&&ut());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,E=w.priorityLevel;var Ce=Te(w.expirationTime<=I);if(I=r.unstable_now(),typeof Ce=="function"){w.callback=Ce,q(I),Y=!0;break t}w===i(p)&&l(p),q(I)}else l(p);w=i(p)}if(w!==null)Y=!0;else{var A=i(y);A!==null&&Rt(ie,A.startTime-I),Y=!1}}break e}finally{w=null,E=ee,S=!1}Y=void 0}}finally{Y?Ye():V=!1}}}var Ye;if(typeof M=="function")Ye=function(){M(mt)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,ct=Jt.port2;Jt.port1.onmessage=mt,Ye=function(){ct.postMessage(null)}}else Ye=function(){H(mt,0)};function Rt(I,Y){G=H(function(){I(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(I){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var ee=E;E=Y;try{return I()}finally{E=ee}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ee=E;E=I;try{return Y()}finally{E=ee}},r.unstable_scheduleCallback=function(I,Y,ee){var Te=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,I){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ee+Ce,I={id:_++,callback:Y,priorityLevel:I,startTime:ee,expirationTime:Ce,sortIndex:-1},ee>Te?(I.sortIndex=ee,a(y,I),i(p)===null&&I===i(y)&&(D?($(G),G=-1):D=!0,Rt(ie,ee-Te))):(I.sortIndex=Ce,a(p,I),T||S||(T=!0,V||(V=!0,Ye()))),I},r.unstable_shouldYield=ut,r.unstable_wrapCallback=function(I){var Y=E;return function(){var ee=E;E=Y;try{return I.apply(this,arguments)}finally{E=ee}}}})(tc)),tc}var H0;function Cv(){return H0||(H0=1,ec.exports=jv()),ec.exports}var nc={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function Dv(){if(G0)return xt;G0=1;var r=jc();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:p,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(p,y,null,_)},xt.flushSync=function(p){var y=h.T,_=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=y,l.p=_,l.d.f()}},xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},xt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,w=g(_,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:S}):_==="script"&&l.d.X(p,{crossOrigin:w,integrity:E,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=g(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=g(_,y.crossOrigin);l.d.L(p,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=g(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},xt.requestFormReset=function(p){l.d.r(p)},xt.unstable_batchedUpdates=function(p,y){return p(y)},xt.useFormState=function(p,y,_){return h.H.useFormState(p,y,_)},xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var q0;function Uv(){if(q0)return nc.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),nc.exports=Dv(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function kv(){if(V0)return Mi;V0=1;var r=Cv(),a=jc(),i=Uv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(l(188))}if(n.return!==s.return)n=o,s=u;else{for(var f=!1,v=o.child;v;){if(v===n){f=!0,n=o,s=u;break}if(v===s){f=!0,s=o,n=u;break}v=v.sibling}if(!f){for(v=u.child;v;){if(v===n){f=!0,n=u,s=o;break}if(v===s){f=!0,s=u,n=o;break}v=v.sibling}if(!f)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function Ye(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Symbol.for("react.client.reference");function ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Jt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case V:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case M:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:ct(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return ct(e(t))}catch{}}return null}var Rt=Array.isArray,I=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function A(e){return{current:e}}function z(e){0>Ce||(e.current=Te[Ce],Te[Ce]=null,Ce--)}function P(e,t){Ce++,Te[Ce]=e.current,e.current=t}var X=A(null),le=A(null),he=A(null),Ae=A(null);function Me(e,t){switch(P(he,t),P(le,e),P(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?r0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=r0(t),e=i0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(X),P(X,e)}function Ve(){z(X),z(le),z(he)}function ga(e){e.memoizedState!==null&&P(Ae,e);var t=X.current,n=i0(t,e.type);t!==n&&(P(le,e),P(X,n))}function qa(e){le.current===e&&(z(X),z(le)),Ae.current===e&&(z(Ae),Di._currentValue=ee)}var Va,Fi;function Mt(e){if(Va===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Va=t&&t[1]||"",Fi=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+e+Fi}var qr=!1;function Vr(e,t){if(!e||qr)return"";qr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var C=U}Reflect.construct(e,[],B)}else{try{B.call()}catch(U){C=U}e.call(B.prototype)}}else{try{throw Error()}catch(U){C=U}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),f=u[0],v=u[1];if(f&&v){var b=f.split(`
`),R=v.split(`
`);for(o=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===b.length||o===R.length)for(s=b.length-1,o=R.length-1;1<=s&&0<=o&&b[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(b[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||b[s]!==R[o]){var k=`
`+b[s].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=s&&0<=o);break}}}finally{qr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Mt(n):""}function se(e,t){switch(e.tag){case 26:case 27:case 5:return Mt(e.type);case 16:return Mt("Lazy");case 13:return e.child!==t&&t!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return Vr(e.type,!1);case 11:return Vr(e.type.render,!1);case 1:return Vr(e.type,!0);case 31:return Mt("Activity");default:return""}}function me(e){try{var t="",n=null;do t+=se(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ge=Object.prototype.hasOwnProperty,pe=r.unstable_scheduleCallback,xe=r.unstable_cancelCallback,gn=r.unstable_shouldYield,Tt=r.unstable_requestPaint,dt=r.unstable_now,$r=r.unstable_getCurrentPriorityLevel,Zi=r.unstable_ImmediatePriority,pn=r.unstable_UserBlockingPriority,yn=r.unstable_NormalPriority,ae=r.unstable_LowPriority,je=r.unstable_IdlePriority,vn=r.log,pa=r.unstable_setDisableYieldValue,on=null,re=null;function Fe(e){if(typeof vn=="function"&&pa(e),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(on,e)}catch{}}var et=Math.clz32?Math.clz32:Wi,Ll=Math.log,Ml=Math.LN2;function Wi(e){return e>>>=0,e===0?32:31-(Ll(e)/Ml|0)|0}var gt=256,es=262144,ts=4194304;function ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ns(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=ya(s):(f&=v,f!==0?o=ya(f):n||(n=v&~e,n!==0&&(o=ya(n))))):(v=s&~u,v!==0?o=ya(v):f!==0?o=ya(f):n||(n=s&~e,n!==0&&(o=ya(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Yr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var e=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),e}function Bl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gp(e,t,n,s,o,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,R=e.hiddenUpdates;for(n=f&~n;0<n;){var k=31-et(n),B=1<<k;v[k]=0,b[k]=-1;var C=R[k];if(C!==null)for(R[k]=null,k=0;k<C.length;k++){var U=C[k];U!==null&&(U.lane&=-536870913)}n&=~B}s!==0&&zc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function zc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-et(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function Hc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-et(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function Gc(e,t){var n=t&-t;return n=(n&42)!==0?1:zl(n),(n&(e.suspendedLanes|t))!==0?0:n}function zl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:N0(e.type))}function Vc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Vn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Vn,jt="__reactProps$"+Vn,$a="__reactContainer$"+Vn,Gl="__reactEvents$"+Vn,pp="__reactListeners$"+Vn,yp="__reactHandles$"+Vn,$c="__reactResources$"+Vn,Kr="__reactMarker$"+Vn;function ql(e){delete e[pt],delete e[jt],delete e[Gl],delete e[pp],delete e[yp]}function Ya(e){var t=e[pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=h0(e);e!==null;){if(n=e[pt])return n;e=h0(e)}return t}e=n,n=e.parentNode}return null}function Pa(e){if(e=e[pt]||e[$a]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ka(e){var t=e[$c];return t||(t=e[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Kr]=!0}var Yc=new Set,Pc={};function va(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(Pc[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},Xc={};function _p(e){return ge.call(Xc,e)?!0:ge.call(Kc,e)?!1:vp.test(e)?Xc[e]=!0:(Kc[e]=!0,!1)}function as(e,t,n){if(_p(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bp(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vl(e){if(!e._valueTracker){var t=Jc(e)?"checked":"value";e._valueTracker=bp(e,t,""+e[t])}}function Qc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Jc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ep=/[\n"\\]/g;function Ft(e){return e.replace(Ep,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $l(e,t,n,s,o,u,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Yl(e,f,Qt(t)):n!=null?Yl(e,f,Qt(n)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Qt(v):e.removeAttribute("name")}function Fc(e,t,n,s,o,u,f,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Vl(e);return}n=n!=null?""+Qt(n):"",t=t!=null?""+Qt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Vl(e)}function Yl(e,t,n){t==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ja(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zc(e,t,n){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Qt(n):""}function Wc(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(Rt(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Qt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Vl(e)}function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||wp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function td(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&ed(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&ed(e,u,t[u])}function Pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(e){return xp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xn(){}var Kl=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Za=null;function nd(e){var t=Pa(e);if(t&&(e=t.stateNode)){var n=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if($l(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[jt]||null;if(!o)throw Error(l(90));$l(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Qc(s)}break e;case"textarea":Zc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ja(e,!!n.multiple,t,!1)}}}var Jl=!1;function ad(e,t,n){if(Jl)return e(t,n);Jl=!0;try{var s=e(t);return s}finally{if(Jl=!1,(Fa!==null||Za!==null)&&(Ks(),Fa&&(t=Fa,e=Za,Za=Fa=null,nd(t),e)))for(t=0;t<e.length;t++)nd(e[t])}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var s=n[jt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=!1;if(Tn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Ql=!1}var $n=null,Fl=null,ls=null;function rd(){if(ls)return ls;var e,t=Fl,n=t.length,s,o="value"in $n?$n.value:$n.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===o[u-s];s++);return ls=o.slice(e,1<s?1-s:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function id(){return!1}function Ct(e){function t(n,s,o,u,f){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?us:id,this.isPropagationStopped=id,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Ct(_a),Fr=w({},_a,{view:0,detail:0}),Tp=Ct(Fr),Zl,Wl,Zr,ds=w({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(Zl=e.screenX-Zr.screenX,Wl=e.screenY-Zr.screenY):Wl=Zl=0,Zr=e),Zl)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),sd=Ct(ds),Ap=w({},ds,{dataTransfer:0}),Op=Ct(Ap),Np=w({},Fr,{relatedTarget:0}),eo=Ct(Np),Rp=w({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),jp=Ct(Rp),Cp=w({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=Ct(Cp),Up=w({},_a,{data:0}),ld=Ct(Up),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lp[e])?!!t[e]:!1}function to(){return Mp}var Bp=w({},Fr,{key:function(e){if(e.key){var t=kp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zp=Ct(Bp),Hp=w({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Ct(Hp),Gp=w({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),qp=Ct(Gp),Vp=w({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=Ct(Vp),Yp=w({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pp=Ct(Yp),Kp=w({},_a,{newState:0,oldState:0}),Xp=Ct(Kp),Jp=[9,13,27,32],no=Tn&&"CompositionEvent"in window,Wr=null;Tn&&"documentMode"in document&&(Wr=document.documentMode);var Qp=Tn&&"TextEvent"in window&&!Wr,ud=Tn&&(!no||Wr&&8<Wr&&11>=Wr),cd=" ",dd=!1;function hd(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function Fp(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(dd=!0,cd);case"textInput":return e=t.data,e===cd&&dd?null:e;default:return null}}function Zp(e,t){if(Wa)return e==="compositionend"||!no&&hd(e,t)?(e=rd(),ls=Fl=$n=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function gd(e,t,n,s){Fa?Za?Za.push(s):Za=[s]:Fa=s,t=el(t,"onChange"),0<t.length&&(n=new cs("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ei=null,ti=null;function ey(e){Zf(e,0)}function hs(e){var t=Xr(e);if(Qc(t))return e}function pd(e,t){if(e==="change")return t}var yd=!1;if(Tn){var ao;if(Tn){var ro="oninput"in document;if(!ro){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),ro=typeof vd.oninput=="function"}ao=ro}else ao=!1;yd=ao&&(!document.documentMode||9<document.documentMode)}function _d(){ei&&(ei.detachEvent("onpropertychange",bd),ti=ei=null)}function bd(e){if(e.propertyName==="value"&&hs(ti)){var t=[];gd(t,ti,e,Xl(e)),ad(ey,t)}}function ty(e,t,n){e==="focusin"?(_d(),ei=t,ti=n,ei.attachEvent("onpropertychange",bd)):e==="focusout"&&_d()}function ny(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(ti)}function ay(e,t){if(e==="click")return hs(t)}function ry(e,t){if(e==="input"||e==="change")return hs(t)}function iy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:iy;function ni(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!ge.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function Ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wd(e,t){var n=Ed(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ed(n)}}function Sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=is(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=is(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sy=Tn&&"documentMode"in document&&11>=document.documentMode,er=null,so=null,ai=null,lo=!1;function Td(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||er==null||er!==is(s)||(s=er,"selectionStart"in s&&io(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ai&&ni(ai,s)||(ai=s,s=el(so,"onSelect"),0<s.length&&(t=new cs("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=er)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},oo={},Ad={};Tn&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Ea(e){if(oo[e])return oo[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ad)return oo[e]=t[n];return e}var Od=Ea("animationend"),Nd=Ea("animationiteration"),Rd=Ea("animationstart"),ly=Ea("transitionrun"),oy=Ea("transitionstart"),uy=Ea("transitioncancel"),jd=Ea("transitionend"),Cd=new Map,uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uo.push("scrollEnd");function un(e,t){Cd.set(e,t),va(t,[e])}var fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],nr=0,co=0;function ms(){for(var e=nr,t=co=nr=0;t<e;){var n=Zt[t];Zt[t++]=null;var s=Zt[t];Zt[t++]=null;var o=Zt[t];Zt[t++]=null;var u=Zt[t];if(Zt[t++]=null,s!==null&&o!==null){var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}u!==0&&Dd(n,o,u)}}function gs(e,t,n,s){Zt[nr++]=e,Zt[nr++]=t,Zt[nr++]=n,Zt[nr++]=s,co|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ho(e,t,n,s){return gs(e,t,n,s),ps(e)}function wa(e,t){return gs(e,null,null,t),ps(e)}function Dd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-et(n),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),u):null}function ps(e){if(50<Ti)throw Ti=0,Eu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ar={};function cy(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,s){return new cy(e,t,n,s)}function fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ud(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ys(e,t,n,s,o,u){var f=0;if(s=e,typeof e=="function")fo(e)&&(f=1);else if(typeof e=="string")f=gv(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=zt(31,n,t,o),e.elementType=ce,e.lanes=u,e;case D:return Sa(n.children,o,u,t);case j:f=8,o|=24;break;case H:return e=zt(12,n,t,o|2),e.elementType=H,e.lanes=u,e;case ie:return e=zt(13,n,t,o),e.elementType=ie,e.lanes=u,e;case V:return e=zt(19,n,t,o),e.elementType=V,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:f=10;break e;case $:f=9;break e;case q:f=11;break e;case G:f=14;break e;case fe:f=16,s=null;break e}f=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=zt(f,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Sa(e,t,n,s){return e=zt(7,e,s,t),e.lanes=n,e}function mo(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function kd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function go(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Id=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var n=Id.get(e);return n!==void 0?n:(t={value:e,source:t,stack:me(t)},Id.set(e,t),t)}return{value:e,source:t,stack:me(t)}}var rr=[],ir=0,vs=null,ri=0,en=[],tn=0,Yn=null,_n=1,bn="";function On(e,t){rr[ir++]=ri,rr[ir++]=vs,vs=e,ri=t}function Ld(e,t,n){en[tn++]=_n,en[tn++]=bn,en[tn++]=Yn,Yn=e;var s=_n;e=bn;var o=32-et(s)-1;s&=~(1<<o),n+=1;var u=32-et(t)+o;if(30<u){var f=o-o%5;u=(s&(1<<f)-1).toString(32),s>>=f,o-=f,_n=1<<32-et(t)+o|n<<o|s,bn=u+e}else _n=1<<u|n<<o|s,bn=e}function po(e){e.return!==null&&(On(e,1),Ld(e,1,0))}function yo(e){for(;e===vs;)vs=rr[--ir],rr[ir]=null,ri=rr[--ir],rr[ir]=null;for(;e===Yn;)Yn=en[--tn],en[tn]=null,bn=en[--tn],en[tn]=null,_n=en[--tn],en[tn]=null}function Md(e,t){en[tn++]=_n,en[tn++]=bn,en[tn++]=Yn,_n=t.id,bn=t.overflow,Yn=e}var yt=null,He=null,Se=!1,Pn=null,nn=!1,vo=Error(l(519));function Kn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ii(Wt(t,e)),vo}function Bd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[pt]=e,t[jt]=s,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<Oi.length;n++)ve(Oi[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Fc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Wc(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||n0(t.textContent,n)?(s.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),s.onScroll!=null&&ve("scroll",t),s.onScrollEnd!=null&&ve("scrollend",t),s.onClick!=null&&(t.onclick=xn),t=!0):t=!1,t||Kn(e,!0)}function zd(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:yt=yt.return}}function sr(e){if(e!==yt)return!1;if(!Se)return zd(e),Se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lu(e.type,e.memoizedProps)),n=!n),n&&He&&Kn(e),zd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=d0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=d0(e)}else t===27?(t=He,la(e.type)?(e=Gu,Gu=null,He=e):He=t):He=yt?rn(e.stateNode.nextSibling):null;return!0}function xa(){He=yt=null,Se=!1}function _o(){var e=Pn;return e!==null&&(It===null?It=e:It.push.apply(It,e),Pn=null),e}function ii(e){Pn===null?Pn=[e]:Pn.push(e)}var bo=A(null),Ta=null,Nn=null;function Xn(e,t,n){P(bo,t._currentValue),t._currentValue=n}function Rn(e){e._currentValue=bo.current,z(bo)}function Eo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function wo(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var b=0;b<t.length;b++)if(v.context===t[b]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),Eo(u.return,n,e),s||(f=null);break e}u=v.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(l(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),Eo(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function lr(e,t,n,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var v=o.type;Bt(o.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(o===Ae.current){if(f=o.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Di):e=[Di])}o=o.return}e!==null&&wo(t,e,n,s),t.flags|=262144}function _s(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ta=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Hd(Ta,e)}function bs(e,t){return Ta===null&&Aa(e),Hd(e,t)}function Hd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Nn===null){if(e===null)throw Error(l(308));Nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Nn=Nn.next=t;return n}var dy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hy=r.unstable_scheduleCallback,fy=r.unstable_NormalPriority,tt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function So(){return{controller:new dy,data:new Map,refCount:0}}function si(e){e.refCount--,e.refCount===0&&hy(fy,function(){e.controller.abort()})}var li=null,xo=0,or=0,ur=null;function my(e,t){if(li===null){var n=li=[];xo=0,or=Ou(),ur={status:"pending",value:void 0,then:function(s){n.push(s)}}}return xo++,t.then(Gd,Gd),t}function Gd(){if(--xo===0&&li!==null){ur!==null&&(ur.status="fulfilled");var e=li;li=null,or=0,ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gy(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var qd=I.S;I.S=function(e,t){Af=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&my(e,t),qd!==null&&qd(e,t)};var Oa=A(null);function To(){var e=Oa.current;return e!==null?e:Be.pooledCache}function Es(e,t){t===null?P(Oa,Oa.current):P(Oa,t.pool)}function Vd(){var e=To();return e===null?null:{parent:tt._currentValue,pool:e}}var cr=Error(l(460)),Ao=Error(l(474)),ws=Error(l(542)),Ss={then:function(){}};function $d(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xn,xn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e;default:if(typeof t.status=="string")t.then(xn,xn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kd(e),e}throw Ra=t,cr}}function Na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ra=n,cr):n}}var Ra=null;function Pd(){if(Ra===null)throw Error(l(459));var e=Ra;return Ra=null,e}function Kd(e){if(e===cr||e===ws)throw Error(l(483))}var dr=null,oi=0;function xs(e){var t=oi;return oi+=1,dr===null&&(dr=[]),Yd(dr,e,t)}function ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ts(e,t){throw t.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xd(e){function t(O,x){if(e){var N=O.deletions;N===null?(O.deletions=[x],O.flags|=16):N.push(x)}}function n(O,x){if(!e)return null;for(;x!==null;)t(O,x),x=x.sibling;return null}function s(O){for(var x=new Map;O!==null;)O.key!==null?x.set(O.key,O):x.set(O.index,O),O=O.sibling;return x}function o(O,x){return O=An(O,x),O.index=0,O.sibling=null,O}function u(O,x,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<x?(O.flags|=67108866,x):N):(O.flags|=67108866,x)):(O.flags|=1048576,x)}function f(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,x,N,L){return x===null||x.tag!==6?(x=mo(N,O.mode,L),x.return=O,x):(x=o(x,N),x.return=O,x)}function b(O,x,N,L){var Z=N.type;return Z===D?k(O,x,N.props.children,L,N.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===fe&&Na(Z)===x.type)?(x=o(x,N.props),ui(x,N),x.return=O,x):(x=ys(N.type,N.key,N.props,null,O.mode,L),ui(x,N),x.return=O,x)}function R(O,x,N,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=go(N,O.mode,L),x.return=O,x):(x=o(x,N.children||[]),x.return=O,x)}function k(O,x,N,L,Z){return x===null||x.tag!==7?(x=Sa(N,O.mode,L,Z),x.return=O,x):(x=o(x,N),x.return=O,x)}function B(O,x,N){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=mo(""+x,O.mode,N),x.return=O,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return N=ys(x.type,x.key,x.props,null,O.mode,N),ui(N,x),N.return=O,N;case T:return x=go(x,O.mode,N),x.return=O,x;case fe:return x=Na(x),B(O,x,N)}if(Rt(x)||Ye(x))return x=Sa(x,O.mode,N,null),x.return=O,x;if(typeof x.then=="function")return B(O,xs(x),N);if(x.$$typeof===M)return B(O,bs(O,x),N);Ts(O,x)}return null}function C(O,x,N,L){var Z=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Z!==null?null:v(O,x,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===Z?b(O,x,N,L):null;case T:return N.key===Z?R(O,x,N,L):null;case fe:return N=Na(N),C(O,x,N,L)}if(Rt(N)||Ye(N))return Z!==null?null:k(O,x,N,L,null);if(typeof N.then=="function")return C(O,x,xs(N),L);if(N.$$typeof===M)return C(O,x,bs(O,N),L);Ts(O,N)}return null}function U(O,x,N,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return O=O.get(N)||null,v(x,O,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return O=O.get(L.key===null?N:L.key)||null,b(x,O,L,Z);case T:return O=O.get(L.key===null?N:L.key)||null,R(x,O,L,Z);case fe:return L=Na(L),U(O,x,N,L,Z)}if(Rt(L)||Ye(L))return O=O.get(N)||null,k(x,O,L,Z,null);if(typeof L.then=="function")return U(O,x,N,xs(L),Z);if(L.$$typeof===M)return U(O,x,N,bs(x,L),Z);Ts(x,L)}return null}function J(O,x,N,L){for(var Z=null,Oe=null,Q=x,de=x=0,Ee=null;Q!==null&&de<N.length;de++){Q.index>de?(Ee=Q,Q=null):Ee=Q.sibling;var Ne=C(O,Q,N[de],L);if(Ne===null){Q===null&&(Q=Ee);break}e&&Q&&Ne.alternate===null&&t(O,Q),x=u(Ne,x,de),Oe===null?Z=Ne:Oe.sibling=Ne,Oe=Ne,Q=Ee}if(de===N.length)return n(O,Q),Se&&On(O,de),Z;if(Q===null){for(;de<N.length;de++)Q=B(O,N[de],L),Q!==null&&(x=u(Q,x,de),Oe===null?Z=Q:Oe.sibling=Q,Oe=Q);return Se&&On(O,de),Z}for(Q=s(Q);de<N.length;de++)Ee=U(Q,O,de,N[de],L),Ee!==null&&(e&&Ee.alternate!==null&&Q.delete(Ee.key===null?de:Ee.key),x=u(Ee,x,de),Oe===null?Z=Ee:Oe.sibling=Ee,Oe=Ee);return e&&Q.forEach(function(ha){return t(O,ha)}),Se&&On(O,de),Z}function W(O,x,N,L){if(N==null)throw Error(l(151));for(var Z=null,Oe=null,Q=x,de=x=0,Ee=null,Ne=N.next();Q!==null&&!Ne.done;de++,Ne=N.next()){Q.index>de?(Ee=Q,Q=null):Ee=Q.sibling;var ha=C(O,Q,Ne.value,L);if(ha===null){Q===null&&(Q=Ee);break}e&&Q&&ha.alternate===null&&t(O,Q),x=u(ha,x,de),Oe===null?Z=ha:Oe.sibling=ha,Oe=ha,Q=Ee}if(Ne.done)return n(O,Q),Se&&On(O,de),Z;if(Q===null){for(;!Ne.done;de++,Ne=N.next())Ne=B(O,Ne.value,L),Ne!==null&&(x=u(Ne,x,de),Oe===null?Z=Ne:Oe.sibling=Ne,Oe=Ne);return Se&&On(O,de),Z}for(Q=s(Q);!Ne.done;de++,Ne=N.next())Ne=U(Q,O,de,Ne.value,L),Ne!==null&&(e&&Ne.alternate!==null&&Q.delete(Ne.key===null?de:Ne.key),x=u(Ne,x,de),Oe===null?Z=Ne:Oe.sibling=Ne,Oe=Ne);return e&&Q.forEach(function(Av){return t(O,Av)}),Se&&On(O,de),Z}function Le(O,x,N,L){if(typeof N=="object"&&N!==null&&N.type===D&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:e:{for(var Z=N.key;x!==null;){if(x.key===Z){if(Z=N.type,Z===D){if(x.tag===7){n(O,x.sibling),L=o(x,N.props.children),L.return=O,O=L;break e}}else if(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===fe&&Na(Z)===x.type){n(O,x.sibling),L=o(x,N.props),ui(L,N),L.return=O,O=L;break e}n(O,x);break}else t(O,x);x=x.sibling}N.type===D?(L=Sa(N.props.children,O.mode,L,N.key),L.return=O,O=L):(L=ys(N.type,N.key,N.props,null,O.mode,L),ui(L,N),L.return=O,O=L)}return f(O);case T:e:{for(Z=N.key;x!==null;){if(x.key===Z)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(O,x.sibling),L=o(x,N.children||[]),L.return=O,O=L;break e}else{n(O,x);break}else t(O,x);x=x.sibling}L=go(N,O.mode,L),L.return=O,O=L}return f(O);case fe:return N=Na(N),Le(O,x,N,L)}if(Rt(N))return J(O,x,N,L);if(Ye(N)){if(Z=Ye(N),typeof Z!="function")throw Error(l(150));return N=Z.call(N),W(O,x,N,L)}if(typeof N.then=="function")return Le(O,x,xs(N),L);if(N.$$typeof===M)return Le(O,x,bs(O,N),L);Ts(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,x!==null&&x.tag===6?(n(O,x.sibling),L=o(x,N),L.return=O,O=L):(n(O,x),L=mo(N,O.mode,L),L.return=O,O=L),f(O)):n(O,x)}return function(O,x,N,L){try{oi=0;var Z=Le(O,x,N,L);return dr=null,Z}catch(Q){if(Q===cr||Q===ws)throw Q;var Oe=zt(29,Q,null,O.mode);return Oe.lanes=L,Oe.return=O,Oe}finally{}}}var ja=Xd(!0),Jd=Xd(!1),Jn=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ps(e),Dd(e,null,n),t}return gs(e,s,t,n),ps(e)}function ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hc(e,n)}}function Ro(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function di(){if(jo){var e=ur;if(e!==null)throw e}}function hi(e,t,n,s){jo=!1;var o=e.updateQueue;Jn=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var b=v,R=b.next;b.next=null,f===null?u=R:f.next=R,f=b;var k=e.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==f&&(v===null?k.firstBaseUpdate=R:v.next=R,k.lastBaseUpdate=b))}if(u!==null){var B=o.baseState;f=0,k=R=b=null,v=u;do{var C=v.lane&-536870913,U=C!==v.lane;if(U?(be&C)===C:(s&C)===C){C!==0&&C===or&&(jo=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var J=e,W=v;C=t;var Le=n;switch(W.tag){case 1:if(J=W.payload,typeof J=="function"){B=J.call(Le,B,C);break e}B=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=W.payload,C=typeof J=="function"?J.call(Le,B,C):J,C==null)break e;B=w({},B,C);break e;case 2:Jn=!0}}C=v.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[C]:U.push(C))}else U={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(R=k=U,b=B):k=k.next=U,f|=C;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;U=v,v=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);k===null&&(b=B),o.baseState=b,o.firstBaseUpdate=R,o.lastBaseUpdate=k,u===null&&(o.shared.lanes=0),na|=f,e.lanes=f,e.memoizedState=B}}function Qd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Fd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Qd(n[e],t)}var hr=A(null),As=A(0);function Zd(e,t){e=Bn,P(As,e),P(hr,t),Bn=e|t.baseLanes}function Co(){P(As,Bn),P(hr,hr.current)}function Do(){Bn=As.current,z(hr),z(As)}var Ht=A(null),an=null;function Zn(e){var t=e.alternate;P(Ze,Ze.current&1),P(Ht,e),an===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(an=e)}function Uo(e){P(Ze,Ze.current),P(Ht,e),an===null&&(an=e)}function Wd(e){e.tag===22?(P(Ze,Ze.current),P(Ht,e),an===null&&(an=e)):Wn()}function Wn(){P(Ze,Ze.current),P(Ht,Ht.current)}function Gt(e){z(Ht),an===e&&(an=null),z(Ze)}var Ze=A(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zu(n)||Hu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,ue=null,ke=null,nt=null,Ns=!1,fr=!1,Ca=!1,Rs=0,fi=0,mr=null,py=0;function Xe(){throw Error(l(321))}function ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Io(e,t,n,s,o,u){return jn=u,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Lh:Qo,Ca=!1,u=n(s,o),Ca=!1,fr&&(u=th(t,n,s,o)),eh(e),u}function eh(e){I.H=pi;var t=ke!==null&&ke.next!==null;if(jn=0,nt=ke=ue=null,Ns=!1,fi=0,mr=null,t)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&_s(e)&&(at=!0))}function th(e,t,n,s){ue=e;var o=0;do{if(fr&&(mr=null),fi=0,fr=!1,25<=o)throw Error(l(301));if(o+=1,nt=ke=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}I.H=Mh,u=t(n,s)}while(fr);return u}function yy(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?mi(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ue.flags|=1024),t}function Lo(){var e=Rs!==0;return Rs=0,e}function Mo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bo(e){if(Ns){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ns=!1}jn=0,nt=ke=ue=null,fr=!1,fi=Rs=0,mr=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ue.memoizedState=nt=e:nt=nt.next=e,nt}function We(){if(ke===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=nt===null?ue.memoizedState:nt.next;if(t!==null)nt=t,ke=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},nt===null?ue.memoizedState=nt=e:nt=nt.next=e}return nt}function js(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mi(e){var t=fi;return fi+=1,mr===null&&(mr=[]),e=Yd(mr,e,t),t=ue,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Lh:Qo),e}function Cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mi(e);if(e.$$typeof===M)return vt(e)}throw Error(l(438,String(e)))}function zo(e){var t=null,n=ue.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=js(),ue.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ut;return t.index++,n}function Cn(e,t){return typeof t=="function"?t(e):t}function Ds(e){var t=We();return Ho(t,ke,e)}function Ho(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=f=null,b=null,R=t,k=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(be&B)===B:(jn&B)===B){var C=R.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===or&&(k=!0);else if((jn&C)===C){R=R.next,C===or&&(k=!0);continue}else B={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(v=b=B,f=u):b=b.next=B,ue.lanes|=C,na|=C;B=R.action,Ca&&n(u,B),u=R.hasEagerState?R.eagerState:n(u,B)}else C={lane:B,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(v=b=C,f=u):b=b.next=C,ue.lanes|=B,na|=B;R=R.next}while(R!==null&&R!==t);if(b===null?f=u:b.next=v,!Bt(u,e.memoizedState)&&(at=!0,k&&(n=ur,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=b,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Go(e){var t=We(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);Bt(u,t.memoizedState)||(at=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function nh(e,t,n){var s=ue,o=We(),u=Se;if(u){if(n===void 0)throw Error(l(407));n=n()}else n=t();var f=!Bt((ke||o).memoizedState,n);if(f&&(o.memoizedState=n,at=!0),o=o.queue,$o(ih.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||nt!==null&&nt.memoizedState.tag&1){if(s.flags|=2048,gr(9,{destroy:void 0},rh.bind(null,s,o,n,t),null),Be===null)throw Error(l(349));u||(jn&127)!==0||ah(s,t,n)}return n}function ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t=js(),ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rh(e,t,n,s){t.value=n,t.getSnapshot=s,sh(t)&&lh(e)}function ih(e,t,n){return n(function(){sh(t)&&lh(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function lh(e){var t=wa(e,2);t!==null&&Lt(t,e,2)}function qo(e){var t=At();if(typeof e=="function"){var n=e;if(e=n(),Ca){Fe(!0);try{n()}finally{Fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},t}function oh(e,t,n,s){return e.baseState=n,Ho(e,ke,typeof s=="function"?s:Cn)}function vy(e,t,n,s,o){if(Is(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};I.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,uh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function uh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=I.T,f={};I.T=f;try{var v=n(o,s),b=I.S;b!==null&&b(f,v),ch(e,t,v)}catch(R){Vo(e,t,R)}finally{u!==null&&f.types!==null&&(u.types=f.types),I.T=u}}else try{u=n(o,s),ch(e,t,u)}catch(R){Vo(e,t,R)}}function ch(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){dh(e,t,s)},function(s){return Vo(e,t,s)}):dh(e,t,n)}function dh(e,t,n){t.status="fulfilled",t.value=n,hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,uh(e,n)))}function Vo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,hh(t),t=t.next;while(t!==s)}e.action=null}function hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fh(e,t){return t}function mh(e,t){if(Se){var n=Be.formState;if(n!==null){e:{var s=ue;if(Se){if(He){t:{for(var o=He,u=nn;o.nodeType!==8;){if(!u){o=null;break t}if(o=rn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){He=rn(o.nextSibling),s=o.data==="F!";break e}}Kn(s)}s=!1}s&&(t=n[0])}}return n=At(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},n.queue=s,n=Uh.bind(null,ue,s),s.dispatch=n,s=qo(!1),u=Jo.bind(null,ue,!1,s.queue),s=At(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=vy.bind(null,ue,o,u,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function gh(e){var t=We();return ph(t,ke,e)}function ph(e,t,n){if(t=Ho(e,t,fh)[0],e=Ds(Cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=mi(t)}catch(f){throw f===cr?ws:f}else s=t;t=We();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ue.flags|=2048,gr(9,{destroy:void 0},_y.bind(null,o,n),null)),[s,u,e]}function _y(e,t){e.action=t}function yh(e){var t=We(),n=ke;if(n!==null)return ph(t,n,e);We(),t=t.memoizedState,n=We();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function gr(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ue.updateQueue,t===null&&(t=js(),ue.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function vh(){return We().memoizedState}function Us(e,t,n,s){var o=At();ue.flags|=e,o.memoizedState=gr(1|t,{destroy:void 0},n,s===void 0?null:s)}function ks(e,t,n,s){var o=We();s=s===void 0?null:s;var u=o.memoizedState.inst;ke!==null&&s!==null&&ko(s,ke.memoizedState.deps)?o.memoizedState=gr(t,u,n,s):(ue.flags|=e,o.memoizedState=gr(1|t,u,n,s))}function _h(e,t){Us(8390656,8,e,t)}function $o(e,t){ks(2048,8,e,t)}function by(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=js(),ue.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bh(e){var t=We().memoizedState;return by({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Eh(e,t){return ks(4,2,e,t)}function wh(e,t){return ks(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,n){n=n!=null?n.concat([e]):null,ks(4,4,Sh.bind(null,t,e),n)}function Yo(){}function Th(e,t){var n=We();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&ko(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ah(e,t){var n=We();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&ko(t,s[1]))return s[0];if(s=e(),Ca){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[s,t],s}function Po(e,t,n){return n===void 0||(jn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Nf(),ue.lanes|=e,na|=e,n)}function Oh(e,t,n,s){return Bt(n,t)?n:hr.current!==null?(e=Po(e,n,s),Bt(e,t)||(at=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(be&261930)===0?(at=!0,e.memoizedState=n):(e=Nf(),ue.lanes|=e,na|=e,t)}function Nh(e,t,n,s,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var f=I.T,v={};I.T=v,Jo(e,!1,t,n);try{var b=o(),R=I.S;if(R!==null&&R(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=gy(b,s);gi(e,t,k,$t(e))}else gi(e,t,s,$t(e))}catch(B){gi(e,t,{then:function(){},status:"rejected",reason:B},$t())}finally{Y.p=u,f!==null&&v.types!==null&&(f.types=v.types),I.T=f}}function Ey(){}function Ko(e,t,n,s){if(e.tag!==5)throw Error(l(476));var o=Rh(e).queue;Nh(e,o,t,ee,n===null?Ey:function(){return jh(e),n(s)})}function Rh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jh(e){var t=Rh(e);t.next===null&&(t=e.alternate.memoizedState),gi(e,t.next.queue,{},$t())}function Xo(){return vt(Di)}function Ch(){return We().memoizedState}function Dh(){return We().memoizedState}function wy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=$t();e=Qn(n);var s=Fn(t,e,n);s!==null&&(Lt(s,t,n),ci(s,t,n)),t={cache:So()},e.payload=t;return}t=t.return}}function Sy(e,t,n){var s=$t();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Is(e)?kh(t,n):(n=ho(e,t,n,s),n!==null&&(Lt(n,e,s),Ih(n,t,s)))}function Uh(e,t,n){var s=$t();gi(e,t,n,s)}function gi(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Is(e))kh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,v=u(f,n);if(o.hasEagerState=!0,o.eagerState=v,Bt(v,f))return gs(e,t,o,0),Be===null&&ms(),!1}catch{}finally{}if(n=ho(e,t,o,s),n!==null)return Lt(n,e,s),Ih(n,t,s),!0}return!1}function Jo(e,t,n,s){if(s={lane:2,revertLane:Ou(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Is(e)){if(t)throw Error(l(479))}else t=ho(e,n,s,2),t!==null&&Lt(t,e,2)}function Is(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function kh(e,t){fr=Ns=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ih(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hc(e,n)}}var pi={readContext:vt,use:Cs,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};pi.useEffectEvent=Xe;var Lh={readContext:vt,use:Cs,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:_h,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Us(4194308,4,Sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=At();t=t===void 0?null:t;var s=e();if(Ca){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=At();if(n!==void 0){var o=n(t);if(Ca){Fe(!0);try{n(t)}finally{Fe(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Sy.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:function(e){e=qo(e);var t=e.queue,n=Uh.bind(null,ue,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yo,useDeferredValue:function(e,t){var n=At();return Po(n,e,t)},useTransition:function(){var e=qo(!1);return e=Nh.bind(null,ue,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ue,o=At();if(Se){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Be===null)throw Error(l(349));(be&127)!==0||ah(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,_h(ih.bind(null,s,u,e),[e]),s.flags|=2048,gr(9,{destroy:void 0},rh.bind(null,s,u,n,t),null),n},useId:function(){var e=At(),t=Be.identifierPrefix;if(Se){var n=bn,s=_n;n=(s&~(1<<32-et(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=py++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xo,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=At();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jo.bind(null,ue,!0,n),n.dispatch=t,[e,t]},useMemoCache:zo,useCacheRefresh:function(){return At().memoizedState=wy.bind(null,ue)},useEffectEvent:function(e){var t=At(),n={impl:e};return t.memoizedState=n,function(){if((Re&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Qo={readContext:vt,use:Cs,useCallback:Th,useContext:vt,useEffect:$o,useImperativeHandle:xh,useInsertionEffect:Eh,useLayoutEffect:wh,useMemo:Ah,useReducer:Ds,useRef:vh,useState:function(){return Ds(Cn)},useDebugValue:Yo,useDeferredValue:function(e,t){var n=We();return Oh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Ds(Cn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:mi(e),t]},useSyncExternalStore:nh,useId:Ch,useHostTransitionStatus:Xo,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var n=We();return oh(n,ke,e,t)},useMemoCache:zo,useCacheRefresh:Dh};Qo.useEffectEvent=bh;var Mh={readContext:vt,use:Cs,useCallback:Th,useContext:vt,useEffect:$o,useImperativeHandle:xh,useInsertionEffect:Eh,useLayoutEffect:wh,useMemo:Ah,useReducer:Go,useRef:vh,useState:function(){return Go(Cn)},useDebugValue:Yo,useDeferredValue:function(e,t){var n=We();return ke===null?Po(n,e,t):Oh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Go(Cn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:mi(e),t]},useSyncExternalStore:nh,useId:Ch,useHostTransitionStatus:Xo,useFormState:yh,useActionState:yh,useOptimistic:function(e,t){var n=We();return ke!==null?oh(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zo,useCacheRefresh:Dh};Mh.useEffectEvent=bh;function Fo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zo={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$t(),o=Qn(s);o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&(Lt(t,e,s),ci(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$t(),o=Qn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&(Lt(t,e,s),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),s=Qn(n);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,n),t!==null&&(Lt(t,e,n),ci(t,e,n))}};function Bh(e,t,n,s,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,f):t.prototype&&t.prototype.isPureReactComponent?!ni(n,s)||!ni(o,u):!0}function zh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function Da(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Hh(e){fs(e)}function Gh(e){console.error(e)}function qh(e){fs(e)}function Ls(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Vh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Wo(e,t,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ls(e,t)},n}function $h(e){return e=Qn(e),e.tag=3,e}function Yh(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Vh(t,n,s)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Vh(t,n,s),typeof o!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function xy(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&lr(t,n,o,!0),n=Ht.current,n!==null){switch(n.tag){case 31:case 13:return an===null?Xs():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===Ss?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),xu(e,s,o)),!1;case 22:return n.flags|=65536,s===Ss?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),xu(e,s,o)),!1}throw Error(l(435,n.tag))}return xu(e,s,o),Xs(),!1}if(Se)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==vo&&(e=Error(l(422),{cause:s}),ii(Wt(e,n)))):(s!==vo&&(t=Error(l(423),{cause:s}),ii(Wt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Wt(s,n),o=Wo(e.stateNode,s,o),Ro(e,o),Je!==4&&(Je=2)),!1;var u=Error(l(520),{cause:s});if(u=Wt(u,n),xi===null?xi=[u]:xi.push(u),Je!==4&&(Je=2),t===null)return!0;s=Wt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Wo(n.stateNode,s,e),Ro(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(aa===null||!aa.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=$h(o),Yh(o,e,n,s),Ro(n,o),!1}n=n.return}while(n!==null);return!1}var eu=Error(l(461)),at=!1;function _t(e,t,n,s){t.child=e===null?Jd(t,null,n,s):ja(t,e.child,n,s)}function Ph(e,t,n,s,o){n=n.render;var u=t.ref;if("ref"in s){var f={};for(var v in s)v!=="ref"&&(f[v]=s[v])}else f=s;return Aa(t),s=Io(e,t,n,f,u,o),v=Lo(),e!==null&&!at?(Mo(e,t,o),Dn(e,t,o)):(Se&&v&&po(t),t.flags|=1,_t(e,t,s,o),t.child)}function Kh(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!fo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Xh(e,t,u,s,o)):(e=ys(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!ou(e,o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(f,s)&&e.ref===t.ref)return Dn(e,t,o)}return t.flags|=1,e=An(u,s),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if(ni(u,s)&&e.ref===t.ref)if(at=!1,t.pendingProps=s=u,ou(e,o))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Dn(e,t,o)}return tu(e,t,n,s,o)}function Jh(e,t,n,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Qh(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Es(t,u!==null?u.cachePool:null),u!==null?Zd(t,u):Co(),Wd(t);else return s=t.lanes=536870912,Qh(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(Es(t,u.cachePool),Zd(t,u),Wn(),t.memoizedState=null):(e!==null&&Es(t,null),Co(),Wn());return _t(e,t,o,n),t.child}function yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qh(e,t,n,s,o){var u=To();return u=u===null?null:{parent:tt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Es(t,null),Co(),Wd(t),e!==null&&lr(e,t,s,!0),t.childLanes=o,null}function Ms(e,t){return t=zs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,n){return ja(t,e.child,null,n),e=Ms(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Ty(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(s.mode==="hidden")return e=Ms(t,s),t.lanes=536870912,yi(null,e);if(Uo(t),(e=He)?(e=c0(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:_n,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},n=kd(e),n.return=t,t.child=n,yt=t,He=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return Ms(t,s)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(Uo(t),o)if(t.flags&256)t.flags&=-257,t=Fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(at||lr(e,t,n,!1),o=(n&e.childLanes)!==0,at||o){if(s=Be,s!==null&&(f=Gc(s,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,wa(e,f),Lt(s,e,f),eu;Xs(),t=Fh(e,t,n)}else e=u.treeContext,He=rn(f.nextSibling),yt=t,Se=!0,Pn=null,nn=!1,e!==null&&Md(t,e),t=Ms(t,s),t.flags|=4096;return t}return e=An(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function tu(e,t,n,s,o){return Aa(t),n=Io(e,t,n,s,void 0,o),s=Lo(),e!==null&&!at?(Mo(e,t,o),Dn(e,t,o)):(Se&&s&&po(t),t.flags|=1,_t(e,t,n,o),t.child)}function Zh(e,t,n,s,o,u){return Aa(t),t.updateQueue=null,n=th(t,s,n,o),eh(e),s=Lo(),e!==null&&!at?(Mo(e,t,u),Dn(e,t,u)):(Se&&s&&po(t),t.flags|=1,_t(e,t,n,u),t.child)}function Wh(e,t,n,s,o){if(Aa(t),t.stateNode===null){var u=ar,f=n.contextType;typeof f=="object"&&f!==null&&(u=vt(f)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Zo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Oo(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?vt(f):ar,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Fo(t,n,f,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Zo.enqueueReplaceState(u,u.state,null),hi(t,s,u,o),di(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,b=Da(n,v);u.props=b;var R=u.context,k=n.contextType;f=ar,typeof k=="object"&&k!==null&&(f=vt(k));var B=n.getDerivedStateFromProps;k=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,k||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||R!==f)&&zh(t,u,s,f),Jn=!1;var C=t.memoizedState;u.state=C,hi(t,s,u,o),di(),R=t.memoizedState,v||C!==R||Jn?(typeof B=="function"&&(Fo(t,n,B,s),R=t.memoizedState),(b=Jn||Bh(t,n,b,s,C,R,f))?(k||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),u.props=s,u.state=R,u.context=f,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,No(e,t),f=t.memoizedProps,k=Da(n,f),u.props=k,B=t.pendingProps,C=u.context,R=n.contextType,b=ar,typeof R=="object"&&R!==null&&(b=vt(R)),v=n.getDerivedStateFromProps,(R=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==B||C!==b)&&zh(t,u,s,b),Jn=!1,C=t.memoizedState,u.state=C,hi(t,s,u,o),di();var U=t.memoizedState;f!==B||C!==U||Jn||e!==null&&e.dependencies!==null&&_s(e.dependencies)?(typeof v=="function"&&(Fo(t,n,v,s),U=t.memoizedState),(k=Jn||Bh(t,n,k,s,C,U,b)||e!==null&&e.dependencies!==null&&_s(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,U,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,U,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),u.props=s,u.state=U,u.context=b,s=k):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Bs(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ja(t,e.child,null,o),t.child=ja(t,null,n,o)):_t(e,t,n,o),t.memoizedState=u.state,e=t.child):e=Dn(e,t,o),e}function ef(e,t,n,s){return xa(),t.flags|=256,_t(e,t,n,s),t.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:Vd()}}function ru(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vt),e}function tf(e,t,n){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?Zn(t):Wn(),(e=He)?(e=c0(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:_n,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},n=kd(e),n.return=t,t.child=n,yt=t,He=null)):e=null,e===null)throw Kn(t);return Hu(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Wn(),o=t.mode,v=zs({mode:"hidden",children:v},o),s=Sa(s,o,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=au(n),s.childLanes=ru(e,f,n),t.memoizedState=nu,yi(null,s)):(Zn(t),iu(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(u)t.flags&256?(Zn(t),t.flags&=-257,t=su(e,t,n)):t.memoizedState!==null?(Wn(),t.child=e.child,t.flags|=128,t=null):(Wn(),v=s.fallback,o=t.mode,s=zs({mode:"visible",children:s.children},o),v=Sa(v,o,n,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,ja(t,e.child,null,n),s=t.child,s.memoizedState=au(n),s.childLanes=ru(e,f,n),t.memoizedState=nu,t=yi(null,s));else if(Zn(t),Hu(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var R=f.dgst;f=R,s=Error(l(419)),s.stack="",s.digest=f,ii({value:s,source:null,stack:null}),t=su(e,t,n)}else if(at||lr(e,t,n,!1),f=(n&e.childLanes)!==0,at||f){if(f=Be,f!==null&&(s=Gc(f,n),s!==0&&s!==b.retryLane))throw b.retryLane=s,wa(e,s),Lt(f,e,s),eu;zu(v)||Xs(),t=su(e,t,n)}else zu(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,He=rn(v.nextSibling),yt=t,Se=!0,Pn=null,nn=!1,e!==null&&Md(t,e),t=iu(t,s.children),t.flags|=4096);return t}return o?(Wn(),v=s.fallback,o=t.mode,b=e.child,R=b.sibling,s=An(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,R!==null?v=An(R,v):(v=Sa(v,o,n,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,yi(null,s),s=t.child,v=e.child.memoizedState,v===null?v=au(n):(o=v.cachePool,o!==null?(b=tt._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=Vd(),v={baseLanes:v.baseLanes|n,cachePool:o}),s.memoizedState=v,s.childLanes=ru(e,f,n),t.memoizedState=nu,yi(e.child,s)):(Zn(t),n=e.child,e=n.sibling,n=An(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function iu(e,t){return t=zs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zs(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function su(e,t,n){return ja(t,e.child,null,n),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Eo(e.return,t,n)}function lu(e,t,n,s,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=n,f.tailMode=o,f.treeForkCount=u)}function af(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var f=Ze.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,P(Ze,f),_t(e,t,s,n),s=Se?ri:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Os(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),lu(t,!1,o,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Os(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}lu(t,!0,n,null,u,s);break;case"together":lu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),na|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(lr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_s(e)))}function Ay(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Xn(t,tt,e.memoizedState.cache),xa();break;case 27:case 5:ga(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?tf(e,t,n):(Zn(t),e=Dn(e,t,n),e!==null?e.sibling:null);Zn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(lr(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return af(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(Ze,Ze.current),s)break;return null;case 22:return t.lanes=0,Jh(e,t,n,t.pendingProps);case 24:Xn(t,tt,e.memoizedState.cache)}return Dn(e,t,n)}function rf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!ou(e,n)&&(t.flags&128)===0)return at=!1,Ay(e,t,n);at=(e.flags&131072)!==0}else at=!1,Se&&(t.flags&1048576)!==0&&Ld(t,ri,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Na(t.elementType),t.type=e,typeof e=="function")fo(e)?(s=Da(e,s),t.tag=1,t=Wh(null,t,e,s,n)):(t.tag=0,t=tu(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===q){t.tag=11,t=Ph(null,t,e,s,n);break e}else if(o===G){t.tag=14,t=Kh(null,t,e,s,n);break e}}throw t=ct(e)||e,Error(l(306,t,""))}}return t;case 0:return tu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=Da(s,t.pendingProps),Wh(e,t,s,o,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,No(e,t),hi(t,s,null,n);var f=t.memoizedState;if(s=f.cache,Xn(t,tt,s),s!==u.cache&&wo(t,[tt],n,!0),di(),s=f.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ef(e,t,s,n);break e}else if(s!==o){o=Wt(Error(l(424)),t),ii(o),t=ef(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=rn(e.firstChild),yt=t,Se=!0,Pn=null,nn=!0,n=Jd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xa(),s===o){t=Dn(e,t,n);break e}_t(e,t,s,n)}t=t.child}return t;case 26:return Bs(e,t),e===null?(n=p0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Se||(n=t.type,e=t.pendingProps,s=tl(he.current).createElement(n),s[pt]=t,s[jt]=e,bt(s,n,e),ht(s),t.stateNode=s):t.memoizedState=p0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ga(t),e===null&&Se&&(s=t.stateNode=f0(t.type,t.pendingProps,he.current),yt=t,nn=!0,o=He,la(t.type)?(Gu=o,He=rn(s.firstChild)):He=o),_t(e,t,t.pendingProps.children,n),Bs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=s=He)&&(s=nv(s,t.type,t.pendingProps,nn),s!==null?(t.stateNode=s,yt=t,He=rn(s.firstChild),nn=!1,o=!0):o=!1),o||Kn(t)),ga(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,s=u.children,Lu(o,u)?s=null:f!==null&&Lu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=Io(e,t,yy,null,null,n),Di._currentValue=o),Bs(e,t),_t(e,t,s,n),t.child;case 6:return e===null&&Se&&((e=n=He)&&(n=av(n,t.pendingProps,nn),n!==null?(t.stateNode=n,yt=t,He=null,e=!0):e=!1),e||Kn(t)),null;case 13:return tf(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ja(t,null,s,n):_t(e,t,s,n),t.child;case 11:return Ph(e,t,t.type,t.pendingProps,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Xn(t,t.type,s.value),_t(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Aa(t),o=vt(o),s=s(o),t.flags|=1,_t(e,t,s,n),t.child;case 14:return Kh(e,t,t.type,t.pendingProps,n);case 15:return Xh(e,t,t.type,t.pendingProps,n);case 19:return af(e,t,n);case 31:return Ty(e,t,n);case 22:return Jh(e,t,n,t.pendingProps);case 24:return Aa(t),s=vt(tt),e===null?(o=To(),o===null&&(o=Be,u=So(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:s,cache:o},Oo(t),Xn(t,tt,o)):((e.lanes&n)!==0&&(No(e,t),hi(t,null,null,n),di()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xn(t,tt,s)):(s=u.cache,Xn(t,tt,s),s!==o.cache&&wo(t,[tt],n,!0))),_t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Un(e){e.flags|=4}function uu(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw Ra=Ss,Ao}else e.flags&=-16777217}function sf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E0(t))if(Df())e.flags|=8192;else throw Ra=Ss,Ao}function Hs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bc():536870912,e.lanes|=t,_r|=t)}function vi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Oy(e,t,n){var s=t.pendingProps;switch(yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Rn(tt),Ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sr(t)?Un(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_o())),Ge(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Un(t),u!==null?(Ge(t),sf(t,u)):(Ge(t),uu(t,o,null,s,n))):u?u!==e.memoizedState?(Un(t),Ge(t),sf(t,u)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Un(t),Ge(t),uu(t,o,e,s,n)),null;case 27:if(qa(t),n=he.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ge(t),null}e=X.current,sr(t)?Bd(t):(e=f0(o,s,n),t.stateNode=e,Un(t))}return Ge(t),null;case 5:if(qa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ge(t),null}if(u=X.current,sr(t))Bd(t);else{var f=tl(he.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?f.createElement(o,{is:s.is}):f.createElement(o)}}u[pt]=t,u[jt]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(bt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Un(t)}}return Ge(t),uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=he.current,sr(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=yt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[pt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||n0(e.nodeValue,n)),e||Kn(t,!0)}else e=tl(e).createTextNode(s),e[pt]=t,t.stateNode=e}return Ge(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=sr(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[pt]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else n=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=sr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[pt]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else o=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Hs(t,t.updateQueue),Ge(t),null);case 4:return Ve(),e===null&&Cu(t.stateNode.containerInfo),Ge(t),null;case 10:return Rn(t.type),Ge(t),null;case 19:if(z(Ze),s=t.memoizedState,s===null)return Ge(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)vi(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Os(e),u!==null){for(t.flags|=128,vi(s,!1),e=u.updateQueue,t.updateQueue=e,Hs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ud(n,e),n=n.sibling;return P(Ze,Ze.current&1|2),Se&&On(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&dt()>Ys&&(t.flags|=128,o=!0,vi(s,!1),t.lanes=4194304)}else{if(!o)if(e=Os(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Hs(t,e),vi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Se)return Ge(t),null}else 2*dt()-s.renderingStartTime>Ys&&n!==536870912&&(t.flags|=128,o=!0,vi(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Ze.current,P(Ze,o?n&1|2:n&1),Se&&On(t,s.treeForkCount),e):(Ge(t),null);case 22:case 23:return Gt(t),Do(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&Hs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&z(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Rn(tt),Ge(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ny(e,t){switch(yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(tt),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qa(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(l(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Ze),null;case 4:return Ve(),null;case 10:return Rn(t.type),null;case 22:case 23:return Gt(t),Do(),e!==null&&z(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rn(tt),null;case 25:return null;default:return null}}function lf(e,t){switch(yo(t),t.tag){case 3:Rn(tt),Ve();break;case 26:case 27:case 5:qa(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:z(Ze);break;case 10:Rn(t.type);break;case 22:case 23:Gt(t),Do(),e!==null&&z(Oa);break;case 24:Rn(tt)}}function _i(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var u=n.create,f=n.inst;s=u(),f.destroy=s}n=n.next}while(n!==o)}}catch(v){Ue(t,t.return,v)}}function ea(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var f=s.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,o=t;var b=n,R=v;try{R()}catch(k){Ue(o,b,k)}}}s=s.next}while(s!==u)}}catch(k){Ue(t,t.return,k)}}function of(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Fd(t,n)}catch(s){Ue(e,e.return,s)}}}function uf(e,t,n){n.props=Da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ue(e,t,s)}}function bi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Ue(e,t,o)}}function En(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ue(e,t,o)}else n.current=null}function cf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Ue(e,e.return,o)}}function cu(e,t,n){try{var s=e.stateNode;Qy(s,e.type,n,t),s[jt]=t}catch(o){Ue(e,e.return,o)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xn));else if(s!==4&&(s===27&&la(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}function Gs(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&la(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gs(e,t,n),e=e.sibling;e!==null;)Gs(e,t,n),e=e.sibling}function hf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,s,n),t[pt]=e,t[jt]=n}catch(u){Ue(e,e.return,u)}}var kn=!1,rt=!1,fu=!1,ff=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ry(e,t){if(e=e.containerInfo,ku=ol,e=xd(e),io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,v=-1,b=-1,R=0,k=0,B=e,C=null;t:for(;;){for(var U;B!==n||o!==0&&B.nodeType!==3||(v=f+o),B!==u||s!==0&&B.nodeType!==3||(b=f+s),B.nodeType===3&&(f+=B.nodeValue.length),(U=B.firstChild)!==null;)C=B,B=U;for(;;){if(B===e)break t;if(C===n&&++R===o&&(v=f),C===u&&++k===s&&(b=f),(U=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=U}n=v===-1||b===-1?null:{start:v,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:e,selectionRange:n},ol=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var J=Da(n.type,o);e=s.getSnapshotBeforeUpdate(J,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(W){Ue(n,n.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Bu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function mf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(e,n),s&4&&_i(5,n);break;case 1:if(Ln(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ue(n,n.return,f)}else{var o=Da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ue(n,n.return,f)}}s&64&&of(n),s&512&&bi(n,n.return);break;case 3:if(Ln(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Fd(e,t)}catch(f){Ue(n,n.return,f)}}break;case 27:t===null&&s&4&&hf(n);case 26:case 5:Ln(e,n),t===null&&s&4&&cf(n),s&512&&bi(n,n.return);break;case 12:Ln(e,n);break;case 31:Ln(e,n),s&4&&yf(e,n);break;case 13:Ln(e,n),s&4&&vf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=By.bind(null,n),rv(e,n))));break;case 22:if(s=n.memoizedState!==null||kn,!s){t=t!==null&&t.memoizedState!==null||rt,o=kn;var u=rt;kn=s,(rt=t)&&!u?Mn(e,n,(n.subtreeFlags&8772)!==0):Ln(e,n),kn=o,rt=u}break;case 30:break;default:Ln(e,n)}}function gf(e){var t=e.alternate;t!==null&&(e.alternate=null,gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Dt=!1;function In(e,t,n){for(n=n.child;n!==null;)pf(e,t,n),n=n.sibling}function pf(e,t,n){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(on,n)}catch{}switch(n.tag){case 26:rt||En(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rt||En(n,t);var s=$e,o=Dt;la(n.type)&&($e=n.stateNode,Dt=!1),In(e,t,n),Ri(n.stateNode),$e=s,Dt=o;break;case 5:rt||En(n,t);case 6:if(s=$e,o=Dt,$e=null,In(e,t,n),$e=s,Dt=o,$e!==null)if(Dt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(u){Ue(n,t,u)}else try{$e.removeChild(n.stateNode)}catch(u){Ue(n,t,u)}break;case 18:$e!==null&&(Dt?(e=$e,o0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Or(e)):o0($e,n.stateNode));break;case 4:s=$e,o=Dt,$e=n.stateNode.containerInfo,Dt=!0,In(e,t,n),$e=s,Dt=o;break;case 0:case 11:case 14:case 15:ea(2,n,t),rt||ea(4,n,t),In(e,t,n);break;case 1:rt||(En(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&uf(n,t,s)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:rt=(s=rt)||n.memoizedState!==null,In(e,t,n),rt=s;break;default:In(e,t,n)}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Or(e)}catch(n){Ue(t,t.return,n)}}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Or(e)}catch(n){Ue(t,t.return,n)}}function jy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ff),t;default:throw Error(l(435,e.tag))}}function qs(e,t){var n=jy(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=zy.bind(null,e,s);s.then(o,o)}})}function Ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],u=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(la(v.type)){$e=v.stateNode,Dt=!1;break e}break;case 5:$e=v.stateNode,Dt=!1;break e;case 3:case 4:$e=v.stateNode.containerInfo,Dt=!0;break e}v=v.return}if($e===null)throw Error(l(160));pf(u,f,o),$e=null,Dt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}var cn=null;function _f(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),kt(e),s&4&&(ea(3,e,e.return),_i(3,e),ea(5,e,e.return));break;case 1:Ut(t,e),kt(e),s&512&&(rt||n===null||En(n,n.return)),s&64&&kn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=cn;if(Ut(t,e),kt(e),s&512&&(rt||n===null||En(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Kr]||u[pt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),bt(u,s,n),u[pt]=e,ht(u),s=u;break e;case"link":var f=_0("link","href",o).get(s+(n.href||""));if(f){for(var v=0;v<f.length;v++)if(u=f[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(v,1);break t}}u=o.createElement(s),bt(u,s,n),o.head.appendChild(u);break;case"meta":if(f=_0("meta","content",o).get(s+(n.content||""))){for(v=0;v<f.length;v++)if(u=f[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(v,1);break t}}u=o.createElement(s),bt(u,s,n),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[pt]=e,ht(u),s=u}e.stateNode=s}else b0(o,e.type,e.stateNode);else e.stateNode=v0(o,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?b0(o,e.type,e.stateNode):v0(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&cu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ut(t,e),kt(e),s&512&&(rt||n===null||En(n,n.return)),n!==null&&s&4&&cu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ut(t,e),kt(e),s&512&&(rt||n===null||En(n,n.return)),e.flags&32){o=e.stateNode;try{Qa(o,"")}catch(J){Ue(e,e.return,J)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,cu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(fu=!0);break;case 6:if(Ut(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(J){Ue(e,e.return,J)}}break;case 3:if(rl=null,o=cn,cn=nl(t.containerInfo),Ut(t,e),cn=o,kt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(t.containerInfo)}catch(J){Ue(e,e.return,J)}fu&&(fu=!1,bf(e));break;case 4:s=cn,cn=nl(e.stateNode.containerInfo),Ut(t,e),kt(e),cn=s;break;case 12:Ut(t,e),kt(e);break;case 31:Ut(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qs(e,s)));break;case 13:Ut(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($s=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qs(e,s)));break;case 22:o=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,R=kn,k=rt;if(kn=R||o,rt=k||b,Ut(t,e),rt=k,kn=R,kt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||b||kn||rt||Ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(u=b.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=b.stateNode;var B=b.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(J){Ue(b,b.return,J)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(J){Ue(b,b.return,J)}}}else if(t.tag===18){if(n===null){b=t;try{var U=b.stateNode;o?u0(U,!0):u0(b.stateNode,!1)}catch(J){Ue(b,b.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,qs(e,n))));break;case 19:Ut(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qs(e,s)));break;case 30:break;case 21:break;default:Ut(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(df(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,u=du(e);Gs(e,u,o);break;case 5:var f=n.stateNode;n.flags&32&&(Qa(f,""),n.flags&=-33);var v=du(e);Gs(e,v,f);break;case 3:case 4:var b=n.stateNode.containerInfo,R=du(e);hu(e,R,b);break;default:throw Error(l(161))}}catch(k){Ue(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mf(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ea(4,t,t.return),Ua(t);break;case 1:En(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&uf(t,t.return,n),Ua(t);break;case 27:Ri(t.stateNode);case 26:case 5:En(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function Mn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:Mn(o,u,n),_i(4,u);break;case 1:if(Mn(o,u,n),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Ue(s,s.return,R)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)Qd(b[o],v)}catch(R){Ue(s,s.return,R)}}n&&f&64&&of(u),bi(u,u.return);break;case 27:hf(u);case 26:case 5:Mn(o,u,n),n&&s===null&&f&4&&cf(u),bi(u,u.return);break;case 12:Mn(o,u,n);break;case 31:Mn(o,u,n),n&&f&4&&yf(o,u);break;case 13:Mn(o,u,n),n&&f&4&&vf(o,u);break;case 22:u.memoizedState===null&&Mn(o,u,n),bi(u,u.return);break;case 30:break;default:Mn(o,u,n)}t=t.sibling}}function mu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&si(n))}function gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e))}function dn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ef(e,t,n,s),t=t.sibling}function Ef(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,n,s),o&2048&&_i(9,t);break;case 1:dn(e,t,n,s);break;case 3:dn(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e)));break;case 12:if(o&2048){dn(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,v=u.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ue(t,t.return,b)}}else dn(e,t,n,s);break;case 31:dn(e,t,n,s);break;case 13:dn(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?dn(e,t,n,s):Ei(e,t):u._visibility&2?dn(e,t,n,s):(u._visibility|=2,pr(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&mu(f,t);break;case 24:dn(e,t,n,s),o&2048&&gu(t.alternate,t);break;default:dn(e,t,n,s)}}function pr(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,v=n,b=s,R=f.flags;switch(f.tag){case 0:case 11:case 15:pr(u,f,v,b,o),_i(8,f);break;case 23:break;case 22:var k=f.stateNode;f.memoizedState!==null?k._visibility&2?pr(u,f,v,b,o):Ei(u,f):(k._visibility|=2,pr(u,f,v,b,o)),o&&R&2048&&mu(f.alternate,f);break;case 24:pr(u,f,v,b,o),o&&R&2048&&gu(f.alternate,f);break;default:pr(u,f,v,b,o)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:Ei(n,s),o&2048&&mu(s.alternate,s);break;case 24:Ei(n,s),o&2048&&gu(s.alternate,s);break;default:Ei(n,s)}t=t.sibling}}var wi=8192;function yr(e,t,n){if(e.subtreeFlags&wi)for(e=e.child;e!==null;)wf(e,t,n),e=e.sibling}function wf(e,t,n){switch(e.tag){case 26:yr(e,t,n),e.flags&wi&&e.memoizedState!==null&&pv(n,cn,e.memoizedState,e.memoizedProps);break;case 5:yr(e,t,n);break;case 3:case 4:var s=cn;cn=nl(e.stateNode.containerInfo),yr(e,t,n),cn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=wi,wi=16777216,yr(e,t,n),wi=s):yr(e,t,n));break;default:yr(e,t,n)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Si(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ft=s,Tf(s,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xf(e),e=e.sibling}function xf(e){switch(e.tag){case 0:case 11:case 15:Si(e),e.flags&2048&&ea(9,e,e.return);break;case 3:Si(e);break;case 12:Si(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):Si(e);break;default:Si(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ft=s,Tf(s,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ea(8,t,t.return),Vs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function Tf(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:ea(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:si(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ft=s;else e:for(n=e;ft!==null;){s=ft;var o=s.sibling,u=s.return;if(gf(s),s===n){ft=null;break e}if(o!==null){o.return=u,ft=o;break e}ft=u}}}var Cy={getCacheForType:function(e){var t=vt(tt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return vt(tt).controller.signal}},Dy=typeof WeakMap=="function"?WeakMap:Map,Re=0,Be=null,ye=null,be=0,De=0,qt=null,ta=!1,vr=!1,pu=!1,Bn=0,Je=0,na=0,ka=0,yu=0,Vt=0,_r=0,xi=null,It=null,vu=!1,$s=0,Af=0,Ys=1/0,Ps=null,aa=null,lt=0,ra=null,br=null,zn=0,_u=0,bu=null,Of=null,Ti=0,Eu=null;function $t(){return(Re&2)!==0&&be!==0?be&-be:I.T!==null?Ou():qc()}function Nf(){if(Vt===0)if((be&536870912)===0||Se){var e=es;es<<=1,(es&3932160)===0&&(es=262144),Vt=e}else Vt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),Vt}function Lt(e,t,n){(e===Be&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Er(e,0),ia(e,be,Vt,!1)),Pr(e,n),((Re&2)===0||e!==Be)&&(e===Be&&((Re&2)===0&&(ka|=n),Je===4&&ia(e,be,Vt,!1)),wn(e))}function Rf(e,t,n){if((Re&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Yr(e,t),o=s?Iy(e,t):Su(e,t,!0),u=s;do{if(o===0){vr&&!s&&ia(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Uy(n)){o=Su(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;o=xi;var b=v.current.memoizedState.isDehydrated;if(b&&(Er(v,f).flags|=256),f=Su(v,f,!1),f!==2){if(pu&&!b){v.errorRecoveryDisabledLanes|=u,ka|=u,o=4;break e}u=It,It=o,u!==null&&(It===null?It=u:It.push.apply(It,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){Er(e,0),ia(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ia(s,t,Vt,!ta);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=$s+300-dt(),10<o)){if(ia(s,t,Vt,!ta),ns(s,0,!0)!==0)break e;zn=t,s.timeoutHandle=s0(jf.bind(null,s,n,It,Ps,vu,t,Vt,ka,_r,ta,u,"Throttled",-0,0),o);break e}jf(s,n,It,Ps,vu,t,Vt,ka,_r,ta,u,null,-0,0)}}break}while(!0);wn(e)}function jf(e,t,n,s,o,u,f,v,b,R,k,B,C,U){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},wf(t,u,B);var J=(u&62914560)===u?$s-dt():(u&4194048)===u?Af-dt():0;if(J=yv(B,J),J!==null){zn=u,e.cancelPendingCommit=J(Bf.bind(null,e,t,u,n,s,o,f,v,b,k,B,null,C,U)),ia(e,u,f,!R);return}}Bf(e,t,u,n,s,o,f,v,b)}function Uy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!Bt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,n,s){t&=~yu,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-et(o),f=1<<u;s[u]=-1,o&=~f}n!==0&&zc(e,n,t)}function Ks(){return(Re&6)===0?(Ai(0),!1):!0}function wu(){if(ye!==null){if(De===0)var e=ye.return;else e=ye,Nn=Ta=null,Bo(e),dr=null,oi=0,e=ye;for(;e!==null;)lf(e.alternate,e),e=e.return;ye=null}}function Er(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Wy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zn=0,wu(),Be=e,ye=n=An(e.current,null),be=t,De=0,qt=null,ta=!1,vr=Yr(e,t),pu=!1,_r=Vt=yu=ka=na=Je=0,It=xi=null,vu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-et(s),u=1<<o;t|=e[o],s&=~u}return Bn=t,ms(),n}function Cf(e,t){ue=null,I.H=pi,t===cr||t===ws?(t=Pd(),De=3):t===Ao?(t=Pd(),De=4):De=t===eu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,ye===null&&(Je=1,Ls(e,Wt(t,e.current)))}function Df(){var e=Ht.current;return e===null?!0:(be&4194048)===be?an===null:(be&62914560)===be||(be&536870912)!==0?e===an:!1}function Uf(){var e=I.H;return I.H=pi,e===null?pi:e}function kf(){var e=I.A;return I.A=Cy,e}function Xs(){Je=4,ta||(be&4194048)!==be&&Ht.current!==null||(vr=!0),(na&134217727)===0&&(ka&134217727)===0||Be===null||ia(Be,be,Vt,!1)}function Su(e,t,n){var s=Re;Re|=2;var o=Uf(),u=kf();(Be!==e||be!==t)&&(Ps=null,Er(e,t)),t=!1;var f=Je;e:do try{if(De!==0&&ye!==null){var v=ye,b=qt;switch(De){case 8:wu(),f=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var R=De;if(De=0,qt=null,wr(e,v,b,R),n&&vr){f=0;break e}break;default:R=De,De=0,qt=null,wr(e,v,b,R)}}ky(),f=Je;break}catch(k){Cf(e,k)}while(!0);return t&&e.shellSuspendCounter++,Nn=Ta=null,Re=s,I.H=o,I.A=u,ye===null&&(Be=null,be=0,ms()),f}function ky(){for(;ye!==null;)If(ye)}function Iy(e,t){var n=Re;Re|=2;var s=Uf(),o=kf();Be!==e||be!==t?(Ps=null,Ys=dt()+500,Er(e,t)):vr=Yr(e,t);e:do try{if(De!==0&&ye!==null){t=ye;var u=qt;t:switch(De){case 1:De=0,qt=null,wr(e,t,u,1);break;case 2:case 9:if($d(u)){De=0,qt=null,Lf(t);break}t=function(){De!==2&&De!==9||Be!==e||(De=7),wn(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:$d(u)?(De=0,qt=null,Lf(t)):(De=0,qt=null,wr(e,t,u,7));break;case 5:var f=null;switch(ye.tag){case 26:f=ye.memoizedState;case 5:case 27:var v=ye;if(f?E0(f):v.stateNode.complete){De=0,qt=null;var b=v.sibling;if(b!==null)ye=b;else{var R=v.return;R!==null?(ye=R,Js(R)):ye=null}break t}}De=0,qt=null,wr(e,t,u,5);break;case 6:De=0,qt=null,wr(e,t,u,6);break;case 8:wu(),Je=6;break e;default:throw Error(l(462))}}Ly();break}catch(k){Cf(e,k)}while(!0);return Nn=Ta=null,I.H=s,I.A=o,Re=n,ye!==null?0:(Be=null,be=0,ms(),Je)}function Ly(){for(;ye!==null&&!gn();)If(ye)}function If(e){var t=rf(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Js(e):ye=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zh(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Zh(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Bo(t);default:lf(n,t),t=ye=Ud(t,Bn),t=rf(n,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Js(e):ye=t}function wr(e,t,n,s){Nn=Ta=null,Bo(t),dr=null,oi=0;var o=t.return;try{if(xy(e,o,t,n,be)){Je=1,Ls(e,Wt(n,e.current)),ye=null;return}}catch(u){if(o!==null)throw ye=o,u;Je=1,Ls(e,Wt(n,e.current)),ye=null;return}t.flags&32768?(Se||s===1?e=!0:vr||(be&536870912)!==0?e=!1:(ta=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ht.current,s!==null&&s.tag===13&&(s.flags|=16384))),Mf(t,e)):Js(t)}function Js(e){var t=e;do{if((t.flags&32768)!==0){Mf(t,ta);return}e=t.return;var n=Oy(t.alternate,t,Bn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Je===0&&(Je=5)}function Mf(e,t){do{var n=Ny(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Je=6,ye=null}function Bf(e,t,n,s,o,u,f,v,b){e.cancelPendingCommit=null;do Qs();while(lt!==0);if((Re&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=co,gp(e,n,u,f,v,b),e===Be&&(ye=Be=null,be=0),br=t,ra=e,zn=n,_u=u,bu=o,Of=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hy(yn,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,o=Y.p,Y.p=2,f=Re,Re|=4;try{Ry(e,t,n)}finally{Re=f,Y.p=o,I.T=s}}lt=1,zf(),Hf(),Gf()}}function zf(){if(lt===1){lt=0;var e=ra,t=br,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=I.T,I.T=null;var s=Y.p;Y.p=2;var o=Re;Re|=4;try{_f(t,e);var u=Iu,f=xd(e.containerInfo),v=u.focusedElem,b=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&Sd(v.ownerDocument.documentElement,v)){if(b!==null&&io(v)){var R=b.start,k=b.end;if(k===void 0&&(k=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(k,v.value.length);else{var B=v.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var U=C.getSelection(),J=v.textContent.length,W=Math.min(b.start,J),Le=b.end===void 0?W:Math.min(b.end,J);!U.extend&&W>Le&&(f=Le,Le=W,W=f);var O=wd(v,W),x=wd(v,Le);if(O&&x&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==x.node||U.focusOffset!==x.offset)){var N=B.createRange();N.setStart(O.node,O.offset),U.removeAllRanges(),W>Le?(U.addRange(N),U.extend(x.node,x.offset)):(N.setEnd(x.node,x.offset),U.addRange(N))}}}}for(B=[],U=v;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<B.length;v++){var L=B[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}ol=!!ku,Iu=ku=null}finally{Re=o,Y.p=s,I.T=n}}e.current=t,lt=2}}function Hf(){if(lt===2){lt=0;var e=ra,t=br,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=I.T,I.T=null;var s=Y.p;Y.p=2;var o=Re;Re|=4;try{mf(e,t.alternate,t)}finally{Re=o,Y.p=s,I.T=n}}lt=3}}function Gf(){if(lt===4||lt===3){lt=0,Tt();var e=ra,t=br,n=zn,s=Of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,br=ra=null,qf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(aa=null),Hl(n),t=t.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(on,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=I.T,o=Y.p,Y.p=2,I.T=null;try{for(var u=e.onRecoverableError,f=0;f<s.length;f++){var v=s[f];u(v.value,{componentStack:v.stack})}}finally{I.T=t,Y.p=o}}(zn&3)!==0&&Qs(),wn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Eu?Ti++:(Ti=0,Eu=e):Ti=0,Ai(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,si(t)))}function Qs(){return zf(),Hf(),Gf(),Vf()}function Vf(){if(lt!==5)return!1;var e=ra,t=_u;_u=0;var n=Hl(zn),s=I.T,o=Y.p;try{Y.p=32>n?32:n,I.T=null,n=bu,bu=null;var u=ra,f=zn;if(lt=0,br=ra=null,zn=0,(Re&6)!==0)throw Error(l(331));var v=Re;if(Re|=4,xf(u.current),Ef(u,u.current,f,n),Re=v,Ai(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(on,u)}catch{}return!0}finally{Y.p=o,I.T=s,qf(e,t)}}function $f(e,t,n){t=Wt(n,t),t=Wo(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(Pr(e,2),wn(e))}function Ue(e,t,n){if(e.tag===3)$f(e,e,n);else for(;t!==null;){if(t.tag===3){$f(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(aa===null||!aa.has(s))){e=Wt(n,e),n=$h(2),s=Fn(t,n,2),s!==null&&(Yh(n,s,t,e),Pr(s,2),wn(s));break}}t=t.return}}function xu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Dy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(pu=!0,o.add(n),e=My.bind(null,e,t,n),t.then(e,e))}function My(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Be===e&&(be&n)===n&&(Je===4||Je===3&&(be&62914560)===be&&300>dt()-$s?(Re&2)===0&&Er(e,0):yu|=n,_r===be&&(_r=0)),wn(e)}function Yf(e,t){t===0&&(t=Bc()),e=wa(e,t),e!==null&&(Pr(e,t),wn(e))}function By(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yf(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Yf(e,n)}function Hy(e,t){return pe(e,t)}var Fs=null,Sr=null,Tu=!1,Zs=!1,Au=!1,sa=0;function wn(e){e!==Sr&&e.next===null&&(Sr===null?Fs=Sr=e:Sr=Sr.next=e),Zs=!0,Tu||(Tu=!0,qy())}function Ai(e,t){if(!Au&&Zs){Au=!0;do for(var n=!1,s=Fs;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var f=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-et(42|e)+1)-1,u&=o&~(f&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Jf(s,u))}else u=be,u=ns(s,s===Be?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Yr(s,u)||(n=!0,Jf(s,u));s=s.next}while(n);Au=!1}}function Gy(){Pf()}function Pf(){Zs=Tu=!1;var e=0;sa!==0&&Zy()&&(e=sa);for(var t=dt(),n=null,s=Fs;s!==null;){var o=s.next,u=Kf(s,t);u===0?(s.next=null,n===null?Fs=o:n.next=o,o===null&&(Sr=n)):(n=s,(e!==0||(u&3)!==0)&&(Zs=!0)),s=o}lt!==0&&lt!==5||Ai(e),sa!==0&&(sa=0)}function Kf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-et(u),v=1<<f,b=o[f];b===-1?((v&n)===0||(v&s)!==0)&&(o[f]=mp(v,t)):b<=t&&(e.expiredLanes|=v),u&=~v}if(t=Be,n=be,n=ns(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&xe(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Yr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&xe(s),Hl(n)){case 2:case 8:n=pn;break;case 32:n=yn;break;case 268435456:n=je;break;default:n=yn}return s=Xf.bind(null,e),n=pe(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&xe(s),e.callbackPriority=2,e.callbackNode=null,2}function Xf(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=be;return s=ns(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Rf(e,s,t),Kf(e,dt()),e.callbackNode!=null&&e.callbackNode===n?Xf.bind(null,e):null)}function Jf(e,t){if(Qs())return null;Rf(e,t,!0)}function qy(){ev(function(){(Re&6)!==0?pe(Zi,Gy):Pf()})}function Ou(){if(sa===0){var e=or;e===0&&(e=gt,gt<<=1,(gt&261888)===0&&(gt=256)),sa=e}return sa}function Qf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ss(""+e)}function Ff(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Vy(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var u=Qf((o[jt]||null).action),f=s.submitter;f&&(t=(t=f[jt]||null)?Qf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var v=new cs("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(sa!==0){var b=f?Ff(o,f):new FormData(o);Ko(n,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(v.preventDefault(),b=f?Ff(o,f):new FormData(o),Ko(n,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var Nu=0;Nu<uo.length;Nu++){var Ru=uo[Nu],$y=Ru.toLowerCase(),Yy=Ru[0].toUpperCase()+Ru.slice(1);un($y,"on"+Yy)}un(Od,"onAnimationEnd"),un(Nd,"onAnimationIteration"),un(Rd,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(ly,"onTransitionRun"),un(oy,"onTransitionStart"),un(uy,"onTransitionCancel"),un(jd,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var f=s.length-1;0<=f;f--){var v=s[f],b=v.instance,R=v.currentTarget;if(v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(k){fs(k)}o.currentTarget=null,u=b}else for(f=0;f<s.length;f++){if(v=s[f],b=v.instance,R=v.currentTarget,v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(k){fs(k)}o.currentTarget=null,u=b}}}}function ve(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var s=e+"__bubble";n.has(s)||(Wf(t,e,2,!1),n.add(s))}function ju(e,t,n){var s=0;t&&(s|=4),Wf(n,e,s,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[Ws]){e[Ws]=!0,Yc.forEach(function(n){n!=="selectionchange"&&(Py.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,ju("selectionchange",!1,t))}}function Wf(e,t,n,s){switch(N0(t)){case 2:var o=bv;break;case 8:o=Ev;break;default:o=Pu}n=o.bind(null,t,n,e),o=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Du(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var v=s.stateNode.containerInfo;if(v===o)break;if(f===4)for(f=s.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;v!==null;){if(f=Ya(v),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){s=u=f;continue e}v=v.parentNode}}s=s.return}ad(function(){var R=u,k=Xl(n),B=[];e:{var C=Cd.get(e);if(C!==void 0){var U=cs,J=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":U=zp;break;case"focusin":J="focus",U=eo;break;case"focusout":J="blur",U=eo;break;case"beforeblur":case"afterblur":U=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=qp;break;case Od:case Nd:case Rd:U=jp;break;case jd:U=$p;break;case"scroll":case"scrollend":U=Tp;break;case"wheel":U=Pp;break;case"copy":case"cut":case"paste":U=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=od;break;case"toggle":case"beforetoggle":U=Xp}var W=(t&4)!==0,Le=!W&&(e==="scroll"||e==="scrollend"),O=W?C!==null?C+"Capture":null:C;W=[];for(var x=R,N;x!==null;){var L=x;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||O===null||(L=Jr(x,O),L!=null&&W.push(Ni(x,L,N))),Le)break;x=x.return}0<W.length&&(C=new U(C,J,null,n,k),B.push({event:C,listeners:W}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&n!==Kl&&(J=n.relatedTarget||n.fromElement)&&(Ya(J)||J[$a]))break e;if((U||C)&&(C=k.window===k?k:(C=k.ownerDocument)?C.defaultView||C.parentWindow:window,U?(J=n.relatedTarget||n.toElement,U=R,J=J?Ya(J):null,J!==null&&(Le=d(J),W=J.tag,J!==Le||W!==5&&W!==27&&W!==6)&&(J=null)):(U=null,J=R),U!==J)){if(W=sd,L="onMouseLeave",O="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(W=od,L="onPointerLeave",O="onPointerEnter",x="pointer"),Le=U==null?C:Xr(U),N=J==null?C:Xr(J),C=new W(L,x+"leave",U,n,k),C.target=Le,C.relatedTarget=N,L=null,Ya(k)===R&&(W=new W(O,x+"enter",J,n,k),W.target=N,W.relatedTarget=Le,L=W),Le=L,U&&J)t:{for(W=Ky,O=U,x=J,N=0,L=O;L;L=W(L))N++;L=0;for(var Z=x;Z;Z=W(Z))L++;for(;0<N-L;)O=W(O),N--;for(;0<L-N;)x=W(x),L--;for(;N--;){if(O===x||x!==null&&O===x.alternate){W=O;break t}O=W(O),x=W(x)}W=null}else W=null;U!==null&&e0(B,C,U,W,!1),J!==null&&Le!==null&&e0(B,Le,J,W,!0)}}e:{if(C=R?Xr(R):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var Oe=pd;else if(md(C))if(yd)Oe=ry;else{Oe=ny;var Q=ty}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Pl(R.elementType)&&(Oe=pd):Oe=ay;if(Oe&&(Oe=Oe(e,R))){gd(B,Oe,n,k);break e}Q&&Q(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Yl(C,"number",C.value)}switch(Q=R?Xr(R):window,e){case"focusin":(md(Q)||Q.contentEditable==="true")&&(er=Q,so=R,ai=null);break;case"focusout":ai=so=er=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Td(B,n,k);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":Td(B,n,k)}var de;if(no)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Wa?hd(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(ud&&n.locale!=="ko"&&(Wa||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Wa&&(de=rd()):($n=k,Fl="value"in $n?$n.value:$n.textContent,Wa=!0)),Q=el(R,Ee),0<Q.length&&(Ee=new ld(Ee,e,null,n,k),B.push({event:Ee,listeners:Q}),de?Ee.data=de:(de=fd(n),de!==null&&(Ee.data=de)))),(de=Qp?Fp(e,n):Zp(e,n))&&(Ee=el(R,"onBeforeInput"),0<Ee.length&&(Q=new ld("onBeforeInput","beforeinput",null,n,k),B.push({event:Q,listeners:Ee}),Q.data=de)),Vy(B,e,R,n,k)}Zf(B,t)})}function Ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function el(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Jr(e,n),o!=null&&s.unshift(Ni(e,o,u)),o=Jr(e,t),o!=null&&s.push(Ni(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e0(e,t,n,s,o){for(var u=t._reactName,f=[];n!==null&&n!==s;){var v=n,b=v.alternate,R=v.stateNode;if(v=v.tag,b!==null&&b===s)break;v!==5&&v!==26&&v!==27||R===null||(b=R,o?(R=Jr(n,u),R!=null&&f.unshift(Ni(n,R,b))):o||(R=Jr(n,u),R!=null&&f.push(Ni(n,R,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Xy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function t0(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace(Jy,"")}function n0(e,t){return t=t0(t),t0(e)===t}function Ie(e,t,n,s,o,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Qa(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Qa(e,""+s);break;case"className":rs(e,"class",s);break;case"tabIndex":rs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,n,s);break;case"style":td(e,s,u);break;case"data":if(t!=="object"){rs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ss(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",o.name,o,null),Ie(e,t,"formEncType",o.formEncType,o,null),Ie(e,t,"formMethod",o.formMethod,o,null),Ie(e,t,"formTarget",o.formTarget,o,null)):(Ie(e,t,"encType",o.encType,o,null),Ie(e,t,"method",o.method,o,null),Ie(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ss(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=xn);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ss(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),as(e,"popover",s);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":as(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Sp.get(n)||n,as(e,n,s))}}function Uu(e,t,n,s,o,u){switch(n){case"style":td(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Qa(e,s):(typeof s=="number"||typeof s=="bigint")&&Qa(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[jt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):as(e,n,s)}}}function bt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ie(e,t,u,f,n,null)}}o&&Ie(e,t,"srcSet",n.srcSet,n,null),s&&Ie(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var v=u=f=o=null,b=null,R=null;for(s in n)if(n.hasOwnProperty(s)){var k=n[s];if(k!=null)switch(s){case"name":o=k;break;case"type":f=k;break;case"checked":b=k;break;case"defaultChecked":R=k;break;case"value":u=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:Ie(e,t,s,k,n,null)}}Fc(e,u,v,b,R,f,o,!1);return;case"select":ve("invalid",e),s=f=u=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":f=v;break;case"multiple":s=v;default:Ie(e,t,o,v,n,null)}t=u,n=f,e.multiple=!!s,t!=null?Ja(e,!!s,t,!1):n!=null&&Ja(e,!!s,n,!0);return;case"textarea":ve("invalid",e),u=o=s=null;for(f in n)if(n.hasOwnProperty(f)&&(v=n[f],v!=null))switch(f){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ie(e,t,f,v,n,null)}Wc(e,s,o,u);return;case"option":for(b in n)if(n.hasOwnProperty(b)&&(s=n[b],s!=null))switch(b){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,t,b,s,n,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<Oi.length;s++)ve(Oi[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(s=n[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ie(e,t,R,s,n,null)}return;default:if(Pl(t)){for(k in n)n.hasOwnProperty(k)&&(s=n[k],s!==void 0&&Uu(e,t,k,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&Ie(e,t,v,s,n,null))}function Qy(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,v=null,b=null,R=null,k=null;for(U in n){var B=n[U];if(n.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=B;default:s.hasOwnProperty(U)||Ie(e,t,U,null,s,B)}}for(var C in s){var U=s[C];if(B=n[C],s.hasOwnProperty(C)&&(U!=null||B!=null))switch(C){case"type":u=U;break;case"name":o=U;break;case"checked":R=U;break;case"defaultChecked":k=U;break;case"value":f=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==B&&Ie(e,t,C,U,s,B)}}$l(e,f,v,b,R,k,u,o);return;case"select":U=f=v=C=null;for(u in n)if(b=n[u],n.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":U=b;default:s.hasOwnProperty(u)||Ie(e,t,u,null,s,b)}for(o in s)if(u=s[o],b=n[o],s.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":C=u;break;case"defaultValue":v=u;break;case"multiple":f=u;default:u!==b&&Ie(e,t,o,u,s,b)}t=v,n=f,s=U,C!=null?Ja(e,!!n,C,!1):!!s!=!!n&&(t!=null?Ja(e,!!n,t,!0):Ja(e,!!n,n?[]:"",!1));return;case"textarea":U=C=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ie(e,t,v,null,s,o)}for(f in s)if(o=s[f],u=n[f],s.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":C=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ie(e,t,f,o,s,u)}Zc(e,C,U);return;case"option":for(var J in n)if(C=n[J],n.hasOwnProperty(J)&&C!=null&&!s.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ie(e,t,J,null,s,C)}for(b in s)if(C=s[b],U=n[b],s.hasOwnProperty(b)&&C!==U&&(C!=null||U!=null))switch(b){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ie(e,t,b,C,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in n)C=n[W],n.hasOwnProperty(W)&&C!=null&&!s.hasOwnProperty(W)&&Ie(e,t,W,null,s,C);for(R in s)if(C=s[R],U=n[R],s.hasOwnProperty(R)&&C!==U&&(C!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:Ie(e,t,R,C,s,U)}return;default:if(Pl(t)){for(var Le in n)C=n[Le],n.hasOwnProperty(Le)&&C!==void 0&&!s.hasOwnProperty(Le)&&Uu(e,t,Le,void 0,s,C);for(k in s)C=s[k],U=n[k],!s.hasOwnProperty(k)||C===U||C===void 0&&U===void 0||Uu(e,t,k,C,s,U);return}}for(var O in n)C=n[O],n.hasOwnProperty(O)&&C!=null&&!s.hasOwnProperty(O)&&Ie(e,t,O,null,s,C);for(B in s)C=s[B],U=n[B],!s.hasOwnProperty(B)||C===U||C==null&&U==null||Ie(e,t,B,C,s,U)}function a0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],u=o.transferSize,f=o.initiatorType,v=o.duration;if(u&&v&&a0(f)){for(f=0,v=o.responseEnd,s+=1;s<n.length;s++){var b=n[s],R=b.startTime;if(R>v)break;var k=b.transferSize,B=b.initiatorType;k&&a0(B)&&(b=b.responseEnd,f+=k*(b<v?1:(v-R)/(b-R)))}if(--s,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Iu=null;function tl(e){return e.nodeType===9?e:e.ownerDocument}function r0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mu=null;function Zy(){var e=window.event;return e&&e.type==="popstate"?e===Mu?!1:(Mu=e,!0):(Mu=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,ev=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(e){return l0.resolve(null).then(e).catch(tv)}:s0;function tv(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function o0(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),Or(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Ri(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ri(n);for(var u=n.firstChild;u;){var f=u.nextSibling,v=u.nodeName;u[Kr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&Ri(e.ownerDocument.body);n=o}while(n);Or(t)}function u0(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bu(n),ql(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nv(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Kr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function av(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function c0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rn(e.nextSibling),e===null))return null;return e}function zu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gu=null;function d0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function h0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function f0(e,t,n){switch(t=tl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ri(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ql(e)}var sn=new Map,m0=new Set;function nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=Y.d;Y.d={f:iv,r:sv,D:lv,C:ov,L:uv,m:cv,X:hv,S:dv,M:fv};function iv(){var e=Hn.f(),t=Ks();return e||t}function sv(e){var t=Pa(e);t!==null&&t.tag===5&&t.type==="form"?jh(t):Hn.r(e)}var xr=typeof document>"u"?null:document;function g0(e,t,n){var s=xr;if(s&&typeof t=="string"&&t){var o=Ft(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),m0.has(o)||(m0.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),bt(t,"link",e),ht(t),s.head.appendChild(t)))}}function lv(e){Hn.D(e),g0("dns-prefetch",e,null)}function ov(e,t){Hn.C(e,t),g0("preconnect",e,t)}function uv(e,t,n){Hn.L(e,t,n);var s=xr;if(s&&e&&t){var o='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ft(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ft(n.imageSizes)+'"]')):o+='[href="'+Ft(e)+'"]';var u=o;switch(t){case"style":u=Tr(e);break;case"script":u=Ar(e)}sn.has(u)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sn.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ji(u))||t==="script"&&s.querySelector(Ci(u))||(t=s.createElement("link"),bt(t,"link",e),ht(t),s.head.appendChild(t)))}}function cv(e,t){Hn.m(e,t);var n=xr;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ft(s)+'"][href="'+Ft(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ar(e)}if(!sn.has(u)&&(e=w({rel:"modulepreload",href:e},t),sn.set(u,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ci(u)))return}s=n.createElement("link"),bt(s,"link",e),ht(s),n.head.appendChild(s)}}}function dv(e,t,n){Hn.S(e,t,n);var s=xr;if(s&&e){var o=Ka(s).hoistableStyles,u=Tr(e);t=t||"default";var f=o.get(u);if(!f){var v={loading:0,preload:null};if(f=s.querySelector(ji(u)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sn.get(u))&&qu(e,n);var b=f=s.createElement("link");ht(b),bt(b,"link",e),b._p=new Promise(function(R,k){b.onload=R,b.onerror=k}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,al(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:v},o.set(u,f)}}}function hv(e,t){Hn.X(e,t);var n=xr;if(n&&e){var s=Ka(n).hoistableScripts,o=Ar(e),u=s.get(o);u||(u=n.querySelector(Ci(o)),u||(e=w({src:e,async:!0},t),(t=sn.get(o))&&Vu(e,t),u=n.createElement("script"),ht(u),bt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function fv(e,t){Hn.M(e,t);var n=xr;if(n&&e){var s=Ka(n).hoistableScripts,o=Ar(e),u=s.get(o);u||(u=n.querySelector(Ci(o)),u||(e=w({src:e,async:!0,type:"module"},t),(t=sn.get(o))&&Vu(e,t),u=n.createElement("script"),ht(u),bt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function p0(e,t,n,s){var o=(o=he.current)?nl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Tr(n.href),n=Ka(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Tr(n.href);var u=Ka(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(ji(e)))&&!u._p&&(f.instance=u,f.state.loading=5),sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(e,n),u||mv(o,e,n,f.state))),t&&s===null)throw Error(l(528,""));return f}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ar(n),n=Ka(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Tr(e){return'href="'+Ft(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function y0(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function mv(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",n),ht(t),e.head.appendChild(t))}function Ar(e){return'[src="'+Ft(e)+'"]'}function Ci(e){return"script[async]"+e}function v0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ft(n.href)+'"]');if(s)return t.instance=s,ht(s),s;var o=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),bt(s,"style",o),al(s,n.precedence,e),t.instance=s;case"stylesheet":o=Tr(n.href);var u=e.querySelector(ji(o));if(u)return t.state.loading|=4,t.instance=u,ht(u),u;s=y0(n),(o=sn.get(o))&&qu(s,o),u=(e.ownerDocument||e).createElement("link"),ht(u);var f=u;return f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),bt(u,"link",s),t.state.loading|=4,al(u,n.precedence,e),t.instance=u;case"script":return u=Ar(n.src),(o=e.querySelector(Ci(u)))?(t.instance=o,ht(o),o):(s=n,(o=sn.get(u))&&(s=w({},n),Vu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),bt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,al(s,n.precedence,e));return t.instance}function al(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,f=0;f<s.length;f++){var v=s[f];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rl=null;function _0(e,t,n){if(rl===null){var s=new Map,o=rl=new Map;o.set(n,s)}else o=rl,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Kr]||u[pt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var v=s.get(f);v?v.push(u):s.set(f,[u])}}return s}function b0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function gv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function E0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pv(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Tr(s.href),u=t.querySelector(ji(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=il.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ht(u);return}u=t.ownerDocument||t,s=y0(s),(o=sn.get(o))&&qu(s,o),u=u.createElement("link"),ht(u);var f=u;f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),bt(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=il.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $u=0;function yv(e,t){return e.stylesheets&&e.count===0&&ll(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*Fy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ll(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function ll(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,t.forEach(vv,e),sl=null,il.call(e))}function vv(e,t){if(!(t.state.loading&4)){var n=sl.get(e);if(n)var s=n.get(null);else{n=new Map,sl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),s=f)}s&&n.set(null,s)}o=t.instance,f=o.getAttribute("data-precedence"),u=n.get(f)||s,u===s&&n.set(null,o),n.set(f,o),this.count++,s=il.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Di={$$typeof:M,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function _v(e,t,n,s,o,u,f,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.hiddenUpdates=Bl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function w0(e,t,n,s,o,u,f,v,b,R,k,B){return e=new _v(e,t,n,f,b,R,k,B,v),t=1,u===!0&&(t|=24),u=zt(3,null,null,t),e.current=u,u.stateNode=e,t=So(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},Oo(u),e}function S0(e){return e?(e=ar,e):ar}function x0(e,t,n,s,o,u){o=S0(o),s.context===null?s.context=o:s.pendingContext=o,s=Qn(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Fn(e,s,t),n!==null&&(Lt(n,e,t),ci(n,e,t))}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yu(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function A0(e){if(e.tag===13||e.tag===31){var t=wa(e,67108864);t!==null&&Lt(t,e,67108864),Yu(e,67108864)}}function O0(e){if(e.tag===13||e.tag===31){var t=$t();t=zl(t);var n=wa(e,t);n!==null&&Lt(n,e,t),Yu(e,t)}}var ol=!0;function bv(e,t,n,s){var o=I.T;I.T=null;var u=Y.p;try{Y.p=2,Pu(e,t,n,s)}finally{Y.p=u,I.T=o}}function Ev(e,t,n,s){var o=I.T;I.T=null;var u=Y.p;try{Y.p=8,Pu(e,t,n,s)}finally{Y.p=u,I.T=o}}function Pu(e,t,n,s){if(ol){var o=Ku(s);if(o===null)Du(e,t,s,ul,n),R0(e,s);else if(Sv(o,e,t,n,s))s.stopPropagation();else if(R0(e,s),t&4&&-1<wv.indexOf(e)){for(;o!==null;){var u=Pa(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ya(u.pendingLanes);if(f!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var b=1<<31-et(f);v.entanglements[1]|=b,f&=~b}wn(u),(Re&6)===0&&(Ys=dt()+500,Ai(0))}}break;case 31:case 13:v=wa(u,2),v!==null&&Lt(v,u,2),Ks(),Yu(u,2)}if(u=Ku(s),u===null&&Du(e,t,s,ul,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else Du(e,t,s,null,n)}}function Ku(e){return e=Xl(e),Xu(e)}var ul=null;function Xu(e){if(ul=null,e=Ya(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ul=e,null}function N0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($r()){case Zi:return 2;case pn:return 8;case yn:case ae:return 32;case je:return 268435456;default:return 32}default:return 32}}var Ju=!1,oa=null,ua=null,ca=null,Ui=new Map,ki=new Map,da=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Ii(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Pa(t),t!==null&&A0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sv(e,t,n,s,o){switch(t){case"focusin":return oa=Ii(oa,e,t,n,s,o),!0;case"dragenter":return ua=Ii(ua,e,t,n,s,o),!0;case"mouseover":return ca=Ii(ca,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return Ui.set(u,Ii(Ui.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,ki.set(u,Ii(ki.get(u)||null,e,t,n,s,o)),!0}return!1}function j0(e){var t=Ya(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){O0(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){O0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ku(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Kl=s,n.target.dispatchEvent(s),Kl=null}else return t=Pa(n),t!==null&&A0(t),e.blockedOn=n,!1;t.shift()}return!0}function C0(e,t,n){cl(e)&&n.delete(t)}function xv(){Ju=!1,oa!==null&&cl(oa)&&(oa=null),ua!==null&&cl(ua)&&(ua=null),ca!==null&&cl(ca)&&(ca=null),Ui.forEach(C0),ki.forEach(C0)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xv)))}var hl=null;function D0(e){hl!==e&&(hl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hl===e&&(hl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Xu(s||n)===null)continue;break}var u=Pa(n);u!==null&&(e.splice(t,3),t-=3,Ko(u,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function Or(e){function t(b){return dl(b,e)}oa!==null&&dl(oa,e),ua!==null&&dl(ua,e),ca!==null&&dl(ca,e),Ui.forEach(t),ki.forEach(t);for(var n=0;n<da.length;n++){var s=da[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<da.length&&(n=da[0],n.blockedOn===null);)j0(n),n.blockedOn===null&&da.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=o[jt]||null;if(typeof u=="function")f||D0(n);else if(f){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[jt]||null)v=f.formAction;else if(Xu(o)!==null)continue}else v=f.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),D0(n)}}}function U0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Qu(e){this._internalRoot=e}fl.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=$t();x0(n,s,e,t,null,null)},fl.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;x0(e.current,2,null,e,null,null),Ks(),t[$a]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&j0(e)}};var k0=a.version;if(k0!=="19.2.3")throw Error(l(527,k0,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Tv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{on=ml.inject(Tv),re=ml}catch{}}return Mi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,s="",o=Hh,u=Gh,f=qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=w0(e,1,!1,null,null,n,s,null,o,u,f,U0),e[$a]=t.current,Cu(e),new Qu(t)},Mi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var s=!1,o="",u=Hh,f=Gh,v=qh,b=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=w0(e,1,!0,t,n??null,s,o,b,u,f,v,U0),t.context=S0(null),n=t.current,s=$t(),s=zl(s),o=Qn(s),o.callback=null,Fn(n,o,s),n=s,t.current.lanes=n,Pr(t,n),wn(t),e[$a]=t.current,Cu(e),new fl(t)},Mi.version="19.2.3",Mi}var $0;function Iv(){if($0)return Wu.exports;$0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Wu.exports=kv(),Wu.exports}var Lv=Iv();const Mv=Ng(Lv),Bv=[{id:"p1",userId:"twc_official",username:"barista_pro",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&h=200&auto=format&fit=crop",content:"Just perfected the art of the perfect pour-over. The notes of blueberry and dark chocolate in this Ethiopian Yirgacheffe are absolutely stunning!  #ThirdWaveCoffee #Wavegram",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=800&h=500&auto=format&fit=crop",likes:85,shares:12,createdAt:"45m",comments:[{id:"c1",userId:"u3",username:"coffee_lover_99",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&h=200&auto=format&fit=crop",content:"Drop the recipe and grind size please!",createdAt:"30m",likes:5}]},{id:"p2",userId:"u4",username:"morning_ritual",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&h=200&auto=format&fit=crop",content:"Nothing beats a fresh batch of cold brew on a sunny morning. Steeping for 18 hours makes all the difference. Who else is a fan of long steeps? ",likes:156,shares:24,createdAt:"3h",comments:[]},{id:"p3",userId:"u5",username:"barista_hq",avatar:"https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=200&h=200&auto=format&fit=crop",content:"Our new seasonal beans are finally here! Direct from a small farm in Costa Rica. Expect honey-like sweetness and a silky body. ",image:"https://images.unsplash.com/photo-1442154421459-335190013233?q=80&w=800&h=500&auto=format&fit=crop",likes:210,shares:45,createdAt:"5h",comments:[]}],Pt={Home:({active:r})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:r?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Search:({active:r})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:r?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Post:()=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Heart:({active:r})=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:r?"#ed4956":"none",stroke:r?"#ed4956":"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Comment:()=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Share:()=>m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),More:()=>m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Verified:()=>m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#1d9bf0",stroke:"white",strokeWidth:"1",children:[m.jsx("path",{d:"M12 2L15.09 5.26L19.47 4.53L20.2 8.91L23.46 12L20.2 15.09L19.47 19.47L15.09 20.2L12 23.46L8.91 20.2L4.53 19.47L3.8 15.09L0.54 12L3.8 8.91L4.53 4.53L8.91 5.26L12 2Z"}),m.jsx("path",{d:"M9 12L11 14L15 10",stroke:"white",strokeWidth:"2",fill:"none"})]})};var _e=(r=>(r.HOME="home",r.SEARCH="search",r.POST="post",r.ACTIVITY="activity",r.PROFILE="profile",r))(_e||{});const zv=""+new URL("logo-evTblqn5.png",import.meta.url).href,Hv=({children:r,activeTab:a,setActiveTab:i,onLogout:l,unreadCount:c=0})=>m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] text-[#efebe9] flex flex-col md:flex-row justify-center",children:[m.jsxs("nav",{className:"hidden md:flex flex-col items-center py-6 w-20 fixed left-0 top-0 bottom-0 bg-[#0e0d0c] z-20 border-r border-[#2c1a12] pt-safe",children:[m.jsx("div",{className:"mb-10 cursor-pointer group px-4 mt-4",onClick:()=>i(_e.HOME),children:m.jsx("img",{src:zv,alt:"Wavegram",className:"w-full h-auto object-contain group-hover:scale-110 transition-transform duration-300"})}),m.jsxs("div",{className:"flex flex-col gap-8 flex-1",children:[m.jsx("button",{onClick:()=>i(_e.HOME),className:`${a===_e.HOME?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Pt.Home,{active:a===_e.HOME})}),m.jsx("button",{onClick:()=>i(_e.SEARCH),className:`${a===_e.SEARCH?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Pt.Search,{active:a===_e.SEARCH})}),m.jsx("button",{onClick:()=>i(_e.POST),className:`${a===_e.POST?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Pt.Post,{})}),m.jsxs("button",{onClick:()=>i(_e.ACTIVITY),className:`${a===_e.ACTIVITY?"text-white":"text-neutral-500"} hover:text-white transition-colors relative`,children:[m.jsx(Pt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>i(_e.PROFILE),className:`${a===_e.PROFILE?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),m.jsx("button",{onClick:l,className:"mt-auto mb-6 p-3 text-neutral-500 hover:text-red-400 transition-colors transform hover:scale-110",title:"Sign Out",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),m.jsx("main",{className:"w-full max-w-[640px] border-x border-[#2c1a12] pb-20 md:pb-0 min-h-screen bg-[#0e0d0c]",children:r}),m.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#0e0d0c]/95 backdrop-blur-md border-t border-[#2c1a12] h-16 flex justify-around items-center z-20 px-4",children:[m.jsx("button",{onClick:()=>i(_e.HOME),className:`${a===_e.HOME?"text-white":"text-neutral-500"}`,children:m.jsx(Pt.Home,{active:a===_e.HOME})}),m.jsx("button",{onClick:()=>i(_e.SEARCH),className:`${a===_e.SEARCH?"text-white":"text-neutral-500"}`,children:m.jsx(Pt.Search,{active:a===_e.SEARCH})}),m.jsx("button",{onClick:()=>i(_e.POST),className:`${a===_e.POST?"text-white":"text-neutral-500"}`,children:m.jsx(Pt.Post,{})}),m.jsxs("button",{onClick:()=>i(_e.ACTIVITY),className:`${a===_e.ACTIVITY?"text-white":"text-neutral-500"} relative`,children:[m.jsx(Pt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>i(_e.PROFILE),className:`${a===_e.PROFILE?"text-white":"text-neutral-500"}`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-red-400",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),Y0=({post:r,isOwner:a,onLike:i,onComment:l,onShare:c,onEdit:d,onDelete:h})=>{const[g,p]=qe.useState(!1),[y,_]=qe.useState(!1);return m.jsx("div",{className:"border-b border-[#2c1a12] p-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("img",{src:r.avatar,alt:r.username,className:"w-12 h-12 rounded-full object-cover border-2 border-[#c29a67]/20 shadow-lg"}),r.comments.length>0&&m.jsx("div",{className:"w-[2px] grow bg-[#2c1a12] rounded-full my-1"}),r.comments.length>0&&m.jsx("div",{className:"flex -space-x-4 mt-1",children:r.comments.slice(0,2).map((w,E)=>m.jsx("img",{src:w.avatar,className:"w-5 h-5 rounded-full border-2 border-[#0e0d0c]"},E))})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-[16px] text-[#efebe9] hover:text-[#c29a67] transition-colors cursor-pointer tracking-tight",children:r.username}),m.jsx(Pt.Verified,{}),m.jsx("span",{className:"text-[#a09a96] text-xs font-medium uppercase tracking-wider ml-1",children:r.createdAt})]}),a&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>_(!y),className:"text-[#a09a96] hover:text-[#c29a67] transition-colors p-1",children:m.jsx(Pt.More,{})}),y&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>_(!1)}),m.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#1a1817] border border-[#2c1a12] rounded-2xl shadow-2xl overflow-hidden z-40 backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200",children:[m.jsxs("button",{onClick:()=>{_(!1),d==null||d(r)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#efebe9] hover:bg-[#c29a67]/10 hover:text-[#c29a67] transition-colors flex items-center gap-3",children:[m.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit Brew"]}),m.jsxs("button",{onClick:w=>{w.stopPropagation(),_(!1),h==null||h(r.id)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#ff4b4b] hover:bg-[#ff4b4b]/10 transition-colors flex items-center gap-3 border-t border-[#2c1a12]",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Brew"]})]})]})]})]}),m.jsx("p",{className:"text-[15px] leading-relaxed mb-3 whitespace-pre-wrap",children:r.content}),r.image&&m.jsx("div",{className:"rounded-xl overflow-hidden border border-[#2c1a12] mb-4 bg-[#0e0d0c]",children:m.jsx("img",{src:r.image,alt:"post content",className:"w-full object-contain max-h-[500px]"})}),m.jsxs("div",{className:"flex items-center gap-5 text-neutral-400 mt-1",children:[m.jsx("button",{onClick:()=>i(r.id),className:`flex items-center gap-1.5 transition-transform active:scale-90 ${r.isLiked?"text-[#ed4956]":"hover:text-white"}`,children:m.jsx(Pt.Heart,{active:r.isLiked})}),m.jsx("button",{onClick:()=>l(r),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Pt.Comment,{})}),m.jsx("button",{onClick:()=>c(r),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Pt.Share,{})})]}),m.jsxs("div",{className:"mt-3 text-[14px] text-neutral-500 flex items-center gap-2",children:[r.likes>0&&m.jsxs("span",{children:[r.likes," likes"]}),r.likes>0&&r.comments.length>0&&m.jsx("span",{children:""}),r.comments.length>0&&m.jsxs("button",{onClick:()=>p(!g),className:"hover:text-[#c29a67] transition-colors flex items-center gap-1 font-medium",children:[r.comments.length," ",r.comments.length===1?"reply":"replies",m.jsx("svg",{className:`w-3 h-3 transition-transform duration-300 ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})]})]}),r.comments.length>0&&g&&m.jsx("div",{className:"mt-6 space-y-4 border-l-2 border-[#2c1a12] ml-2 pl-6 animate-in slide-in-from-top-4 duration-300",children:r.comments.map(w=>m.jsxs("div",{className:"bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12]/50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("img",{src:w.avatar,className:"w-6 h-6 rounded-full"}),m.jsxs("span",{className:"font-bold text-xs text-[#efebe9]",children:["@",w.username]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider",children:w.createdAt})]}),m.jsx("p",{className:"text-sm text-[#efebe9]/90 leading-relaxed",children:w.content})]},w.id))})]})]})})};var Gv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var P0;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(P0||(P0={}));var K0;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(K0||(K0={}));var X0;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(X0||(X0={}));var J0;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(J0||(J0={}));var Q0;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(Q0||(Q0={}));var F0;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(F0||(F0={}));var Z0;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(Z0||(Z0={}));var W0;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(W0||(W0={}));var em;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(em||(em={}));var tm;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.MINIMAL="MINIMAL"})(tm||(tm={}));var nm;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nm||(nm={}));var am;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(am||(am={}));var rm;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(rm||(rm={}));var im;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE",r.IMAGE_RECITATION="IMAGE_RECITATION",r.IMAGE_OTHER="IMAGE_OTHER"})(im||(im={}));var sm;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(sm||(sm={}));var lm;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lm||(lm={}));var om;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(om||(om={}));var um;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(um||(um={}));var cm;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cm||(cm={}));var dm;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(dm||(dm={}));var hm;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hm||(hm={}));var fm;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fm||(fm={}));var mm;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mm||(mm={}));var gm;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gm||(gm={}));var pm;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pm||(pm={}));var ym;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",r.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ym||(ym={}));var vm;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(vm||(vm={}));var _m;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(_m||(_m={}));var bm;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(bm||(bm={}));var Em;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Em||(Em={}));var wm;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(wm||(wm={}));var Sm;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(Sm||(Sm={}));var xm;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(xm||(xm={}));var Tm;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(Tm||(Tm={}));var Am;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Am||(Am={}));var Om;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Om||(Om={}));var Nm;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nm||(Nm={}));var Rm;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rm||(Rm={}));var jm;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(jm||(jm={}));var Cm;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})(Cm||(Cm={}));var Dm;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(Dm||(Dm={}));var Um;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(Um||(Um={}));var km;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING"})(km||(km={}));var Im;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(Im||(Im={}));var Lm;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(Lm||(Lm={}));var Mm;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(Mm||(Mm={}));var Bm;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Bm||(Bm={}));var zm;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(zm||(zm={}));var Hm;(function(r){r.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",r.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",r.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Hm||(Hm={}));var Gm;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gm||(Gm={}));var qm;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qm||(qm={}));var Vm;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(Vm||(Vm={}));var $m;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($m||($m={}));var Ym;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ym||(Ym={}));var Pm;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(Pm||(Pm={}));var Km;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(Km||(Km={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xm;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(Xm||(Xm={}));function Tl(r,a){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i}function Jm(r){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&r[a],l=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(r){return this instanceof Pe?(this.v=r,this):new Pe(r)}function Gi(r,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(r,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(S){return function(T){return Promise.resolve(T).then(S,w)}}function g(S,T){l[S]&&(c[S]=function(D){return new Promise(function(j,H){d.push([S,D,j,H])>1||p(S,D)})},T&&(c[S]=T(c[S])))}function p(S,T){try{y(l[S](T))}catch(D){E(d[0][3],D)}}function y(S){S.value instanceof Pe?Promise.resolve(S.value.v).then(_,w):E(d[0][2],S)}function _(S){p("next",S)}function w(S){p("throw",S)}function E(S,T){S(T),d.shift(),d.length&&p(d[0][0],d[0][1])}}function Hr(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r[Symbol.asyncIterator],i;return a?a.call(r):(r=typeof Jm=="function"?Jm(r):r[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(d){i[d]=r[d]&&function(h){return new Promise(function(g,p){h=r[d](h),c(g,p,h.done,h.value)})}}function c(d,h,g,p){Promise.resolve(p).then(function(y){d({value:y,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rg=function(){const{crypto:r}=globalThis;if(r!=null&&r.randomUUID)return Rg=r.randomUUID.bind(r),r.randomUUID();const a=new Uint8Array(1),i=r?()=>r.getRandomValues(a)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const qv=()=>Rg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mc(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const gc=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const a=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(a.stack=r.stack),r.cause&&!a.cause&&(a.cause=r.cause),r.name&&(a.name=r.name),a}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln extends Error{}class Nt extends ln{constructor(a,i,l,c){super(`${Nt.makeMessage(a,i,l)}`),this.status=a,this.headers=c,this.error=i}static makeMessage(a,i,l){const c=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return a&&c?`${a} ${c}`:a?`${a} status code (no body)`:c||"(no status code or body)"}static generate(a,i,l,c){if(!a||!c)return new jl({message:l,cause:gc(i)});const d=i;return a===400?new Cg(a,d,l,c):a===401?new Dg(a,d,l,c):a===403?new Ug(a,d,l,c):a===404?new kg(a,d,l,c):a===409?new Ig(a,d,l,c):a===422?new Lg(a,d,l,c):a===429?new Mg(a,d,l,c):a>=500?new Bg(a,d,l,c):new Nt(a,d,l,c)}}class pc extends Nt{constructor({message:a}={}){super(void 0,void 0,a||"Request was aborted.",void 0)}}class jl extends Nt{constructor({message:a,cause:i}){super(void 0,void 0,a||"Connection error.",void 0),i&&(this.cause=i)}}class jg extends jl{constructor({message:a}={}){super({message:a??"Request timed out."})}}class Cg extends Nt{}class Dg extends Nt{}class Ug extends Nt{}class kg extends Nt{}class Ig extends Nt{}class Lg extends Nt{}class Mg extends Nt{}class Bg extends Nt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=/^[a-z][a-z0-9+.-]*:/i,$v=r=>Vv.test(r);let yc=r=>(yc=Array.isArray,yc(r));const Yv=yc;let Pv=Yv;const Qm=Pv;function Kv(r){if(!r)return!0;for(const a in r)return!1;return!0}function Xv(r,a){return Object.prototype.hasOwnProperty.call(r,a)}const Jv=(r,a)=>{if(typeof a!="number"||!Number.isInteger(a))throw new ln(`${r} must be an integer`);if(a<0)throw new ln(`${r} must be a positive integer`);return a},Qv=r=>{try{return JSON.parse(r)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fv=r=>new Promise(a=>setTimeout(a,r));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Wv=()=>{var r,a,i,l,c;const d=Zv();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kr,"X-Stainless-OS":Zm(Deno.build.os),"X-Stainless-Arch":Fm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(a=(r=Deno.version)===null||r===void 0?void 0:r.deno)!==null&&a!==void 0?a:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kr,"X-Stainless-OS":Zm((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Fm((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(c=globalThis.process.version)!==null&&c!==void 0?c:"unknown"};const h=e_();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function e_(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:a,pattern:i}of r){const l=i.exec(navigator.userAgent);if(l){const c=l[1]||0,d=l[2]||0,h=l[3]||0;return{browser:a,version:`${c}.${d}.${h}`}}}return null}const Fm=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Zm=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let gl;const t_=()=>gl??(gl=Wv());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zg(...r){const a=globalThis.ReadableStream;if(typeof a>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new a(...r)}function a_(r){let a=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return zg({start(){},async pull(i){const{done:l,value:c}=await a.next();l?i.close():i.enqueue(c)},async cancel(){var i;await((i=a.return)===null||i===void 0?void 0:i.call(a))}})}function Hg(r){if(r[Symbol.asyncIterator])return r;const a=r.getReader();return{async next(){try{const i=await a.read();return i!=null&&i.done&&a.releaseLock(),i}catch(i){throw a.releaseLock(),i}},async return(){const i=a.cancel();return a.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function r_(r){var a,i;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((i=(a=r[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(a));return}const l=r.getReader(),c=l.cancel();l.releaseLock(),await c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_=({headers:r,body:a})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(a)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=()=>{var r;if(typeof File>"u"){const{process:a}=globalThis,i=typeof((r=a==null?void 0:a.versions)===null||r===void 0?void 0:r.node)=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ac(r,a,i){return Gg(),new File(r,a??"unknown_file",i)}function s_(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const l_=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",o_=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&qg(r),u_=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function c_(r,a,i){if(Gg(),r=await r,o_(r))return r instanceof File?r:ac([await r.arrayBuffer()],r.name);if(u_(r)){const c=await r.blob();return a||(a=new URL(r.url).pathname.split(/[\\/]/).pop()),ac(await vc(c),a,i)}const l=await vc(r);if(a||(a=s_(r)),!(i!=null&&i.type)){const c=l.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof c=="string"&&(i=Object.assign(Object.assign({},i),{type:c}))}return ac(l,a,i)}async function vc(r){var a,i,l,c,d;let h=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)h.push(r);else if(qg(r))h.push(r instanceof Blob?r:await r.arrayBuffer());else if(l_(r))try{for(var g=!0,p=Hr(r),y;y=await p.next(),a=y.done,!a;g=!0){c=y.value,g=!1;const _=c;h.push(...await vc(_))}}catch(_){i={error:_}}finally{try{!g&&!a&&(l=p.return)&&await l.call(p)}finally{if(i)throw i.error}}else{const _=(d=r==null?void 0:r.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof r}${_?`; constructor: ${_}`:""}${d_(r)}`)}return h}function d_(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vg{constructor(a){this._client=a}}Vg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $g(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wm=Object.freeze(Object.create(null)),h_=(r=$g)=>(function(i,...l){if(i.length===1)return i[0];let c=!1;const d=[],h=i.reduce((_,w,E)=>{var S,T,D;/[?#]/.test(w)&&(c=!0);const j=l[E];let H=(c?encodeURIComponent:r)(""+j);return E!==l.length&&(j==null||typeof j=="object"&&j.toString===((D=Object.getPrototypeOf((T=Object.getPrototypeOf((S=j.hasOwnProperty)!==null&&S!==void 0?S:Wm))!==null&&T!==void 0?T:Wm))===null||D===void 0?void 0:D.toString))&&(H=j+"",d.push({start:_.length+w.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(j).slice(8,-1)} is not a valid path parameter`})),_+w+(E===l.length?"":H)},""),g=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=p.exec(g))!==null;)d.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(d.sort((_,w)=>_.start-w.start),d.length>0){let _=0;const w=d.reduce((E,S)=>{const T=" ".repeat(S.start-_),D="^".repeat(S.length);return _=S.start+S.length,E+T+D},"");throw new ln(`Path parameters result in path with invalid segments:
${d.map(E=>E.error).join(`
`)}
${h}
${w}`)}return h}),pl=h_($g);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yg extends Vg{create(a,i){var l;const{api_version:c=this._client.apiVersion}=a,d=Tl(a,["api_version"]);if("model"in d&&"agent_config"in d)throw new ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(pl`/${c}/interactions`,Object.assign(Object.assign({body:d},i),{stream:(l=a.stream)!==null&&l!==void 0?l:!1}))}delete(a,i={},l){const{api_version:c=this._client.apiVersion}=i??{};return this._client.delete(pl`/${c}/interactions/${a}`,l)}cancel(a,i={},l){const{api_version:c=this._client.apiVersion}=i??{};return this._client.post(pl`/${c}/interactions/${a}/cancel`,l)}get(a,i={},l){var c;const d=i??{},{api_version:h=this._client.apiVersion}=d,g=Tl(d,["api_version"]);return this._client.get(pl`/${h}/interactions/${a}`,Object.assign(Object.assign({query:g},l),{stream:(c=i==null?void 0:i.stream)!==null&&c!==void 0?c:!1}))}}Yg._key=Object.freeze(["interactions"]);class Pg extends Yg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f_(r){let a=0;for(const c of r)a+=c.length;const i=new Uint8Array(a);let l=0;for(const c of r)i.set(c,l),l+=c.length;return i}let yl;function Cc(r){let a;return(yl??(a=new globalThis.TextEncoder,yl=a.encode.bind(a)))(r)}let vl;function eg(r){let a;return(vl??(a=new globalThis.TextDecoder,vl=a.decode.bind(a)))(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(a){if(a==null)return[];const i=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?Cc(a):a;this.buffer=f_([this.buffer,i]);const l=[];let c;for(;(c=m_(this.buffer,this.carriageReturnIndex))!=null;){if(c.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=c.index;continue}if(this.carriageReturnIndex!=null&&(c.index!==this.carriageReturnIndex+1||c.carriage)){l.push(eg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?c.preceding-1:c.preceding,h=eg(this.buffer.subarray(0,d));l.push(h),this.buffer=this.buffer.subarray(c.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Cl.NEWLINE_CHARS=new Set([`
`,"\r"]);Cl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function m_(r,a){for(let c=a??0;c<r.length;c++){if(r[c]===10)return{preceding:c,index:c+1,carriage:!1};if(r[c]===13)return{preceding:c,index:c+1,carriage:!0}}return null}function g_(r){for(let l=0;l<r.length-1;l++){if(r[l]===10&&r[l+1]===10||r[l]===13&&r[l+1]===13)return l+2;if(r[l]===13&&r[l+1]===10&&l+3<r.length&&r[l+2]===13&&r[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Al={off:0,error:200,warn:300,info:400,debug:500},tg=(r,a,i)=>{if(r){if(Xv(Al,r))return r;Ot(i).warn(`${a} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(Al))}`)}};function zi(){}function _l(r,a,i){return!a||Al[r]>Al[i]?zi:a[r].bind(a)}const p_={error:zi,warn:zi,info:zi,debug:zi};let ng=new WeakMap;function Ot(r){var a;const i=r.logger,l=(a=r.logLevel)!==null&&a!==void 0?a:"off";if(!i)return p_;const c=ng.get(i);if(c&&c[0]===l)return c[1];const d={error:_l("error",i,l),warn:_l("warn",i,l),info:_l("info",i,l),debug:_l("debug",i,l)};return ng.set(i,[l,d]),d}const Ma=r=>(r.options&&(r.options=Object.assign({},r.options),delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([a,i])=>[a,a.toLowerCase()==="x-goog-api-key"||a.toLowerCase()==="authorization"||a.toLowerCase()==="cookie"||a.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Br{constructor(a,i,l){this.iterator=a,this.controller=i,this.client=l}static fromSSEResponse(a,i,l){let c=!1;const d=l?Ot(l):console;function h(){return Gi(this,arguments,function*(){var p,y,_,w;if(c)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");c=!0;let E=!1;try{try{for(var S=!0,T=Hr(y_(a,i)),D;D=yield Pe(T.next()),p=D.done,!p;S=!0){w=D.value,S=!1;const j=w;if(!E)if(j.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Pe(JSON.parse(j.data))}catch(H){throw d.error("Could not parse message into JSON:",j.data),d.error("From chunk:",j.raw),H}}}catch(j){y={error:j}}finally{try{!S&&!p&&(_=T.return)&&(yield Pe(_.call(T)))}finally{if(y)throw y.error}}E=!0}catch(j){if(mc(j))return yield Pe(void 0);throw j}finally{E||i.abort()}})}return new Br(h,i,l)}static fromReadableStream(a,i,l){let c=!1;function d(){return Gi(this,arguments,function*(){var p,y,_,w;const E=new Cl,S=Hg(a);try{for(var T=!0,D=Hr(S),j;j=yield Pe(D.next()),p=j.done,!p;T=!0){w=j.value,T=!1;const H=w;for(const $ of E.decode(H))yield yield Pe($)}}catch(H){y={error:H}}finally{try{!T&&!p&&(_=D.return)&&(yield Pe(_.call(D)))}finally{if(y)throw y.error}}for(const H of E.flush())yield yield Pe(H)})}function h(){return Gi(this,arguments,function*(){var p,y,_,w;if(c)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");c=!0;let E=!1;try{try{for(var S=!0,T=Hr(d()),D;D=yield Pe(T.next()),p=D.done,!p;S=!0){w=D.value,S=!1;const j=w;E||j&&(yield yield Pe(JSON.parse(j)))}}catch(j){y={error:j}}finally{try{!S&&!p&&(_=T.return)&&(yield Pe(_.call(T)))}finally{if(y)throw y.error}}E=!0}catch(j){if(mc(j))return yield Pe(void 0);throw j}finally{E||i.abort()}})}return new Br(h,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const a=[],i=[],l=this.iterator(),c=d=>({next:()=>{if(d.length===0){const h=l.next();a.push(h),i.push(h)}return d.shift()}});return[new Br(()=>c(a),this.controller,this.client),new Br(()=>c(i),this.controller,this.client)]}toReadableStream(){const a=this;let i;return zg({async start(){i=a[Symbol.asyncIterator]()},async pull(l){try{const{value:c,done:d}=await i.next();if(d)return l.close();const h=Cc(JSON.stringify(c)+`
`);l.enqueue(h)}catch(c){l.error(c)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function y_(r,a){return Gi(this,arguments,function*(){var l,c,d,h;if(!r.body)throw a.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ln("Attempted to iterate over a response with no body");const g=new __,p=new Cl,y=Hg(r.body);try{for(var _=!0,w=Hr(v_(y)),E;E=yield Pe(w.next()),l=E.done,!l;_=!0){h=E.value,_=!1;const S=h;for(const T of p.decode(S)){const D=g.decode(T);D&&(yield yield Pe(D))}}}catch(S){c={error:S}}finally{try{!_&&!l&&(d=w.return)&&(yield Pe(d.call(w)))}finally{if(c)throw c.error}}for(const S of p.flush()){const T=g.decode(S);T&&(yield yield Pe(T))}})}function v_(r){return Gi(this,arguments,function*(){var i,l,c,d;let h=new Uint8Array;try{for(var g=!0,p=Hr(r),y;y=yield Pe(p.next()),i=y.done,!i;g=!0){d=y.value,g=!1;const _=d;if(_==null)continue;const w=_ instanceof ArrayBuffer?new Uint8Array(_):typeof _=="string"?Cc(_):_;let E=new Uint8Array(h.length+w.length);E.set(h),E.set(w,h.length),h=E;let S;for(;(S=g_(h))!==-1;)yield yield Pe(h.slice(0,S)),h=h.slice(S)}}catch(_){l={error:_}}finally{try{!g&&!i&&(c=p.return)&&(yield Pe(c.call(p)))}finally{if(l)throw l.error}}h.length>0&&(yield yield Pe(h))})}class __{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(a){if(a.endsWith("\r")&&(a=a.substring(0,a.length-1)),!a){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(a),a.startsWith(":"))return null;let[i,l,c]=b_(a,":");return c.startsWith(" ")&&(c=c.substring(1)),i==="event"?this.event=c:i==="data"&&this.data.push(c),null}}function b_(r,a){const i=r.indexOf(a);return i!==-1?[r.substring(0,i),a,r.substring(i+a.length)]:[r,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E_(r,a){const{response:i,requestLogID:l,retryOfRequestLogID:c,startTime:d}=a,h=await(async()=>{var g;if(a.options.stream)return Ot(r).debug("response",i.status,i.url,i.headers,i.body),a.options.__streamClass?a.options.__streamClass.fromSSEResponse(i,a.controller,r):Br.fromSSEResponse(i,a.controller,r);if(i.status===204)return null;if(a.options.__binaryResponse)return i;const p=i.headers.get("content-type"),y=(g=p==null?void 0:p.split(";")[0])===null||g===void 0?void 0:g.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await i.json():await i.text()})();return Ot(r).debug(`[${l}] response parsed`,Ma({retryOfRequestLogID:c,url:i.url,status:i.status,body:h,durationMs:Date.now()-d})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dc extends Promise{constructor(a,i,l=E_){super(c=>{c(null)}),this.responsePromise=i,this.parseResponse=l,this.client=a}_thenUnwrap(a){return new Dc(this.client,this.responsePromise,async(i,l)=>a(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(a=>a.response)}async withResponse(){const[a,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:a,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(a=>this.parseResponse(this.client,a))),this.parsedPromise}then(a,i){return this.parse().then(a,i)}catch(a){return this.parse().catch(a)}finally(a){return this.parse().finally(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kg=Symbol("brand.privateNullableHeaders");function*w_(r){if(!r)return;if(Kg in r){const{values:l,nulls:c}=r;yield*l.entries();for(const d of c)yield[d,null];return}let a=!1,i;r instanceof Headers?i=r.entries():Qm(r)?i=r:(a=!0,i=Object.entries(r??{}));for(let l of i){const c=l[0];if(typeof c!="string")throw new TypeError("expected header name to be a string");const d=Qm(l[1])?l[1]:[l[1]];let h=!1;for(const g of d)g!==void 0&&(a&&!h&&(h=!0,yield[c,null]),yield[c,g])}}const Bi=r=>{const a=new Headers,i=new Set;for(const l of r){const c=new Set;for(const[d,h]of w_(l)){const g=d.toLowerCase();c.has(g)||(a.delete(d),c.add(g)),h===null?(a.delete(d),i.add(g)):(a.append(d,h),i.delete(g))}}return{[Kg]:!0,values:a,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rc=r=>{var a,i,l,c,d,h;if(typeof globalThis.process<"u")return(l=(i=(a=Gv)===null||a===void 0?void 0:a[r])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(h=(d=(c=globalThis.Deno.env)===null||c===void 0?void 0:c.get)===null||d===void 0?void 0:d.call(c,r))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xg;class Dl{constructor(a){var i,l,c,d,h,g,p,{baseURL:y=rc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(i=rc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:w="v1beta"}=a,E=Tl(a,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:_,apiVersion:w},E),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(l=S.timeout)!==null&&l!==void 0?l:Dl.DEFAULT_TIMEOUT,this.logger=(c=S.logger)!==null&&c!==void 0?c:console;const T="warn";this.logLevel=T,this.logLevel=(h=(d=tg(S.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:tg(rc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:T,this.fetchOptions=S.fetchOptions,this.maxRetries=(g=S.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(p=S.fetch)!==null&&p!==void 0?p:n_(),this.encoder=i_,this._options=S,this.apiKey=_,this.apiVersion=w,this.clientAdapter=S.clientAdapter}withOptions(a){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),a))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:a,nulls:i}){if(!(a.has("authorization")||a.has("x-goog-api-key"))&&!(this.apiKey&&a.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(a){const i=Bi([a.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Bi([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Bi([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(a){return Object.entries(a).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new ln(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${kr}`}defaultIdempotencyKey(){return`stainless-node-retry-${qv()}`}makeStatusError(a,i,l,c){return Nt.generate(a,i,l,c)}buildURL(a,i,l){const c=!this.baseURLOverridden()&&l||this.baseURL,d=$v(a)?new URL(a):new URL(c+(c.endsWith("/")&&a.startsWith("/")?a.slice(1):a)),h=this.defaultQuery();return Kv(h)||(i=Object.assign(Object.assign({},h),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(d.search=this.stringifyQuery(i)),d.toString()}async prepareOptions(a){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!a.path.startsWith(`/${this.apiVersion}/projects/`)){const i=a.path.slice(this.apiVersion.length+1);a.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(a,{url:i,options:l}){}get(a,i){return this.methodRequest("get",a,i)}post(a,i){return this.methodRequest("post",a,i)}patch(a,i){return this.methodRequest("patch",a,i)}put(a,i){return this.methodRequest("put",a,i)}delete(a,i){return this.methodRequest("delete",a,i)}methodRequest(a,i,l){return this.request(Promise.resolve(l).then(c=>Object.assign({method:a,path:i},c)))}request(a,i=null){return new Dc(this,this.makeRequest(a,i,void 0))}async makeRequest(a,i,l){var c,d,h;const g=await a,p=(c=g.maxRetries)!==null&&c!==void 0?c:this.maxRetries;i==null&&(i=p),await this.prepareOptions(g);const{req:y,url:_,timeout:w}=await this.buildRequest(g,{retryCount:p-i});await this.prepareRequest(y,{url:_,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=l===void 0?"":`, retryOf: ${l}`,T=Date.now();if(Ot(this).debug(`[${E}] sending request`,Ma({retryOfRequestLogID:l,method:g.method,url:_,options:g,headers:y.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new pc;const D=new AbortController,j=await this.fetchWithTimeout(_,y,w,D).catch(gc),H=Date.now();if(j instanceof globalThis.Error){const M=`retrying, ${i} attempts remaining`;if(!((h=g.signal)===null||h===void 0)&&h.aborted)throw new pc;const q=mc(j)||/timed? ?out/i.test(String(j)+("cause"in j?String(j.cause):""));if(i)return Ot(this).info(`[${E}] connection ${q?"timed out":"failed"} - ${M}`),Ot(this).debug(`[${E}] connection ${q?"timed out":"failed"} (${M})`,Ma({retryOfRequestLogID:l,url:_,durationMs:H-T,message:j.message})),this.retryRequest(g,i,l??E);throw Ot(this).info(`[${E}] connection ${q?"timed out":"failed"} - error; no more retries left`),Ot(this).debug(`[${E}] connection ${q?"timed out":"failed"} (error; no more retries left)`,Ma({retryOfRequestLogID:l,url:_,durationMs:H-T,message:j.message})),q?new jg:new jl({cause:j})}const $=`[${E}${S}] ${y.method} ${_} ${j.ok?"succeeded":"failed"} with status ${j.status} in ${H-T}ms`;if(!j.ok){const M=await this.shouldRetry(j);if(i&&M){const ce=`retrying, ${i} attempts remaining`;return await r_(j.body),Ot(this).info(`${$} - ${ce}`),Ot(this).debug(`[${E}] response error (${ce})`,Ma({retryOfRequestLogID:l,url:j.url,status:j.status,headers:j.headers,durationMs:H-T})),this.retryRequest(g,i,l??E,j.headers)}const q=M?"error; no more retries left":"error; not retryable";Ot(this).info(`${$} - ${q}`);const ie=await j.text().catch(ce=>gc(ce).message),V=Qv(ie),G=V?void 0:ie;throw Ot(this).debug(`[${E}] response error (${q})`,Ma({retryOfRequestLogID:l,url:j.url,status:j.status,headers:j.headers,message:G,durationMs:Date.now()-T})),this.makeStatusError(j.status,V,G,j.headers)}return Ot(this).info($),Ot(this).debug(`[${E}] response start`,Ma({retryOfRequestLogID:l,url:j.url,status:j.status,headers:j.headers,durationMs:H-T})),{response:j,options:g,controller:D,requestLogID:E,retryOfRequestLogID:l,startTime:T}}async fetchWithTimeout(a,i,l,c){const d=i||{},{signal:h,method:g}=d,p=Tl(d,["signal","method"]);h&&h.addEventListener("abort",()=>c.abort());const y=setTimeout(()=>c.abort(),l),_=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,w=Object.assign(Object.assign(Object.assign({signal:c.signal},_?{duplex:"half"}:{}),{method:"GET"}),p);g&&(w.method=g.toUpperCase());try{return await this.fetch.call(void 0,a,w)}finally{clearTimeout(y)}}async shouldRetry(a){const i=a.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:a.status===408||a.status===409||a.status===429||a.status>=500}async retryRequest(a,i,l,c){var d;let h;const g=c==null?void 0:c.get("retry-after-ms");if(g){const y=parseFloat(g);Number.isNaN(y)||(h=y)}const p=c==null?void 0:c.get("retry-after");if(p&&!h){const y=parseFloat(p);Number.isNaN(y)?h=Date.parse(p)-Date.now():h=y*1e3}if(!(h&&0<=h&&h<60*1e3)){const y=(d=a.maxRetries)!==null&&d!==void 0?d:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(i,y)}return await Fv(h),this.makeRequest(a,i-1,l)}calculateDefaultRetryTimeoutMillis(a,i){const d=i-a,h=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return h*g*1e3}async buildRequest(a,{retryCount:i=0}={}){var l,c,d;const h=Object.assign({},a),{method:g,path:p,query:y,defaultBaseURL:_}=h,w=this.buildURL(p,y,_);"timeout"in h&&Jv("timeout",h.timeout),h.timeout=(l=h.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:E,body:S}=this.buildBody({options:h}),T=await this.buildHeaders({options:a,method:g,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:T},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(c=this.fetchOptions)!==null&&c!==void 0?c:{}),(d=h.fetchOptions)!==null&&d!==void 0?d:{}),url:w,timeout:h.timeout}}async buildHeaders({options:a,method:i,bodyHeaders:l,retryCount:c}){let d={};this.idempotencyHeader&&i!=="get"&&(a.idempotencyKey||(a.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=a.idempotencyKey);const h=await this.authHeaders(a);let g=Bi([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(c)},a.timeout?{"X-Stainless-Timeout":String(Math.trunc(a.timeout/1e3))}:{}),t_()),this._options.defaultHeaders,l,a.headers,h]);return this.validateHeaders(g),g.values}buildBody({options:{body:a,headers:i}}){if(!a)return{bodyHeaders:void 0,body:void 0};const l=Bi([i]);return ArrayBuffer.isView(a)||a instanceof ArrayBuffer||a instanceof DataView||typeof a=="string"&&l.values.has("content-type")||globalThis.Blob&&a instanceof globalThis.Blob||a instanceof FormData||a instanceof URLSearchParams||globalThis.ReadableStream&&a instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:a}:typeof a=="object"&&(Symbol.asyncIterator in a||Symbol.iterator in a&&"next"in a&&typeof a.next=="function")?{bodyHeaders:void 0,body:a_(a)}:this.encoder({body:a,headers:l})}}Dl.DEFAULT_TIMEOUT=6e4;class St extends Dl{constructor(){super(...arguments),this.interactions=new Pg(this)}}Xg=St;St.GeminiNextGenAPIClient=Xg;St.GeminiNextGenAPIClientError=ln;St.APIError=Nt;St.APIConnectionError=jl;St.APIConnectionTimeoutError=jg;St.APIUserAbortError=pc;St.NotFoundError=kg;St.ConflictError=Ig;St.RateLimitError=Mg;St.BadRequestError=Cg;St.AuthenticationError=Dg;St.InternalServerError=Bg;St.PermissionDeniedError=Ug;St.UnprocessableEntityError=Lg;St.toFile=c_;St.Interactions=Pg;const S_=()=>{throw new Error("API Key is missing")},x_=async r=>{try{return(await S_().models.generateContent({model:"gemini-3-flash-preview",contents:`You are a world-class barista and social media manager for "Wavegram", a premium third-wave coffee community. Write a short, aesthetic "Wave" post (max 280 characters) about this topic: "${r}". Use an engaging, slightly sophisticated yet passionate tone about the art of the perfect pour. Include relevant emojis (like , , , ) and 1-2 coffee-related hashtags.`,config:{temperature:.8,topP:.95}})).text||"Failed to brew content."}catch(a){return console.error("AI Generation error:",a),"The milk is frothing... try again in a bit."}};function Ul(r,a){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i}function T_(r,a,i,l){function c(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function g(_){try{y(l.next(_))}catch(w){h(w)}}function p(_){try{y(l.throw(_))}catch(w){h(w)}}function y(_){_.done?d(_.value):c(_.value).then(g,p)}y((l=l.apply(r,a||[])).next())})}const A_=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class Uc extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class O_ extends Uc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class ag extends Uc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class rg extends Uc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var _c;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(_c||(_c={}));class N_{constructor(a,{headers:i={},customFetch:l,region:c=_c.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=A_(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return T_(this,arguments,void 0,function*(i,l={}){var c;let d,h;try{const{headers:g,method:p,body:y,signal:_,timeout:w}=l;let E={},{region:S}=l;S||(S=this.region);const T=new URL(`${this.url}/${i}`);S&&S!=="any"&&(E["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let D;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",D=y):typeof y=="string"?(E["Content-Type"]="text/plain",D=y):typeof FormData<"u"&&y instanceof FormData?D=y:(E["Content-Type"]="application/json",D=JSON.stringify(y)):D=y;let j=_;w&&(h=new AbortController,d=setTimeout(()=>h.abort(),w),_?(j=h.signal,_.addEventListener("abort",()=>h.abort())):j=h.signal);const H=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:D,signal:j}).catch(ie=>{throw new O_(ie)}),$=H.headers.get("x-relay-error");if($&&$==="true")throw new ag(H);if(!H.ok)throw new rg(H);let M=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),q;return M==="application/json"?q=yield H.json():M==="application/octet-stream"||M==="application/pdf"?q=yield H.blob():M==="text/event-stream"?q=H:M==="multipart/form-data"?q=yield H.formData():q=yield H.text(),{data:q,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof rg||g instanceof ag?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var R_=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},j_=class{constructor(r){var a,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,g=null,p=null,y=d.status,_=d.statusText;if(d.ok){var w,E;if(i.method!=="HEAD"){var S;const H=await d.text();H===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?g=H:g=JSON.parse(H))}const D=(w=i.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),j=(E=d.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");D&&j&&j.length>1&&(p=parseInt(j[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var T;const D=await d.text();try{h=JSON.parse(D),Array.isArray(h)&&d.status===404&&(g=[],h=null,y=200,_="OK")}catch{d.status===404&&D===""?(y=204,_="No Content"):h={message:D}}if(h&&i.isMaybeSingle&&(!(h==null||(T=h.details)===null||T===void 0)&&T.includes("0 rows"))&&(h=null,y=200,_="OK"),h&&i.shouldThrowOnError)throw new R_(h)}return{error:h,data:g,count:p,status:y,statusText:_}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let g="";const p=d==null?void 0:d.cause;if(p){var y,_,w,E;const T=(y=p==null?void 0:p.message)!==null&&y!==void 0?y:"",D=(_=p==null?void 0:p.code)!==null&&_!==void 0?_:"";g=`${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"FetchError"}: ${d==null?void 0:d.message}`,g+=`

Caused by: ${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"Error"}: ${T}`,D&&(g+=` (${D})`),p!=null&&p.stack&&(g+=`
${p.stack}`)}else{var S;g=(S=d==null?void 0:d.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,a)}returns(){return this}overrideTypes(){return this}},C_=class extends j_{select(r){let a=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(d,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const g=[r?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const ig=new RegExp("[,()]");var Ir=class extends C_{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&ig.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&ig.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${c}fts${d}.${a}`),this}match(r){return Object.entries(r).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(r,a,i){return this.url.searchParams.append(r,`not.${a}.${i}`),this}or(r,{foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,i){return this.url.searchParams.append(r,`${a}.${i}`),this}},D_=class{constructor(r,{headers:a={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(r,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new Ir({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ir({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ir({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Ir({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var a;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Ir({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},U_=class Jg{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D_(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Jg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:d}={}){var h;let g;const p=new URL(`${this.url}/rpc/${a}`);let y;l||c?(g=l?"HEAD":"GET",Object.entries(i).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{p.searchParams.append(w,E)})):(g="POST",y=i);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new Ir({method:g,url:p,headers:_,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class k_{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const I_="2.89.0",L_=`realtime-js/${I_}`,Qg="1.0.0",M_="2.0.0",sg=Qg,bc=1e4,B_=1e3,z_=100;var fa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(fa||(fa={}));var ot;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ot||(ot={}));var mn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(mn||(mn={}));var Ec;(function(r){r.websocket="websocket"})(Ec||(Ec={}));var za;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(za||(za={}));class H_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,i,l){var c,d;const h=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",p=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,_=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(_).length===0?"":JSON.stringify(_);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+h.length+y.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+E);let T=new DataView(S),D=0;T.setUint8(D++,this.KINDS.userBroadcastPush),T.setUint8(D++,p.length),T.setUint8(D++,g.length),T.setUint8(D++,h.length),T.setUint8(D++,y.length),T.setUint8(D++,w.length),T.setUint8(D++,i),Array.from(p,H=>T.setUint8(D++,H.charCodeAt(0))),Array.from(g,H=>T.setUint8(D++,H.charCodeAt(0))),Array.from(h,H=>T.setUint8(D++,H.charCodeAt(0))),Array.from(y,H=>T.setUint8(D++,H.charCodeAt(0))),Array.from(w,H=>T.setUint8(D++,H.charCodeAt(0)));var j=new Uint8Array(S.byteLength+l.byteLength);return j.set(new Uint8Array(S),0),j.set(new Uint8Array(l),S.byteLength),j.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,d,h,g,p]=l;return i({join_ref:c,ref:d,topic:h,event:g,payload:p})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,c)}}_decodeUserBroadcast(a,i,l){const c=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),g=i.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(a.slice(p,p+c));p=p+c;const _=l.decode(a.slice(p,p+d));p=p+d;const w=l.decode(a.slice(p,p+h));p=p+h;const E=a.slice(p,a.byteLength),S=g===this.JSON_ENCODING?JSON.parse(l.decode(E)):E,T={type:this.BROADCAST_EVENT,event:_,payload:S};return h>0&&(T.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a==null?void 0:a.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class Fg{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ze||(ze={}));const lg=(r,a,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=G_(h,r,a,c),d),{}):{}},G_=(r,a,i,l)=>{const c=a.find(g=>g.name===r),d=c==null?void 0:c.type,h=i[r];return d&&!l.includes(d)?Zg(d,h):wc(h)},Zg=(r,a)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Y_(a,i)}switch(r){case ze.bool:return q_(a);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return V_(a);case ze.json:case ze.jsonb:return $_(a);case ze.timestamp:return P_(a);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return wc(a);default:return wc(a)}},wc=r=>r,q_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},V_=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},$_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Y_=(r,a)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const h=r.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>Zg(a,g))}return r},P_=r=>typeof r=="string"?r.replace(" ","T"):r,Wg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class ic{constructor(a,i,l={},c=bc){this.channel=a,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var og;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(og||(og={}));class qi{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,c,d,h),this.pendingDiffs.forEach(p=>{this.state=qi.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=qi.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,c){const d=this.cloneDeep(a),h=this.transformState(i),g={},p={};return this.map(d,(y,_)=>{h[y]||(p[y]=_)}),this.map(h,(y,_)=>{const w=d[y];if(w){const E=_.map(j=>j.presence_ref),S=w.map(j=>j.presence_ref),T=_.filter(j=>S.indexOf(j.presence_ref)<0),D=w.filter(j=>E.indexOf(j.presence_ref)<0);T.length>0&&(g[y]=T),D.length>0&&(p[y]=D)}else g[y]=_}),this.syncDiff(d,{joins:g,leaves:p},l,c)}static syncDiff(a,i,l,c){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(g,p)=>{var y;const _=(y=a[g])!==null&&y!==void 0?y:[];if(a[g]=this.cloneDeep(p),_.length>0){const w=a[g].map(S=>S.presence_ref),E=_.filter(S=>w.indexOf(S.presence_ref)<0);a[g].unshift(...E)}l(g,_,p)}),this.map(h,(g,p)=>{let y=a[g];if(!y)return;const _=p.map(w=>w.presence_ref);y=y.filter(w=>_.indexOf(w.presence_ref)<0),a[g]=y,c(g,y,p),y.length===0&&delete a[g]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const c=a[l];return"metas"in c?i[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ug;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ug||(ug={}));var Vi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Vi||(Vi={}));var Gn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class zr{constructor(a,i={config:{}},l){var c,d;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ic(this,mn.join,this.params,this.timeout),this.rejoinTimer=new Fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new qi(this),this.broadcastEndpointURL=Wg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[Vi.PRESENCE]&&this.bindings[Vi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},E={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:_}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>a==null?void 0:a(Gn.CHANNEL_ERROR,S)),this._onClose(()=>a==null?void 0:a(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a==null||a(Gn.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,j=(T=D==null?void 0:D.length)!==null&&T!==void 0?T:0,H=[];for(let $=0;$<j;$++){const M=D[$],{filter:{event:q,schema:ie,table:V,filter:G}}=M,fe=S&&S[$];if(fe&&fe.event===q&&zr.isFilterValueEqual(fe.schema,ie)&&zr.isFilterValueEqual(fe.table,V)&&zr.isFilterValueEqual(fe.filter,G))H.push(Object.assign(Object.assign({},M),{id:fe.id}));else{this.unsubscribe(),this.state=ot.errored,a==null||a(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(Gn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ot.errored,a==null||a(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===ot.joined&&a===Vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,i={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,p;const y=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ot.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new ic(this,mn.leave,{},a),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),h}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ic(this,a,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>z_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var c,d;const h=a.toLocaleLowerCase(),{close:g,error:p,leave:y,join:_}=mn;if(l&&[g,p,y,_].indexOf(h)>=0&&l!==this._joinRef())return;let E=this._onMessage(h,i,l);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var T,D,j;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(D=S.filter)===null||D===void 0?void 0:D.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(S=>S.callback(E,l)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var T,D,j,H,$,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const q=S.id,ie=(T=S.filter)===null||T===void 0?void 0:T.event;return q&&((D=i.ids)===null||D===void 0?void 0:D.includes(q))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const q=($=(H=S==null?void 0:S.filter)===null||H===void 0?void 0:H.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return q==="*"||q===((M=i==null?void 0:i.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof E=="object"&&"ids"in E){const T=E.data,{schema:D,table:j,commit_timestamp:H,type:$,errors:M}=T;E=Object.assign(Object.assign({},{schema:D,table:j,commit_timestamp:H,eventType:$,new:{},old:{},errors:M}),this._getPayloadRecords(T))}S.callback(E,l)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&zr.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(mn.close,{},a)}_onError(a){this._on(mn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=lg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=lg(a.columns,a.old_record)),i}}const sc=()=>{},bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K_=[1e3,2e3,5e3,1e4],X_=1e4,J_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q_{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bc,this.transport=null,this.heartbeatIntervalMs=bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sc,this.ref=0,this.reconnectTimer=null,this.vsn=sg,this.logger=sc,this.conn=null,this.sendBuffer=[],this.serializer=new H_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=i==null?void 0:i.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Ec.websocket}`,this.httpEndpoint=Wg(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=k_.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return za.Connecting;case fa.open:return za.Open;case fa.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new zr(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:l,payload:c,ref:d}=a,h=()=>{this.encode(a,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${i} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(B_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:h}=i,g=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${l} ${c} ${g}`.trim(),d),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(mn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${l}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([J_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const d={access_token:i,version:L_};i&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(mn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,c,d,h,g,p,y,_,w,E,S;switch(this.transport=(i=a==null?void 0:a.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a==null?void 0:a.timeout)!==null&&l!==void 0?l:bc,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:bl.HEARTBEAT_INTERVAL,this.worker=(d=a==null?void 0:a.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a==null?void 0:a.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a==null?void 0:a.heartbeatCallback)!==null&&g!==void 0?g:sc,this.vsn=(p=a==null?void 0:a.vsn)!==null&&p!==void 0?p:sg,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a==null?void 0:a.reconnectAfterMs)!==null&&y!==void 0?y:(T=>K_[T-1]||X_),this.vsn){case Qg:this.encode=(_=a==null?void 0:a.encode)!==null&&_!==void 0?_:((T,D)=>D(JSON.stringify(T))),this.decode=(w=a==null?void 0:a.decode)!==null&&w!==void 0?w:((T,D)=>D(JSON.parse(T)));break;case M_:this.encode=(E=a==null?void 0:a.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(S=a==null?void 0:a.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var $i=class extends Error{constructor(r,a){var i;super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((i=a.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F_(r,a,i){const l=new URL(a,r);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function Z_(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function W_(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:d,headers:h}){const g=F_(r.baseUrl,l,c),p=await Z_(r.auth),y=await a(g,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...h},body:d?JSON.stringify(d):void 0}),_=await y.text(),w=(y.headers.get("content-type")||"").includes("application/json"),E=w&&_?JSON.parse(_):_;if(!y.ok){const S=w?E:void 0,T=S==null?void 0:S.error;throw new $i((T==null?void 0:T.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:y.status,headers:y.headers,data:E}}}}function El(r){return r.join("")}var eb=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:El(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const i={namespace:r.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${El(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${El(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${El(r.namespace)}`}),!0}catch(a){if(a instanceof $i&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(i){if(i instanceof $i&&i.status===409)return;throw i}}};function Nr(r){return r.join("")}var tb=class{constructor(r,a="",i){this.client=r,this.prefix=a,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(r,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nr(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(i){if(i instanceof $i&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(i){if(i instanceof $i&&i.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw i}}},nb=class{constructor(r){var l;let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=W_({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(l=r.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new eb(this.client,a),this.tableOps=new tb(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},kl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ke(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var ab=class extends kl{constructor(r,a,i){super(r),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sc=class extends kl{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const kc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),rb=()=>Response,xc=r=>{if(Array.isArray(r))return r.map(i=>xc(i));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=xc(l)}),a},ib=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},sb=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Yi(r){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Yi(r)}function lb(r,a){if(Yi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(Yi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function ob(r){var a=lb(r,"string");return Yi(a)=="symbol"?a:a+""}function ub(r,a,i){return(a=ob(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function cg(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function ne(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?cg(Object(i),!0).forEach(function(l){ub(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):cg(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const lc=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},cb=async(r,a,i)=>{r instanceof await rb()&&!(i!=null&&i.noResolveJson)?r.json().then(l=>{const c=r.status||500,d=(l==null?void 0:l.statusCode)||c+"";a(new ab(lc(l),c,d))}).catch(l=>{a(new Sc(lc(l),l))}):a(new Sc(lc(r),r))},db=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return r==="GET"||!l?c:(ib(l)?(c.headers=ne({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,a!=null&&a.duplex&&(c.duplex=a.duplex),ne(ne({},c),i))};async function Qi(r,a,i,l,c,d){return new Promise((h,g)=>{r(i,db(a,l,c,d)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>cb(p,g,l))})}async function Pi(r,a,i,l){return Qi(r,"GET",a,i,l)}async function fn(r,a,i,l,c){return Qi(r,"POST",a,l,c,i)}async function Tc(r,a,i,l,c){return Qi(r,"PUT",a,l,c,i)}async function hb(r,a,i,l){return Qi(r,"HEAD",a,ne(ne({},i),{},{noResolveJson:!0}),l)}async function Ic(r,a,i,l,c){return Qi(r,"DELETE",a,l,c,i)}var fb=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}};let ep;ep=Symbol.toStringTag;var mb=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[ep]="BlobDownloadBuilder",this.promise=null}asStream(){return new fb(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}};const gb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pb=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=i,this.fetch=kc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,i,l){var c=this;try{let d;const h=ne(ne({},dg),l);let g=ne(ne({},c.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=i,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(g=ne(ne({},g),l.headers));const y=c._removeEmptyFolders(a),_=c._getFinalPath(y),w=await(r=="PUT"?Tc:fn)(c.fetch,`${c.url}/object/${_}`,d,ne({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async upload(r,a,i){return this.uploadOrUpdate("POST",r,a,i)}async uploadToSignedUrl(r,a,i,l){var c=this;const d=c._removeEmptyFolders(r),h=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${h}`);g.searchParams.set("token",a);try{let p;const y=ne({upsert:dg.upsert},l),_=ne(ne({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",y.cacheControl)):(p=i,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{data:{path:d,fullPath:(await Tc(c.fetch,g.toString(),p,{headers:_})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Ke(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,a){var i=this;try{let l=i._getFinalPath(r);const c=ne({},i.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const d=await fn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(i.url+d.url),g=h.searchParams.get("token");if(!g)throw new kl("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:g},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async update(r,a,i){return this.uploadOrUpdate("PUT",r,a,i)}async move(r,a,i){var l=this;try{return{data:await fn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async copy(r,a,i){var l=this;try{return{data:{path:(await fn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrl(r,a,i){var l=this;try{let c=l._getFinalPath(r),d=await fn(l.fetch,`${l.url}/object/sign/${c}`,ne({expiresIn:a},i!=null&&i.transform?{transform:i.transform}:{}),{headers:l.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrls(r,a,i){var l=this;try{const c=await fn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:r},{headers:l.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>ne(ne({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}download(r,a){const i=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(r),h=()=>Pi(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new mb(h,this.shouldThrowOnError)}async info(r){var a=this;const i=a._getFinalPath(r);try{return{data:xc(await Pi(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async exists(r){var a=this;const i=a._getFinalPath(r);try{return await hb(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ke(l)&&l instanceof Sc){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,a){const i=this._getFinalPath(r),l=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const d=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});h!==""&&l.push(h);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}async remove(r){var a=this;try{return{data:await Ic(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async list(r,a,i){var l=this;try{const c=ne(ne(ne({},gb),a),{},{prefix:r||""});return{data:await fn(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async listV2(r,a){var i=this;try{const l=ne({},r);return{data:await fn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},a),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const tp="2.89.0",np={"X-Client-Info":`storage-js/${tp}`};var yb=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1;const c=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ne(ne({},np),a),this.fetch=kc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const i=a.listBucketOptionsToQueryString(r);return{data:await Pi(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await Pi(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async createBucket(r,a={public:!1}){var i=this;try{return{data:await fn(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async updateBucket(r,a){var i=this;try{return{data:await Tc(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async emptyBucket(r){var a=this;try{return{data:await fn(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Ic(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},vb=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ne(ne({},np),a),this.fetch=kc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await fn(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async listBuckets(r){var a=this;try{const i=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&i.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&i.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&i.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&i.set("sortOrder",r.sortOrder),r!=null&&r.search&&i.set("search",r.search);const l=i.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await Pi(a.fetch,c,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Ic(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}from(r){var a=this;if(!sb(r))throw new kl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new nb({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const Lc={"X-Client-Info":`storage-js/${tp}`,"Content-Type":"application/json"};var ap=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var oc=class extends ap{constructor(r,a,i){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_b=class extends ap{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const Mc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),bb=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},hg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Eb=async(r,a,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(i!=null&&i.noResolveJson)){const l=r.status||500,c=r;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";a(new oc(hg(d),l,h))}).catch(()=>{const d=l+"";a(new oc(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";a(new oc(c.statusText||`HTTP ${l} error`,l,d))}}else a(new _b(hg(r),r))},wb=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return l?(bb(l)?(c.headers=ne({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,ne(ne({},c),i)):c};async function Sb(r,a,i,l,c,d){return new Promise((h,g)=>{r(i,wb(a,l,c,d)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Eb(p,g,l))})}async function Xt(r,a,i,l,c){return Sb(r,"POST",a,l,c,i)}var xb=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ne(ne({},Lc),a),this.fetch=Mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getIndex(r,a){var i=this;try{return{data:await Xt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async listIndexes(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteIndex(r,a){var i=this;try{return{data:await Xt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}},Tb=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ne(ne({},Lc),a),this.fetch=Mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xt(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getVectors(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Xt(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async queryVectors(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xt(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}},Ab=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ne(ne({},Lc),a),this.fetch=Mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Xt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}},Ob=class extends Ab{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new Nb(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,i=this;return a().call(i,r)}async getBucket(r){var a=()=>super.getBucket,i=this;return a().call(i,r)}async listBuckets(r={}){var a=()=>super.listBuckets,i=this;return a().call(i,r)}async deleteBucket(r){var a=()=>super.deleteBucket,i=this;return a().call(i,r)}},Nb=class extends xb{constructor(r,a,i,l){super(r,a,l),this.vectorBucketName=i}async createIndex(r){var a=()=>super.createIndex,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,r)}index(r){return new Rb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Rb=class extends Tb{constructor(r,a,i,l,c){super(r,a,c),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var a=()=>super.putVectors,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var a=()=>super.getVectors,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,i=this;return a().call(i,ne(ne({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},jb=class extends yb{constructor(r,a={},i,l){super(r,a,i,l)}from(r){return new pb(this.url,this.headers,r,this.fetch)}get vectors(){return new Ob(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vb(this.url+"/iceberg",this.headers,this.fetch)}};const rp="2.89.0",Lr=30*1e3,Ac=3,uc=Ac*Lr,Cb="http://localhost:9999",Db="supabase.auth.token",Ub={"X-Client-Info":`gotrue-js/${rp}`},Oc="X-Supabase-Api-Version",ip={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ib=600*1e3;class Ki extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function F(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Lb extends Ki{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Mb(r){return F(r)&&r.name==="AuthApiError"}class Ha extends Ki{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class qn extends Ki{constructor(a,i,l,c){super(a,l,c),this.name=i,this.status=l}}class Yt extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bb(r){return F(r)&&r.name==="AuthSessionMissingError"}class Rr extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends qn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Sl extends qn{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zb(r){return F(r)&&r.name==="AuthImplicitGrantRedirectError"}class fg extends qn{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hb extends qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nc extends qn{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function cc(r){return F(r)&&r.name==="AuthRetryableFetchError"}class mg extends qn{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Rc extends qn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gg=` 	
\r=`.split(""),Gb=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<gg.length;a+=1)r[gg[a].charCodeAt(0)]=-2;for(let a=0;a<Ol.length;a+=1)r[Ol[a].charCodeAt(0)]=a;return r})();function pg(r,a,i){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Ol[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Ol[l]),a.queuedBits-=6}}function sp(r,a,i){const l=Gb[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function yg(r){const a=[],i=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{$b(h,l,i)};for(let h=0;h<r.length;h+=1)sp(r.charCodeAt(h),c,d);return a.join("")}function qb(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Vb(r,a){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}qb(l,a)}}function $b(r,a,i){if(a.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Gr(r){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)sp(r.charCodeAt(c),i,l);return new Uint8Array(a)}function Yb(r){const a=[];return Vb(r,i=>a.push(i)),new Uint8Array(a)}function Ga(r){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};return r.forEach(c=>pg(c,i,l)),pg(null,i,l),a.join("")}function Pb(r){return Math.round(Date.now()/1e3)+r}function Kb(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},lp=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function Xb(r){const a={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((l,c)=>{a[c]=l}),a}const op=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Jb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Mr=async(r,a,i)=>{await r.setItem(a,JSON.stringify(i))},La=async(r,a)=>{const i=await r.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Et=async(r,a)=>{await r.removeItem(a)};class Il{constructor(){this.promise=new Il.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Il.promiseConstructor=Promise;function dc(r){const a=r.split(".");if(a.length!==3)throw new Rc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!kb.test(a[l]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(yg(a[0])),payload:JSON.parse(yg(a[1])),signature:Gr(a[2]),raw:{header:a[0],payload:a[1]}}}async function Qb(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function Fb(r,a){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!a(d,null,h)){l(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function Zb(r){return("0"+r.toString(16)).substr(-2)}function Wb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,Zb).join("")}async function eE(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function tE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await eE(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(r,a,i=!1){const l=Wb();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Mr(r,`${a}-code-verifier`,c);const d=await tE(l);return[d,l===d?"plain":"s256"]}const nE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aE(r){const a=r.headers.get(Oc);if(!a||!a.match(nE))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function rE(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function iE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(r){if(!sE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hc(){const r={};return new Proxy(r,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lE(r,a){return new Proxy(r,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,c)}})}function vg(r){return JSON.parse(JSON.stringify(r))}const Ba=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),oE=[502,503,504];async function _g(r){var a;if(!Jb(r))throw new Nc(Ba(r),0);if(oE.includes(r.status))throw new Nc(Ba(r),r.status);let i;try{i=await r.json()}catch(d){throw new Ha(Ba(d),d)}let l;const c=aE(r);if(c&&c.getTime()>=ip["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new mg(Ba(i),r.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Yt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new mg(Ba(i),r.status,i.weak_password.reasons);throw new Lb(Ba(i),r.status||500,l)}const uE=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function te(r,a,i,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[Oc]||(d[Oc]=ip["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await cE(r,a,i+g,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function cE(r,a,i,l,c,d){const h=uE(a,l,c,d);let g;try{g=await r(i,Object.assign({},h))}catch(p){throw console.error(p),new Nc(Ba(p),0)}if(g.ok||await _g(g),l!=null&&l.noResolveJson)return g;try{return await g.json()}catch(p){await _g(p)}}function hn(r){var a;let i=null;fE(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=Pb(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:i,user:l},error:null}}function bg(r){const a=hn(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function ma(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function dE(r){return{data:r,error:null}}function hE(r){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d}=r,h=Ul(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function Eg(r){return r}function fE(r){return r.access_token&&r.refresh_token&&r.expires_in}const fc=["global","local","others"];class mE{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=op(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=fc[0]){if(fc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fc.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ma})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=Ul(a,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:hE,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(F(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ma})}catch(i){if(F(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},_=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Eg});if(_.error)throw _.error;const w=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(T=>{const D=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);y[`${j}Page`]=D}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(F(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){Cr(a);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ma})}catch(i){if(F(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){Cr(a);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:ma})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){Cr(a);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:ma})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){Cr(a.userId);try{const{data:i,error:l}=await te(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(F(i))return{data:null,error:i};throw i}}async _deleteFactor(a){Cr(a.userId),Cr(a.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(F(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},_=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Eg});if(_.error)throw _.error;const w=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(T=>{const D=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);y[`${j}Page`]=D}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(F(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(F(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(F(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(F(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(F(i))return{data:null,error:i};throw i}}}function wg(r={}){return{getItem:a=>r[a]||null,setItem:(a,i)=>{r[a]=i},removeItem:a=>{delete r[a]}}}const Dr={debug:!!(globalThis&&lp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class up extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class gE extends up{}async function pE(r,a,i){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new gE(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Dr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function yE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cp(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function vE(r){return parseInt(r,16)}function _E(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function bE(r){var a;const{chainId:i,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:p,resources:y,scheme:_,uri:w,version:E}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=cp(r.address),T=_?`${_}://${l}`:l,D=r.statement?`${r.statement}
`:"",j=`${T} wants you to sign in with your Ethereum account:
${S}

${D}`;let H=`URI: ${w}
Version: ${E}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),p&&(H+=`
Request ID: ${p}`),y){let $=`
Resources:`;for(const M of y){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);$+=`
- ${M}`}H+=$}return`${j}
${H}`}class it extends Error{constructor({message:a,code:i,cause:l,name:c}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Nl extends it{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function EE({error:r,options:a}){var i,l,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new it({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(dp(h)){if(d.rp.id!==h)return new it({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function wE({error:r,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new it({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(dp(l)){if(i.rpId!==l)return new it({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class SE{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const xE=new SE;function TE(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:i,excludeCredentials:l}=r,c=Ul(r,["challenge","user","excludeCredentials"]),d=Gr(a).buffer,h=Object.assign(Object.assign({},i),{id:Gr(i.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:h});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Gr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function AE(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:i}=r,l=Ul(r,["challenge","allowCredentials"]),c=Gr(a).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Gr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function OE(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ga(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function NE(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ga(new Uint8Array(c.authenticatorData)),clientDataJSON:Ga(new Uint8Array(c.clientDataJSON)),signature:Ga(new Uint8Array(c.signature)),userHandle:c.userHandle?Ga(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function dp(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Sg(){var r,a;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function RE(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Nl("Browser returned unexpected credential type",a)}:{data:null,error:new Nl("Empty credential response",a)}}catch(a){return{data:null,error:EE({error:a,options:r})}}}async function jE(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Nl("Browser returned unexpected credential type",a)}:{data:null,error:new Nl("Empty credential response",a)}}catch(a){return{data:null,error:wE({error:a,options:r})}}}const CE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rl(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))l[d]=h;else if(i(h))l[d]=h;else if(a(h)){const g=l[d];a(g)?l[d]=Rl(g,h):l[d]=Rl(h)}else l[d]=h}return l}function UE(r,a){return Rl(CE,r,a||{})}function kE(r,a){return Rl(DE,r,a||{})}class IE{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:c},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!h)return{data:null,error:g};const p=c??xE.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=UE(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:_,error:w}=await RE({publicKey:y,signal:p});return _?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const y=kE(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:_,error:w}=await jE(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return _?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Ha("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Ki("rpId is required for WebAuthn authentication")};try{if(!Sg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:d});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Ha("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Ki("rpId is required for WebAuthn registration")};try{if(!Sg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(_=>{var w;return(w=_.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===a&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Ha("Unexpected error in register",h)}}}}yE();const LE={url:Cb,storageKey:Db,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ub,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xg(r,a,i){return await i()}const Ur={};class Xi{get jwks(){var a,i;return(i=(a=Ur[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=Ur[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},LE),a);if(this.storageKey=d.storageKey,this.instanceID=(i=Xi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&wt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new mE({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=op(d.fetch),this.lock=d.lock||xg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&wt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=pE:this.lock=xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:lp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=wg(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rp}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(wt()&&(i=Xb(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),wt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),zb(d)){const p=(a=d.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return F(i)?this._returnResult({error:i}):this._returnResult({error:new Ha("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,c;try{const d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a==null?void 0:a.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:hn}),{data:h,error:g}=d;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(F(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,l,c;try{let d;if("email"in a){const{email:_,password:w,options:E}=a;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await jr(this.storage,this.storageKey)),d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:_,password:w,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:S,code_challenge_method:T},xform:hn})}else if("phone"in a){const{phone:_,password:w,options:E}=a;d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(l=E==null?void 0:E.data)!==null&&l!==void 0?l:{},channel:(c=E==null?void 0:E.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:hn})}else throw new wl("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return await Et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:h,options:g}=a;i=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:bg})}else if("phone"in a){const{phone:d,password:h,options:g}=a;i=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:bg})}else throw new wl("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Rr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,c,d,h,g,p,y,_,w,E;let S,T;if("message"in a)S=a.message,T=a.signature;else{const{chain:D,wallet:j,statement:H,options:$}=a;let M;if(wt())if(typeof j=="object")M=j;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")M=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const q=new URL((i=$==null?void 0:$.url)!==null&&i!==void 0?i:window.location.href),ie=await M.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=cp(ie[0]);let G=(l=$==null?void 0:$.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!G){const ce=await M.request({method:"eth_chainId"});G=vE(ce)}const fe={domain:q.host,address:V,statement:H,uri:q.href,version:"1",chainId:G,nonce:(c=$==null?void 0:$.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=$==null?void 0:$.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=$==null?void 0:$.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=$==null?void 0:$.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=$==null?void 0:$.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=$==null?void 0:$.signInWithEthereum)===null||_===void 0?void 0:_.resources};S=bE(fe),T=await M.request({method:"personal_sign",params:[_E(S),V]})}try{const{data:D,error:j}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:hn});if(j)throw j;if(!D||!D.session||!D.user){const H=new Rr;return this._returnResult({data:{user:null,session:null},error:H})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:j})}catch(D){if(F(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(a){var i,l,c,d,h,g,p,y,_,w,E,S;let T,D;if("message"in a)T=a.message,D=a.signature;else{const{chain:j,wallet:H,statement:$,options:M}=a;let q;if(wt())if(typeof H=="object")q=H;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))q=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=H}const ie=new URL((i=M==null?void 0:M.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in q&&q.signIn){const V=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),$?{statement:$}:null));let G;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")G=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)G=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)T=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),D=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ie.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(c=(l=M==null?void 0:M.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M==null?void 0:M.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((w=(_=M==null?void 0:M.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||w===void 0)&&w.length?["Resources",...M.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const V=await q.signMessage(new TextEncoder().encode(T),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=V}}try{const{data:j,error:H}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Ga(D)},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:hn});if(H)throw H;if(!j||!j.session||!j.user){const $=new Rr;return this._returnResult({data:{user:null,session:null},error:$})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:H})}catch(j){if(F(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const i=await La(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Hb;const{data:d,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:hn});if(await Et(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const g=new Rr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:l,token:c,access_token:d,nonce:h}=a,g=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:hn}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const _=new Rr;return this._returnResult({data:{user:null,session:null},error:_})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,c,d,h;try{if("email"in a){const{email:g,options:p}=a;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await jr(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:g,options:p}=a,{data:y,error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(d=p==null?void 0:p.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_})}throw new wl("You must provide either an email or phone number.")}catch(g){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var i,l;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:g}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:hn});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,l,c,d,h;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await jr(this.storage,this.storageKey));const y=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:dE});return!((d=y.data)===null||d===void 0)&&d.url&&wt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new Yt;const{error:c}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:d}=a,{error:h}=await te(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:d}=a,{data:h,error:g}=await te(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new wl("You must provide either an email or phone number and a type")}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await La(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await La(this.userStorage,this.storageKey+"-user");h!=null&&h.user?a.user=h.user:a.user=hc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=lE(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ma}):await this._useSession(async i=>{var l,c,d;const{data:h,error:g}=i;if(g)throw g;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ma})})}catch(i){if(F(i))return Bb(i)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Yt;const h=c.session;let g=null,p=null;this.flowType==="pkce"&&a.email!=null&&([g,p]=await jr(this.storage,this.storageKey));const{data:y,error:_}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:ma});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Yt;const i=Date.now()/1e3;let l=i,c=!0,d=null;const{payload:h}=dc(a.access_token);if(h.exp&&(l=h.exp,c=l<=i),c){const{data:g,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(a.access_token);if(p)throw p;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(F(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:h,error:g}=i;if(g)throw g;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(a!=null&&a.refresh_token))throw new Yt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!wt())throw new Sl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Sl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new fg("No code detected.");const{data:$,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:p,token_type:y}=a;if(!d||!g||!h||!y)throw new Sl("No session defined in URL");const _=Math.round(Date.now()/1e3),w=parseInt(g);let E=_+w;p&&(E=parseInt(p));const S=E-_;S*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const T=E-w;_-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,E,_):_-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,E,_);const{data:D,error:j}=await this._getUser(d);if(j)throw j;const H={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:E,refresh_token:h,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:a.type},error:null})}catch(l){if(F(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await La(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(Mb(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=Kb(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,c;try{const{data:{session:d},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await jr(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:c}=await this._useSession(async d=>{var h,g,p,y,_;const{data:w,error:E}=d;if(E)throw E;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",S,{headers:this.headers,jwt:(_=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return wt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:a.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(F(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:h,provider:g,token:p,access_token:y,nonce:_}=a,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:p,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hn}),{data:E,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Rr}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:S}))}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Fb(async c=>(c>0&&await Qb(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:hn})),(c,d)=>{const h=200*Math.pow(2,c);return d&&cc(d)&&Date.now()+h-l<Lr})}catch(l){if(this._debug(i,"error",l),F(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),wt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await La(this.storage,this.storageKey);if(c&&this.userStorage){let h=await La(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Mr(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h==null?void 0:h.user)!==null&&a!==void 0?a:hc()}else if(c&&!c.user&&!c.user){const h=await La(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await Et(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,c)):c.user=hc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<uc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${uc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),cc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Il;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new Yt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),F(d)){const h={data:null,error:d};return cc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,i)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Et(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=vg(c);await Mr(this.storage,this.storageKey,d)}else{const c=vg(i);await Mr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Lr}ms, refresh threshold is ${Ac} ticks`),c<=Ac&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof up)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await jr(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await te(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await te(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?OE(a.webauthn.credential_response):NE(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:p}=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:TE(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:AE(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i==null?void 0:i.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=dc(l.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Yt});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&wt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Yt});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&wt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(g=>g.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(g=>g.kid===a),l&&this.jwks_cached_at+Ib>c)return l;const{data:d,error:h}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(g=>g.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});l=S.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:p}}=dc(l);i!=null&&i.allowExpired||rE(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!y){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:h},error:null}}const _=iE(c.alg),w=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,w,h,Yb(`${g}.${p}`)))throw new Rc("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}}Xi.nextInstanceID={};const ME=Xi,BE="2.89.0";let Hi="";typeof Deno<"u"?Hi="deno":typeof document<"u"?Hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hi="react-native":Hi="node";const zE={"X-Client-Info":`supabase-js-${Hi}/${BE}`},HE={headers:zE},GE={schema:"public"},qE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VE={};function Ji(r){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ji(r)}function $E(r,a){if(Ji(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(Ji(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function YE(r){var a=$E(r,"string");return Ji(a)=="symbol"?a:a+""}function PE(r,a,i){return(a=YE(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function Tg(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Qe(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Tg(Object(i),!0).forEach(function(l){PE(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tg(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const KE=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),XE=()=>Headers,JE=(r,a,i)=>{const l=KE(i),c=XE();return async(d,h)=>{var g;const p=(g=await a())!==null&&g!==void 0?g:r;let y=new c(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(d,Qe(Qe({},h),{},{headers:y}))}};function QE(r){return r.endsWith("/")?r:r+"/"}function FE(r,a){var i,l;const{db:c,auth:d,realtime:h,global:g}=r,{db:p,auth:y,realtime:_,global:w}=a,E={db:Qe(Qe({},p),c),auth:Qe(Qe({},y),d),realtime:Qe(Qe({},_),h),storage:{},global:Qe(Qe(Qe({},w),g),{},{headers:Qe(Qe({},(i=w==null?void 0:w.headers)!==null&&i!==void 0?i:{}),(l=g==null?void 0:g.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function ZE(r){const a=r==null?void 0:r.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QE(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var WE=class extends ME{constructor(r){super(r)}},e1=class{constructor(r,a,i){var l,c;this.supabaseUrl=r,this.supabaseKey=a;const d=ZE(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:GE,realtime:VE,auth:Qe(Qe({},qE),{},{storageKey:h}),global:HE},p=FE(i??{},g);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=JE(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new U_(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new jb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new N_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:d,flowType:h,lock:g,debug:p,throwOnError:y},_,w){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WE({url:this.authUrl.href,headers:Qe(Qe({},E),_),storageKey:d,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:g,debug:p,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Q_(this.realtimeUrl.href,Qe(Qe({},r),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const t1=(r,a,i)=>new e1(r,a,i);function n1(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const a=r.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}n1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a1="https://avyhikexewvhsrtnddbl.supabase.co",r1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2eWhpa2V4ZXd2aHNydG5kZGJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNTAwMDUsImV4cCI6MjA3NjcyNjAwNX0.fz0wC8bdIzWECrPgnj4aTz3EA-jEIW_p9V1KfTtFztk",we=t1(a1,r1),Ag=({user:r,onClose:a,onSubmit:i,initialData:l})=>{const[c,d]=K.useState((l==null?void 0:l.content)||""),[h,g]=K.useState(null),[p,y]=K.useState((l==null?void 0:l.image)||""),[_,w]=K.useState(!1),[E,S]=K.useState(!1),[T,D]=K.useState(""),j=!!l,H=async()=>{if(!T)return;w(!0);const q=await x_(T);d(q),w(!1)},$=q=>{var V;const ie=(V=q.target.files)==null?void 0:V[0];if(ie){g(ie);const G=new FileReader;G.onloadend=()=>{y(G.result)},G.readAsDataURL(ie)}},M=async()=>{S(!0);let q="";if(h){const ie=h.name.split(".").pop(),G=`brews/${`${Math.random()}.${ie}`}`,{data:fe,error:ce}=await we.storage.from("brew-images").upload(G,h);if(ce)console.error("FAILED_TO_UPLOAD_IMAGE",ce),alert(`Failed to upload image: ${ce.message}`);else if(fe){const{data:ut}=we.storage.from("brew-images").getPublicUrl(G);q=ut.publicUrl}}i(c,q),S(!1)};return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-xl flex items-center justify-center p-4 z-50 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[92vh] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.6)] overflow-hidden motion-safe:animate-in motion-safe:zoom-in-95 motion-safe:slide-in-from-bottom-8",children:[m.jsxs("div",{className:"px-8 py-6 border-b border-[#2c1a12] flex justify-between items-center bg-[#1a1817]",children:[m.jsx("button",{onClick:a,className:"text-[#a09a96] hover:text-[#efebe9] transition-all font-bold text-sm uppercase tracking-widest active:scale-95",children:"Cancel"}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-black text-[#efebe9] text-xl tracking-tight",children:j?"Edit Brew":"New Brew"}),m.jsx("div",{className:"h-1 w-8 bg-[#c29a67] rounded-full mt-1 opacity-50"})]}),m.jsx("div",{className:"w-16"})]}),m.jsxs("div",{className:"px-8 py-8 overflow-y-auto custom-scrollbar",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("img",{src:r.avatar,className:"w-14 h-14 rounded-full border-2 border-[#c29a67]/30 object-cover shadow-xl"}),m.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-[#c29a67]/20 to-transparent rounded-full min-h-[40px]"})]}),m.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("span",{className:"font-black text-[#efebe9] text-lg tracking-tight",children:["@",r.username]}),m.jsx("span",{className:"text-xs font-bold text-[#c29a67] bg-[#c29a67]/10 px-3 py-1 rounded-full border border-[#c29a67]/20 uppercase tracking-widest",children:j?"Refining":"Drafting"})]}),m.jsx("textarea",{autoFocus:!0,value:c,onChange:q=>d(q.target.value),placeholder:"Share your coffee thoughts...",className:"w-full bg-transparent border-none focus:ring-0 text-xl font-medium leading-relaxed resize-none min-h-[160px] p-0 placeholder-[#a09a96]/30 text-[#efebe9]"}),p&&m.jsxs("div",{className:"group relative mt-6 rounded-[2rem] overflow-hidden border border-[#2c1a12] shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:p,className:"w-full object-contain max-h-[320px] transition-transform duration-500 group-hover:scale-[1.02]"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"}),m.jsx("button",{onClick:()=>{g(null),y("")},className:"absolute top-4 right-4 bg-black/60 backdrop-blur-md p-2.5 rounded-full hover:bg-black text-white transition-all transform hover:scale-110 shadow-xl",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"mt-8 flex items-center gap-6",children:m.jsxs("label",{className:"group flex items-center gap-2 cursor-pointer text-[#a09a96] hover:text-[#c29a67] transition-all",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:$,className:"hidden"}),m.jsx("div",{className:"p-3 bg-[#2c1a12] rounded-2xl group-hover:bg-[#c29a67]/10 transition-colors",children:m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest hidden sm:block",children:p?"Change Photo":"Add Photo"})]})})]})]}),m.jsx("div",{className:"mt-12 group transition-all duration-300",children:m.jsxs("div",{className:"bg-gradient-to-br from-[#2c1a12] to-[#1a1817] rounded-[2rem] p-8 border border-[#c29a67]/10 shadow-inner group-hover:border-[#c29a67]/30 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-2 bg-[#c29a67]/10 rounded-xl",children:m.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#c29a67",strokeWidth:"2",children:m.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})})}),m.jsx("h4",{className:"text-xs font-black text-[#c29a67] uppercase tracking-[0.2em]",children:"Brew with Gemini assistant"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsx("input",{type:"text",value:T,onChange:q=>D(q.target.value),placeholder:"e.g. A review of Third Wave's latest roast",className:"flex-1 bg-[#0e0d0c]/50 border border-[#c29a67]/10 rounded-2xl px-5 py-4 text-sm focus:border-[#c29a67] outline-none text-[#efebe9] placeholder-[#a09a96]/20 transition-all font-medium"}),m.jsx("button",{onClick:H,disabled:_||!T,className:"bg-[#c29a67] text-[#0e0d0c] text-sm font-black px-8 py-4 rounded-2xl hover:bg-[#d4b48d] disabled:opacity-30 disabled:cursor-not-allowed transition-all shadow-[0_10px_20px_-5px_rgba(194,154,103,0.3)] active:scale-95 shrink-0",children:_?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),"Roasting Draft..."]}):"Generate Draft"})]})]})})]}),m.jsx("div",{className:"px-8 py-6 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsxs("button",{onClick:M,disabled:!c.trim()||E,className:"group relative bg-[#efebe9] text-[#0e0d0c] font-black px-12 py-4 rounded-2xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-[0_20px_40px_-10px_rgba(239,235,233,0.2)] active:scale-95 flex items-center gap-3 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),E?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-3 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:j?"Updating...":"Brewing..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:j?"Update Brew":"Brew Now"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})]})})},i1=({currentUser:r})=>{const[a,i]=K.useState(null),[l,c]=K.useState(!0),[d,h]=K.useState(!1),[g,p]=K.useState({}),[y,_]=K.useState(null),[w,E]=K.useState(""),[S,T]=K.useState(!1);K.useEffect(()=>{D()},[]);const D=async()=>{c(!0);const{data:M,error:q}=await we.from("featured_brews").select("*").eq("id",1).single();q?console.error("Error fetching featured brew:",q):(i(M),p(M)),c(!1)},j=M=>{var ie;const q=(ie=M.target.files)==null?void 0:ie[0];if(q){_(q);const V=new FileReader;V.onloadend=()=>{E(V.result),p({...g,image_url:V.result})},V.readAsDataURL(q)}},H=async()=>{T(!0);let M=g.image_url;if(y){const ie=y.name.split(".").pop(),V=`featured/brew-${Date.now()}.${ie}`,{data:G,error:fe}=await we.storage.from("brew-images").upload(V,y);if(fe){alert("Image upload failed: "+fe.message),T(!1);return}const{data:{publicUrl:ce}}=we.storage.from("brew-images").getPublicUrl(V);M=ce}const{error:q}=await we.from("featured_brews").update({title:g.title,description:g.description,image_url:M,cta_text:g.cta_text,cta_link:g.cta_link,updated_at:new Date().toISOString()}).eq("id",1);q?alert("Failed to update featured brew: "+q.message):(i({...g,image_url:M}),h(!1),_(null),E("")),T(!1)};if(l&&!a)return m.jsxs("div",{className:"mx-6 my-8 p-12 bg-[#1a1817] rounded-[2.5rem] border border-[#2c1a12] animate-pulse flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-3 border-[#c29a67] border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-[#a09a96] text-xs font-bold uppercase tracking-widest",children:"Dialing in the espresso..."})]});const $=(r==null?void 0:r.username)==="twc_training";return m.jsxs("div",{className:"mx-6 my-8 p-8 bg-gradient-to-br from-[#1a1817] to-[#0e0d0c] rounded-[2.5rem] border border-[#c29a67]/30 shadow-2xl relative overflow-hidden group transition-all duration-500 hover:border-[#c29a67]/60",children:[m.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-[#c29a67]/5 rounded-full blur-3xl group-hover:bg-[#c29a67]/10 transition-colors duration-500"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex h-2 w-2 rounded-full bg-[#c29a67] animate-ping"}),m.jsx("h3",{className:"text-[#c29a67] text-xs font-black uppercase tracking-[0.2em]",children:"Barista's Choice"})]}),$&&!d&&m.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-[#c29a67] border border-[#c29a67]/30 rounded-xl hover:bg-[#c29a67] hover:text-[#0e0d0c] transition-all bg-[#0e0d0c]/50",children:"Edit Feature"})]}),d?m.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Image Preview"}),m.jsxs("div",{className:"group/edit-img relative w-full aspect-video md:aspect-square rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:w||g.image_url,className:"w-full h-full object-contain transition-transform duration-500 group-hover/edit-img:scale-[1.05]"}),m.jsxs("label",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover/edit-img:opacity-100 transition-opacity flex flex-col items-center justify-center cursor-pointer backdrop-blur-sm",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"}),m.jsx("div",{className:"p-4 bg-[#c29a67] rounded-full text-[#0e0d0c] shadow-2xl mb-2 transform scale-75 group-hover/edit-img:scale-100 transition-transform flex items-center justify-center",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Click to Replace Image"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Brew Title"}),m.jsx("input",{value:g.title,onChange:M=>p({...g,title:M.target.value}),placeholder:"e.g. La vien rose",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold text-lg transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Description"}),m.jsx("textarea",{value:g.description,onChange:M=>p({...g,description:M.target.value}),placeholder:"Describe the brew...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none h-32 font-medium leading-relaxed resize-none transition-all"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Button Text"}),m.jsx("input",{value:g.cta_text,onChange:M=>p({...g,cta_text:M.target.value}),placeholder:"Learn how to prepare it",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Action Link (PDF/Video)"}),m.jsx("input",{value:g.cta_link,onChange:M=>p({...g,cta_link:M.target.value}),placeholder:"e.g. https://...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-medium text-xs transition-all"})]})]}),m.jsxs("div",{className:"flex gap-4 pt-8 border-t border-[#2c1a12]",children:[m.jsx("button",{onClick:H,disabled:S,className:"flex-1 bg-[#c29a67] text-[#0e0d0c] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:bg-[#efebe9] transition-all shadow-2xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:"Saving..."})]}):m.jsx("span",{children:"Save Feature Update"})}),m.jsx("button",{onClick:()=>{h(!1),E(""),_(null)},disabled:S,className:"flex-1 border border-[#2c1a12] text-[#a09a96] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:text-[#efebe9] transition-all active:scale-95",children:"Discard Changes"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-4xl font-black text-[#efebe9] mb-8 tracking-tighter group-hover:text-white transition-colors",children:"Barista's Signature"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[m.jsxs("div",{className:"relative group/img shrink-0 bg-[#0e0d0c] rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[m.jsx("img",{src:(a==null?void 0:a.image_url)||"https://images.unsplash.com/photo-1541167760496-162955ed8a9f?q=80&w=400&h=400&auto=format&fit=crop",alt:a==null?void 0:a.title,className:"w-full md:w-44 h-44 object-contain group-hover:scale-110 transition-transform duration-700 ease-out"}),m.jsx("div",{className:"absolute inset-0 ring-1 ring-inset ring-white/10"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-2xl font-black text-[#efebe9] tracking-tight mb-2",children:a==null?void 0:a.title}),m.jsx("p",{className:"text-[#a09a96] text-[16px] leading-relaxed font-medium",children:a==null?void 0:a.description}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsx("span",{className:"text-[10px] font-black text-[#c29a67] border border-[#c29a67]/20 px-3 py-1.5 rounded-xl bg-[#c29a67]/5 uppercase tracking-wider",children:"#ArtisanCraft"}),m.jsx("span",{className:"text-[10px] font-black text-[#efebe9]/40 border border-[#efebe9]/10 px-3 py-1.5 rounded-xl uppercase tracking-wider",children:"#BaristaGold"})]})]})]}),m.jsxs("button",{onClick:()=>{if(a!=null&&a.cta_link&&a.cta_link!=="#"){const M=a.cta_link.startsWith("http")?a.cta_link:`https://${a.cta_link}`;window.open(M,"_blank")}},className:"w-full mt-10 py-5 bg-[#efebe9] text-[#0e0d0c] font-black rounded-2xl hover:bg-white transition-all transform hover:-translate-y-1 active:scale-[0.98] shadow-[0_20px_40px_-10px_rgba(239,235,233,0.3)] flex items-center justify-center gap-3 group/btn",children:[m.jsx("span",{children:(a==null?void 0:a.cta_text)||"Learn how to prepare it"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover/btn:translate-x-1 transition-transform",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})},s1=""+new URL("login_logo-C503ABGk.png",import.meta.url).href,l1=()=>{const[r,a]=K.useState(!1),[i,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState(""),[p,y]=K.useState(null),_=async w=>{w.preventDefault(),a(!0),y(null);let E=c.trim(),S="";try{if(!E.includes("@")){const{data:T,error:D}=await we.from("allowed_employees").select("email, employee_name").ilike("employee_code",E).maybeSingle();if(console.log("Employee Lookup:",{id:E,data:T,error:D}),D)throw console.error("Database Error:",D),new Error(`Database Error: ${D.message} (${D.details||D.hint||"Check RLS on allowed_employees"})`);if(!T)throw new Error(`Employee ID "${E}" not found in allowed_employees. (Hint: Check RLS!)`);E=T.email,S=T.employee_name}if(E==="training@thirdwavecoffee.in"&&h==="Training@10"){localStorage.setItem("bc_mock_session","training_team_active"),window.location.reload();return}if(i){const{error:T}=await we.auth.signUp({email:E,password:h,options:{data:{full_name:S||void 0,employee_id:c.includes("@")?void 0:c}}});if(T)throw T;alert(`Confirmation link sent to ${E}!`)}else{const{error:T}=await we.auth.signInWithPassword({email:E,password:h});if(T)throw T}}catch(T){y(T.message||"An error occurred during authentication.")}finally{a(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] flex items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"})]}),m.jsxs("div",{className:"w-full max-w-md z-10 pt-0",children:[m.jsxs("div",{className:"text-center mb-0 flex flex-col items-center",children:[m.jsx("div",{className:"w-80 h-32 overflow-hidden flex items-start justify-center",children:m.jsx("img",{src:s1,alt:"Wavegram",className:"w-full h-auto object-contain mt-[-10px]"})}),m.jsx("p",{className:"text-[#c29a67] font-bold uppercase tracking-[0.4em] text-[10px] opacity-70 mt-[-20px] mb-6",children:"The Coffee Network"})]}),m.jsxs("div",{className:"glass bg-[#1a1817]/60 p-8 rounded-[2.5rem] border border-[#2c1a12] shadow-2xl backdrop-blur-xl",children:[m.jsx("h2",{className:"text-xl font-bold text-[#efebe9] mb-8 text-center",children:i?"Apply for Access":"Welcome Back"}),m.jsxs("form",{onSubmit:_,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Work Email or Employee ID"}),m.jsx("input",{type:"text",required:!0,value:c,onChange:w=>d(w.target.value),placeholder:"e.g. TWC123 or email@thirdwavecoffee.in",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:h,onChange:w=>g(w.target.value),placeholder:"",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),p&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm px-4 py-3 rounded-2xl flex items-start gap-3",children:[m.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),p]}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#efebe9] text-[#0e0d0c] font-black py-4 rounded-2xl hover:bg-white transition-all transform active:scale-[0.98] shadow-lg disabled:opacity-50",children:r?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):i?"Join Wavegram":"Enter Lounge"})]}),m.jsxs("p",{className:"mt-8 text-center text-[#a09a96] text-sm",children:[i?"Already a member?":"New at TWC?",m.jsx("button",{onClick:()=>l(!i),className:"ml-2 text-[#c29a67] font-bold hover:underline",children:i?"Sign In":"Sign Up"})]})]}),m.jsx("p",{className:"mt-8 text-center text-[#a09a96]/40 text-xs px-8",children:"This is a private network. By entering, you agree to the TWC internal communication guidelines."})]})]})},o1=({post:r,currentUser:a,onClose:i})=>{const[l,c]=K.useState([]),[d,h]=K.useState(!0),[g,p]=K.useState(""),[y,_]=K.useState(null);K.useEffect(()=>{w()},[]);const w=async()=>{h(!0);const{data:T,error:D}=await we.from("profiles").select("*").order("full_name",{ascending:!0});D?console.error("Error fetching employees:",D):T&&c(T.map(j=>({id:j.id,username:j.username,name:j.full_name,avatar:j.avatar_url,verified:!0}))),h(!1)},E=async T=>{if(!a)return;_(T.id);const{error:D}=await we.from("shares").insert({post_id:r.id,sender_id:a.id,receiver_id:T.id});D?(console.error("Error sharing brew:",D),alert("Failed to share brew. Please try again.")):(alert(`Shared with ${T.name}!`),i()),_(null)},S=l.filter(T=>T.name.toLowerCase().includes(g.toLowerCase())||T.username.toLowerCase().includes(g.toLowerCase()));return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-md rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[80vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-[#2c1a12] flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-black text-[#efebe9] tracking-tight",children:"Share Brew"}),m.jsx("button",{onClick:i,className:"p-2 hover:bg-[#2c1a12] rounded-full text-[#a09a96] hover:text-[#efebe9] transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"p-4 bg-[#0e0d0c]/50",children:m.jsx("input",{type:"text",placeholder:"Search employees...",value:g,onChange:T=>p(T.target.value),className:"w-full bg-[#1a1817] border border-[#2c1a12] rounded-2xl px-5 py-3 text-sm focus:border-[#c29a67] outline-none text-[#efebe9] transition-all"})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d?m.jsxs("div",{className:"flex flex-col items-center py-10 gap-4",children:[m.jsx("div",{className:"w-8 h-8 border-2 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-xs font-bold text-[#c29a67] uppercase tracking-widest",children:"Calling the team..."})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"px-2 py-4 border border-[#c29a67]/20 rounded-2xl bg-[#c29a67]/5 mb-6",children:m.jsx("p",{className:"text-xs text-center text-[#c29a67] font-bold uppercase tracking-widest",children:"Share this brew with"})}),S.map(T=>m.jsxs("button",{onClick:()=>E(T),disabled:y===T.id,className:"w-full flex items-center gap-4 p-3 rounded-2xl hover:bg-[#2c1a12] transition-all group active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("img",{src:T.avatar,className:"w-12 h-12 rounded-full border-2 border-[#c29a67]/10 object-cover"}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("p",{className:"font-bold text-[#efebe9] group-hover:text-[#c29a67] transition-colors",children:T.name}),m.jsxs("p",{className:"text-xs text-[#a09a96]",children:["@",T.username]})]}),m.jsx("div",{className:"w-8 h-8 rounded-full border border-[#2c1a12] flex items-center justify-center group-hover:bg-[#c29a67] group-hover:border-[#c29a67] transition-all",children:y===T.id?m.jsx("div",{className:"w-4 h-4 border-2 border-[#efebe9] border-t-transparent rounded-full animate-spin"}):m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover:text-[#0e0d0c]",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]},T.id)),S.length===0&&m.jsx("p",{className:"text-center py-10 text-[#a09a96] italic",children:"No employees found matched your search."})]})}),m.jsx("div",{className:"p-6 bg-[#0e0d0c] border-t border-[#2c1a12]",children:m.jsxs("div",{className:"flex items-center gap-3 opacity-60 grayscale scale-95",children:[m.jsx("img",{src:r.avatar,className:"w-8 h-8 rounded-full"}),m.jsxs("p",{className:"text-xs text-[#a09a96] truncate",children:["Brewing: ",r.content.substring(0,40),"..."]})]})})]})})},u1=({achievement:r,isUnlocked:a=!0})=>{const[i,l]=K.useState({x:50,y:50}),[c,d]=K.useState(!1),[h,g]=K.useState(!1),[p,y]=K.useState("mouse"),[_,w]=K.useState(!1),E=K.useRef(null),S=K.useRef({x:50,y:50}),T=K.useRef(null);K.useEffect(()=>{const V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),G="DeviceOrientationEvent"in window;console.log("Device detection:",{isMobile:V,hasGyro:G,userAgent:navigator.userAgent}),y(V&&G?"gyro":V?"touch":"mouse")},[]),K.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[c]);const D=async()=>{if(console.log("Requesting gyroscope permission..."),typeof DeviceOrientationEvent.requestPermission=="function")try{const V=await DeviceOrientationEvent.requestPermission();return console.log("iOS permission result:",V),w(V==="granted"),V==="granted"}catch(V){return console.error("Gyroscope permission error:",V),!1}else return console.log("Android - granting permission"),w(!0),!0};K.useEffect(()=>{if(!c||p!=="gyro"||!_)return;const V=G=>{console.log("Gyro event:",{beta:G.beta,gamma:G.gamma});const fe=G.beta||0,ce=G.gamma||0,ut=Math.max(-45,Math.min(45,fe));let Ye=(Math.max(-45,Math.min(45,ce))+45)/90*100,Jt=(ut+45)/90*100;const ct=.05;S.current.x+=(Ye-S.current.x)*ct,S.current.y+=(Jt-S.current.y)*ct,l({x:S.current.x,y:S.current.y})};return window.addEventListener("deviceorientation",V),()=>window.removeEventListener("deviceorientation",V)},[c,p,_]);const j=K.useCallback(V=>{if(p!=="mouse"||!c||!E.current)return;const G=E.current.getBoundingClientRect(),fe=(V.clientX-G.left)/G.width*100,ce=(V.clientY-G.top)/G.height*100;l({x:fe,y:ce})},[p,c]),H=V=>{const G=V.touches[0];T.current={x:G.clientX,y:G.clientY,time:Date.now()}},$=async V=>{if(!T.current)return;const G=V.changedTouches[0],fe=Math.abs(G.clientX-T.current.x),ce=Math.abs(G.clientY-T.current.y),ut=Date.now()-T.current.time,mt=fe<10&&ce<10&&ut<300;console.log("Touch end:",{deltaX:fe,deltaY:ce,deltaTime:ut,isTap:mt}),mt&&(V.preventDefault(),V.stopPropagation(),c?(console.log("Flipping card, current state:",h),g(Ye=>!Ye)):(console.log("Expanding card..."),d(!0),p==="gyro"&&!_&&(console.log("Requesting permission after expansion..."),await D()))),T.current=null},M=async V=>{V.stopPropagation(),c?(console.log("Flipping card (mouse), current state:",h),g(G=>!G)):(console.log("Expanding card (mouse)..."),d(!0))},q=V=>{V.stopPropagation(),V.preventDefault(),console.log("Closing card..."),d(!1),g(!1)},ie=V=>{switch(V){case"Legendary":return"text-amber-400 border-amber-500/50 bg-amber-500/10";case"Epic":return"text-purple-400 border-purple-500/50 bg-purple-500/10";case"Rare":return"text-sky-400 border-sky-500/50 bg-sky-500/10";default:return"text-slate-400 border-slate-700 bg-slate-800/50"}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:c?null:E,onClick:p==="mouse"?M:void 0,onTouchStart:p!=="mouse"?H:void 0,onTouchEnd:p!=="mouse"?$:void 0,className:`relative group cursor-pointer w-full aspect-[2/3] rounded-[32px] p-px 
                    transition-all duration-300 ease-out transform hover:-translate-y-2
                    ${a?"":"grayscale opacity-60"}
                    ${c?"opacity-0 pointer-events-none":"opacity-100"}
                `,children:[a&&m.jsx("div",{className:"absolute inset-0 rounded-[32px] transition-opacity duration-500 blur-2xl opacity-0 group-hover:opacity-30 pointer-events-none",style:{backgroundColor:r.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-4 mt-2",children:m.jsx("div",{className:"relative transform scale-90",children:m.jsx("div",{className:"relative drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:r.illustration})})}),m.jsx("div",{className:`absolute top-3 right-3 z-30 px-1.5 py-0.5 rounded-md border text-[8px] font-black uppercase tracking-widest ${ie(r.rarity.charAt(0).toUpperCase()+r.rarity.slice(1))}`,children:r.rarity}),m.jsxs("div",{className:"w-full p-5 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-base font-black text-white mb-1 tracking-tight leading-none uppercase truncate",children:r.name}),m.jsx("p",{className:"text-slate-400 text-[10px] leading-tight mb-3 font-medium min-h-[2.5em] line-clamp-2",children:r.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-800 to-transparent mb-3"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-slate-500 font-bold mb-0.5",children:r.metricLabel}),m.jsx("span",{className:"text-sm font-black text-white",children:r.metricValue})]}),m.jsx("div",{className:"px-2 py-1 rounded-lg border border-white/5 bg-white/5 backdrop-blur-md text-[8px] font-bold uppercase tracking-widest text-slate-400",children:a?`${r.id.substring(0,4)}`:"LOCKED"})]})]})]})]}),c&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",style:{perspective:"1000px"},children:[m.jsx("button",{onClick:p==="mouse"?q:void 0,onTouchEnd:p!=="mouse"?q:void 0,className:"absolute top-6 right-6 z-[60] w-10 h-10 rounded-full bg-white/10 border border-white/20 backdrop-blur-md flex items-center justify-center text-white hover:bg-white/20 transition-all",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{ref:c?E:null,onMouseMove:j,onClick:p==="mouse"?M:void 0,onTouchStart:p!=="mouse"?H:void 0,onTouchEnd:p!=="mouse"?$:void 0,className:"relative w-[85vw] max-w-[400px] aspect-[2/3] cursor-pointer",style:{transformStyle:"preserve-3d",transform:`
                                rotateX(${(i.y-50)/50*-15}deg)
                                rotateY(${(i.x-50)/50*15+(h?180:0)}deg)
                            `,transition:h?"transform 0.2s ease-out":"transform 0.1s ease-out"},children:[m.jsxs("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[m.jsx("div",{className:"absolute inset-0 rounded-[32px] blur-3xl opacity-40 pointer-events-none",style:{backgroundColor:r.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),a&&m.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-100 mix-blend-color-dodge",style:{background:`
                                                radial-gradient(
                                                    circle at ${i.x}% ${i.y}%, 
                                                    rgba(255, 255, 255, ${r.rarity==="legendary"?"0.6":"0.5"}) 0%, 
                                                    transparent 60%
                                                ),
                                                linear-gradient(
                                                    ${i.x+i.y}deg, 
                                                    transparent 0%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(255, 100, 200, 0.3)"} 15%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 200, 255, 0.3)"} 30%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.4)"} 45%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 255, 200, 0.3)"} 60%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(200, 100, 255, 0.3)"} 75%, 
                                                    transparent 90%
                                                )
                                            `,backgroundSize:"150% 150%",transition:"background 0.15s ease-out"}}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-8 mt-4",children:m.jsxs("div",{className:"relative transform scale-110",children:[a&&m.jsx("div",{className:"absolute inset-0 blur-3xl opacity-20 bg-white"}),m.jsx("div",{className:"relative drop-shadow-[0_0_25px_rgba(255,255,255,0.2)]",children:r.illustration})]})}),m.jsx("div",{className:`absolute top-4 right-4 z-30 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${ie(r.rarity.charAt(0).toUpperCase()+r.rarity.slice(1))}`,children:r.rarity}),m.jsxs("div",{className:"w-full p-6 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-2 tracking-tight leading-none uppercase",children:r.name}),m.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-4 font-medium",children:r.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-700 to-transparent mb-4"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold mb-1",children:r.metricLabel}),m.jsx("span",{className:"text-lg font-black text-white",children:r.metricValue})]}),m.jsx("div",{className:"px-3 py-1.5 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP"})]})]}),a&&m.jsx("div",{className:"absolute inset-0 pointer-events-none z-30 opacity-30",style:{background:"linear-gradient(115deg, transparent 20%, white 48%, white 52%, transparent 80%)",backgroundSize:"200% 200%",backgroundPosition:`${i.x/100*200-50}%`}})]})]}),m.jsx("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col p-6 shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-20`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-4 tracking-tight uppercase",children:"Badge Details"}),m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Achievement Name"}),m.jsx("span",{className:"text-base font-bold text-white",children:r.name})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Description"}),m.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:r.description})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Rarity"}),m.jsx("span",{className:`text-sm font-bold ${r.rarity==="legendary"?"text-amber-400":r.rarity==="epic"?"text-purple-400":"text-sky-400"}`,children:r.rarity.toUpperCase()})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:r.metricLabel}),m.jsx("span",{className:"text-2xl font-black text-white",children:r.metricValue})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Badge ID"}),m.jsx("span",{className:"text-xs font-mono text-slate-400",children:r.id})]})]}),m.jsx("div",{className:"mt-4 px-3 py-2 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-center text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP BACK"})]})]})})]})]})]})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,l)=>l?l.toUpperCase():i.toLowerCase()),Og=r=>{const a=d1(r);return a.charAt(0).toUpperCase()+a.slice(1)},hp=(...r)=>r.filter((a,i,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===i).join(" ").trim(),h1=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=K.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:h,...g},p)=>K.createElement("svg",{ref:p,...f1,width:a,height:a,stroke:r,strokeWidth:l?Number(i)*24/Number(a):i,className:hp("lucide",c),...!d&&!h1(g)&&{"aria-hidden":"true"},...g},[...h.map(([y,_])=>K.createElement(y,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(r,a)=>{const i=K.forwardRef(({className:l,...c},d)=>K.createElement(m1,{ref:d,iconNode:a,className:hp(`lucide-${c1(Og(r))}`,`lucide-${r}`,l),...c}));return i.displayName=Og(r),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],p1=st("clapperboard",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],v1=st("coffee",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],b1=st("crown",_1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],w1=st("flame",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],x1=st("gem",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],A1=st("heart",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],N1=st("landmark",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],j1=st("medal",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],D1=st("message-square",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],k1=st("mic",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],L1=st("orbit",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],B1=st("pen-tool",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],H1=st("repeat",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],q1=st("smartphone",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$1=st("sparkles",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],P1=st("star",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],X1=st("target",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Q1=st("trophy",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Z1=st("wind",F1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ew=st("zap",W1),xl=[{id:"first_brew",name:"First Brew",description:"Shared your first coffee moment",emoji:"",metricLabel:"Moment",metricValue:"1/1",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:qe.createElement(v1,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalBrews>=1,rarity:"common"},{id:"social_butterfly",name:"Social Butterfly",description:"Received 5 sips on your brews",emoji:"",metricLabel:"Sips",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:qe.createElement(Z1,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalSips>=5,rarity:"common"},{id:"conversationalist",name:"Conversationalist",description:"Received 3 comments",emoji:"",metricLabel:"Replies",metricValue:"3",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:qe.createElement(D1,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalComments>=3,rarity:"common"},{id:"coffee_lover",name:"Coffee Lover",description:"Posted 5 brews",emoji:"",metricLabel:"Brews",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:qe.createElement(A1,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalBrews>=5,rarity:"common"},{id:"rising_star",name:"Rising Star",description:"Received 25 sips",emoji:"",metricLabel:"Sips",metricValue:"25",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:qe.createElement(P1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalSips>=25,rarity:"rare"},{id:"community_voice",name:"Community Voice",description:"Posted 10 brews",emoji:"",metricLabel:"Brews",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:qe.createElement(k1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalBrews>=10,rarity:"rare"},{id:"crowd_pleaser",name:"Crowd Pleaser",description:"Received 10 comments",emoji:"",metricLabel:"Applause",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:qe.createElement(p1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalComments>=10,rarity:"rare"},{id:"share_worthy",name:"Share Worthy",description:"Your brews were shared 5 times",emoji:"",metricLabel:"Echoes",metricValue:"5",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:qe.createElement(H1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.sharesReceived>=5,rarity:"rare"},{id:"dedicated_barista",name:"Dedicated Barista",description:"Posted 20 brews",emoji:"",metricLabel:"Target",metricValue:"20",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:qe.createElement(X1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalBrews>=20,rarity:"rare"},{id:"espresso_expert",name:"Espresso Expert",description:"Received 50 sips",emoji:"",metricLabel:"Impact",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(Q1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalSips>=50,rarity:"epic"},{id:"viral_brew",name:"Viral Brew",description:"Received 100 sips",emoji:"",metricLabel:"Heat",metricValue:"100+",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(w1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalSips>=100,rarity:"epic"},{id:"engagement_master",name:"Engagement Master",description:"Received 25 comments",emoji:"",metricLabel:"Gems",metricValue:"25",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(x1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalComments>=25,rarity:"epic"},{id:"prolific_creator",name:"Prolific Creator",description:"Posted 50 brews",emoji:"",metricLabel:"Folios",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(B1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalBrews>=50,rarity:"epic"},{id:"influencer",name:"Influencer",description:"Your brews were shared 15 times",emoji:"",metricLabel:"Ping",metricValue:"15",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(q1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.sharesReceived>=15,rarity:"epic"},{id:"triple_threat",name:"Triple Threat",description:"30 brews, 75 sips, and 20 comments",emoji:"",metricLabel:"Power",metricValue:"3X",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:qe.createElement(ew,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalBrews>=30&&r.totalSips>=75&&r.totalComments>=20,rarity:"epic"},{id:"coffee_legend",name:"Coffee Legend",description:"Received 200 sips",emoji:"",metricLabel:"Legacy",metricValue:"200+",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:qe.createElement(b1,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalSips>=200,rarity:"legendary"},{id:"master_barista",name:"Master Barista",description:"Posted 100 brews",emoji:"",metricLabel:"Honor",metricValue:"100",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:qe.createElement(j1,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=100,rarity:"legendary"},{id:"community_pillar",name:"Community Pillar",description:"75 brews, 150 sips, and 50 comments",emoji:"",metricLabel:"Status",metricValue:"ELIT",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:qe.createElement(N1,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=75&&r.totalSips>=150&&r.totalComments>=50,rarity:"legendary"},{id:"taste_maker",name:"Taste Maker",description:"Your brews were shared 30 times",emoji:"",metricLabel:"Spark",metricValue:"30",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:qe.createElement($1,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.sharesReceived>=30,rarity:"legendary"},{id:"wavegram_elite",name:"Wavegram Elite",description:"100 brews, 250 sips, 75 comments, and 25 shares",emoji:"",metricLabel:"Cosmos",metricValue:"",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:qe.createElement(L1,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=100&&r.totalSips>=250&&r.totalComments>=75&&r.sharesReceived>=25,rarity:"legendary"}],tw=r=>xl.filter(a=>a.requirement(r)),nw=()=>{const[r,a]=K.useState(null),[i,l]=K.useState(null),[c,d]=K.useState([]),[h,g]=K.useState(!0),[p,y]=K.useState(_e.HOME),[_,w]=K.useState(!1),[E,S]=K.useState(null),[T,D]=K.useState(null),[j,H]=K.useState(null),[$,M]=K.useState(""),[q,ie]=K.useState([]),[V,G]=K.useState(!1),[fe,ce]=K.useState(null),[ut,mt]=K.useState("brews"),[Ye,Jt]=K.useState(!1),[ct,Rt]=K.useState(0),[I,Y]=K.useState(!1),[ee,Te]=K.useState(0),[Ce,A]=K.useState(parseInt(localStorage.getItem("lastViewedInteractions")||"0",10)),z=qe.useRef(Ce),P=qe.useRef(0);K.useEffect(()=>{if(localStorage.getItem("bc_mock_session")==="training_team_active"){a({user:{id:"77777777-7777-7777-7777-777777777777"}}),l({id:"77777777-7777-7777-7777-777777777777",username:"twc_training",name:"TWC Training Team",avatar:"https://api.dicebear.com/7.x/identicon/svg?seed=training",verified:!0});return}we.auth.getSession().then(({data:{session:ge}})=>{a(ge),ge&&X(ge.user.id)});const{data:{subscription:me}}=we.auth.onAuthStateChange((ge,pe)=>{a(pe),pe?X(pe.user.id):l(null)});return()=>me.unsubscribe()},[]);const X=async se=>{const{data:me,error:ge}=await we.from("profiles").select("*").eq("id",se).single();ge?console.error("Error fetching profile:",ge):me&&l({id:me.id,username:me.username,name:me.full_name,avatar:me.avatar_url,verified:!0})},le=async()=>{Y(!0)},he=async()=>{localStorage.removeItem("bc_mock_session"),await we.auth.signOut(),a(null),l(null),Y(!1)},Ae=se=>{y(_e.HOME),ce(se),setTimeout(()=>{const me=document.getElementById(`post-${se}`);me&&me.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>ce(null),3e3)},100)},Me=K.useCallback(async(se=!1)=>{se||g(!0);const{data:me,error:ge}=await we.from("posts").select(`
        *,
        profiles (
          full_name,
          username,
          avatar_url
        ),
        comments (
          id,
          content,
          created_at,
          user_id,
          avatar,
          username
        ),
        likes (user_id),
        shares (id, sender_id, receiver_id)
      `).order("created_at",{ascending:!1});if(ge)console.error("Error fetching posts:",ge),d(Bv);else if(me){const pe=me.map(xe=>{var gn;return{id:xe.id,userId:xe.user_id,username:((gn=xe.profiles)==null?void 0:gn.full_name)||xe.username||"Unknown Barista",avatar:xe.avatar,content:xe.content,image:xe.image,likes:xe.likes_count,shares:(xe.shares||[]).length,createdAt:new Date(xe.created_at).toLocaleDateString(),isLiked:(xe.likes||[]).some(Tt=>Tt.user_id===(i==null?void 0:i.id)),comments:xe.comments.map(Tt=>({id:Tt.id,userId:Tt.user_id,username:Tt.username,avatar:Tt.avatar,content:Tt.content,createdAt:new Date(Tt.created_at).toLocaleDateString(),likes:0}))}});d(pe),Mt()}g(!1)},[i]);K.useEffect(()=>{Me()},[Me]),K.useEffect(()=>{if(!i)return;console.log("Setting up real-time subscriptions...");const se=we.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},pe=>{console.log("Posts change detected:",pe),Me()}).subscribe(),me=we.channel("comments-changes").on("postgres_changes",{event:"*",schema:"public",table:"comments"},pe=>{console.log("Comments change detected:",pe),Me()}).subscribe(),ge=we.channel("likes-changes").on("postgres_changes",{event:"*",schema:"public",table:"likes"},pe=>{console.log("Likes change detected:",pe),Me()}).subscribe();return()=>{console.log("Cleaning up real-time subscriptions..."),se.unsubscribe(),me.unsubscribe(),ge.unsubscribe()}},[i,Me]),K.useEffect(()=>{p===_e.POST&&(w(!0),y(_e.HOME)),p===_e.ACTIVITY&&Mt()},[p]);const Ve=async se=>{if(!i)return;const me=c.find(pe=>pe.id===se);if(!me)return;const ge=!me.isLiked;d(pe=>pe.map(xe=>xe.id===se?{...xe,isLiked:ge,likes:ge?xe.likes+1:Math.max(0,xe.likes-1)}:xe)),ge?(await we.from("likes").insert({post_id:se,user_id:i.id}),await we.rpc("increment_likes",{post_id_val:se})):(await we.from("likes").delete().eq("post_id",se).eq("user_id",i.id),await we.rpc("decrement_likes",{post_id_val:se}))},ga=async(se,me)=>{if(!i)return;const{error:ge}=await we.from("posts").insert([{user_id:i.id,username:i.username,avatar:i.avatar,content:se,image:me,likes_count:0}]);ge?(console.error("FAILED_TO_CREATE_POST",ge),alert(`Failed to share your brew: ${ge.message}`)):(Me(),w(!1))},qa=async(se,me)=>{if(!j||!i)return;const{error:ge}=await we.from("posts").update({content:se,image:me||j.image}).eq("id",j.id);ge?(console.error("FAILED_TO_UPDATE_POST",ge),alert(`Failed to update your brew: ${ge.message}`)):(Me(),H(null))},Va=async se=>{if(i&&window.confirm("Are you sure you want to delete this brew? This cannot be undone."))try{const{error:me}=await we.from("shares").delete().eq("post_id",se);me&&console.warn("App: Error deleting shares (might be empty, ignoring):",me);const{error:ge}=await we.from("likes").delete().eq("post_id",se);ge&&console.warn("App: Error deleting likes (might be empty, ignoring):",ge);const{error:pe}=await we.from("comments").delete().eq("post_id",se);pe&&console.warn("App: Error deleting comments (might be empty, ignoring):",pe);const{error:xe}=await we.from("posts").delete().eq("id",se).eq("user_id",i.id);if(xe)throw xe;d(gn=>gn.filter(Tt=>Tt.id!==se)),Me(),Mt()}catch(me){console.error("FAILED_TO_DELETE_POST",me),alert(`Failed to delete your brew. Error: ${me.message}`)}},Fi=async()=>{if(!E||!$.trim()||!i)return;const{error:se}=await we.from("comments").insert([{post_id:E.id,user_id:i.id,username:i.username,avatar:i.avatar,content:$}]);se?(console.error("FAILED_TO_ADD_COMMENT",se),alert(`Failed to post your reply: ${se.message}`)):(M(""),S(null),Me(),Mt())},Mt=async()=>{if(i){G(!0);try{const{data:se,error:me}=await we.from("posts").select("id, content").eq("user_id",i.id);if(me)throw me;if(!se||se.length===0){ie([]),G(!1);return}const ge=se.map(re=>re.id),pe=se.reduce((re,Fe)=>({...re,[Fe.id]:Fe.content}),{}),{data:xe,error:gn}=await we.from("shares").select("*").eq("receiver_id",i.id),dt=(xe||[]).map(re=>re.post_id).filter(re=>!pe[re]);if(dt.length>0){const{data:re}=await we.from("posts").select("id, content").in("id",dt);(re||[]).forEach(Fe=>{pe[Fe.id]=Fe.content})}const{data:$r,error:Zi}=await we.from("likes").select("*").in("post_id",ge),{data:pn,error:yn}=await we.from("comments").select("*").in("post_id",ge),ae=[...new Set([...($r||[]).map(re=>re.user_id),...(pn||[]).map(re=>re.user_id),...(xe||[]).map(re=>re.sender_id)])];let je={};if(ae.length>0){const{data:re}=await we.from("profiles").select("*").in("id",ae);je=(re||[]).reduce((Fe,et)=>({...Fe,[et.id]:et}),{})}const vn=[];let pa=0;const on=(re,Fe,et,Ll)=>{if(et===i.id)return;const Ml=!!re.created_at,Wi=new Date(re.created_at||0);Ml&&Wi.getTime()>z.current&&pa++;const gt=je[et];vn.push({id:`${Fe}-${re.id}`,type:Fe,actorName:(gt==null?void 0:gt.full_name)||(gt==null?void 0:gt.username)||"A barista",actorUsername:(gt==null?void 0:gt.username)||"unknown",actorAvatar:(gt==null?void 0:gt.avatar_url)||`https://api.dicebear.com/7.x/identicon/svg?seed=${et}`,postContent:pe[re.post_id]||"your brew",postId:re.post_id,timestamp:Wi,content:Ll})};(xe||[]).forEach(re=>on(re,"share",re.sender_id)),($r||[]).forEach(re=>on(re,"like",re.user_id)),(pn||[]).forEach(re=>on(re,"comment",re.user_id,re.content)),ie(vn.sort((re,Fe)=>Fe.timestamp.getTime()-re.timestamp.getTime())),p===_e.ACTIVITY?Te(0):Te(pa)}catch(se){console.error("FAILED_TO_FETCH_ACTIVITY",se)}finally{G(!1)}}},qr=()=>{if(h&&p===_e.HOME)return m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium animate-pulse",children:"Frothing the milk..."})]})});switch(p){case _e.HOME:const se=ae=>{ae.currentTarget.scrollTop===0&&(P.current=ae.touches[0].clientY)},me=ae=>{if(ae.currentTarget.scrollTop===0&&P.current>0){const pa=ae.touches[0].clientY-P.current,on=Math.max(0,Math.min(Math.log10(1+pa/100)*150,120));Rt(on),pa>10&&ae.cancelable&&ae.preventDefault()}},ge=async ae=>{ct>70&&!Ye&&(Jt(!0),await Promise.all([Me(!0),Mt()]),setTimeout(()=>Jt(!1),800)),Rt(0),P.current=0};return m.jsxs("div",{className:"flex-1 flex flex-col items-center overflow-y-auto",onTouchStart:se,onTouchMove:me,onTouchEnd:ge,children:[m.jsx("div",{className:"w-full max-w-2xl flex justify-center overflow-hidden transition-all duration-300 ease-out",style:{height:Ye?"60px":`${ct}px`,opacity:Ye?1:Math.min(ct/80,1)},children:m.jsx("div",{className:"flex items-center gap-2 text-[#c29a67]",children:Ye?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-bold",children:"Refreshing..."})]}):ct>80?m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),m.jsx("span",{className:"text-sm font-bold",children:"Release to refresh"})]}):ct>0?m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),m.jsx("span",{className:"text-sm font-bold",children:"Pull to refresh"})]}):null})}),m.jsxs("div",{className:"p-6 pt-16 border-b border-[#2c1a12] flex items-center justify-between sticky top-0 bg-[#0e0d0c]/98 backdrop-blur-xl z-50 w-full max-w-2xl shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[m.jsx("h1",{className:"text-2xl font-black text-[#efebe9] tracking-tighter",children:"Daily Brews"}),m.jsx("div",{className:"px-3 py-1 bg-[#c29a67]/10 text-[#c29a67] rounded-full text-[10px] font-black uppercase tracking-widest border border-[#c29a67]/20",children:"Barista's Choice"})]}),m.jsxs("div",{className:"w-full max-w-2xl px-4 py-8 space-y-8 pb-32",children:[m.jsx(i1,{currentUser:i}),m.jsx("div",{className:"space-y-0",children:c.map(ae=>m.jsx("div",{id:`post-${ae.id}`,className:`transition-all duration-300 ${fe===ae.id?"ring-2 ring-[#c29a67] ring-offset-2 ring-offset-[#0e0d0c] rounded-3xl":""}`,children:m.jsx(Y0,{post:ae,isOwner:ae.userId===i.id,onLike:Ve,onComment:je=>S(je),onShare:je=>D(je),onEdit:je=>H(je),onDelete:Va})},ae.id))})]})]});case _e.PROFILE:const pe=c.filter(ae=>ae.userId===i.id),xe=pe.length,gn=pe.reduce((ae,je)=>ae+(je.likes||0),0),Tt=pe.reduce((ae,je)=>{var vn;return ae+(((vn=je.comments)==null?void 0:vn.length)||0)},0),dt=pe.reduce((ae,je)=>ae+(je.shares||0),0),pn=tw({totalBrews:xe,totalSips:gn,totalComments:Tt,totalShares:0,sharesReceived:dt}),yn=xl.find(ae=>!pn.some(je=>je.id===ae.id));return m.jsx("div",{className:"flex-1 flex flex-col items-center",children:m.jsxs("div",{className:"w-full max-w-2xl px-4 py-12",children:[m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[#efebe9]",children:i.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[m.jsxs("span",{className:"text-[#a09a96]",children:["@",i.username]}),m.jsx("span",{className:"px-2 py-0.5 bg-[#c29a67]/10 text-[#c29a67] text-[10px] font-bold rounded-full border border-[#c29a67]/20 uppercase tracking-wider",children:"Verified Barista"})]})]}),m.jsx("img",{src:i.avatar,className:"w-20 h-20 rounded-full border-2 border-[#c29a67]/20"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[m.jsxs("div",{onClick:()=>mt("brews"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 ${ut==="brews"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:`text-xl font-bold ${ut==="brews"?"text-[#c29a67]":"text-[#efebe9]"}`,children:xe}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Brews"})]}),m.jsxs("div",{className:"bg-[#1a1817] p-4 rounded-2xl border border-[#2c1a12] text-center opacity-50 cursor-not-allowed",children:[m.jsx("div",{className:"text-xl font-bold text-[#efebe9]",children:gn}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Sips"})]}),m.jsxs("div",{onClick:()=>mt("badges"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 bg-gradient-to-br from-[#c29a67]/10 to-transparent ${ut==="badges"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:"text-xl font-bold text-[#c29a67]",children:pn.length}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Badges"})]})]}),ut==="badges"?m.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("h3",{className:"text-[#efebe9] font-bold mb-4 flex items-center gap-2",children:[m.jsx("span",{children:" Earned Achievements"}),m.jsxs("span",{className:"text-xs font-normal text-[#a09a96] bg-[#2c1a12] px-2 py-1 rounded-full",children:[pn.length," / ",xl.length]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:xl.map(ae=>{const je=pn.some(vn=>vn.id===ae.id);return m.jsx("div",{className:"flex justify-center w-full",children:m.jsx("div",{className:"w-full max-w-[280px]",children:m.jsx(u1,{achievement:ae,isUnlocked:je})})},ae.id)})}),yn&&m.jsxs("div",{className:"mt-6 bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12] flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0e0d0c] border border-[#2c1a12] flex items-center justify-center opacity-50 text-2xl grayscale",children:yn.emoji}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[#a09a96] text-xs uppercase font-bold tracking-widest mb-0.5",children:"Next Goal"}),m.jsx("p",{className:"text-[#efebe9] font-bold text-sm",children:yn.name}),m.jsx("p",{className:"text-[#a09a96] text-xs",children:yn.description})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-b border-[#2c1a12] flex mb-6",children:[m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#c29a67] border-b-2 border-[#c29a67]",children:"Your Brews"}),m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#a09a96]/50 cursor-not-allowed",children:"Sips"})]}),m.jsxs("div",{className:"space-y-6 w-full pb-32",children:[pe.map(ae=>m.jsx(Y0,{post:ae,isOwner:!0,onLike:Ve,onComment:je=>S(je),onShare:je=>D(je),onEdit:je=>H(je),onDelete:Va},ae.id)),pe.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-[#a09a96] mb-4",children:"You haven't brewed anything yet."}),m.jsx("button",{onClick:()=>w(!0),className:"px-6 py-2 bg-[#c29a67] text-[#0e0d0c] font-bold rounded-xl hover:bg-[#d4aa7d] transition-colors",children:"Brew your first cup"})]})]})]})]})});case _e.ACTIVITY:return m.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[m.jsxs("div",{className:"p-6 pt-16 border-b border-[#2c1a12] flex items-center justify-between sticky top-0 bg-[#0e0d0c]/98 backdrop-blur-xl z-50 w-full max-w-2xl shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[m.jsx("h1",{className:"text-2xl font-black text-[#efebe9] tracking-tighter",children:"Interactions"}),m.jsx("div",{className:"px-3 py-1 bg-[#c29a67]/10 text-[#c29a67] rounded-full text-[10px] font-black uppercase tracking-widest border border-[#c29a67]/20",children:"Latest Taps"})]}),m.jsx("div",{className:"w-full max-w-2xl px-4 py-8 space-y-4 pb-32",children:V?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium",children:"Checking the office buzz..."})]}):q.length===0?m.jsx("div",{className:"text-center py-20 bg-[#1a1817]/30 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm",children:m.jsx("p",{className:"text-[#a09a96] font-medium italic",children:"No office buzz yet. Share a brew to get the conversation started! "})}):q.map(ae=>m.jsx("div",{onClick:()=>Ae(ae.postId),className:"bg-[#1a1817]/40 p-5 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm hover:border-[#c29a67]/30 transition-all group cursor-pointer active:scale-[0.98]",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:ae.actorAvatar,className:"w-12 h-12 rounded-2xl border border-[#2c1a12] shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("p",{className:"text-[#efebe9] font-bold text-sm truncate",children:[ae.actorName,m.jsx("span",{className:"text-[#a09a96] font-medium ml-2",children:ae.type==="like"?"sipped your brew":ae.type==="comment"?"replied to you":"shared a brew with you"})]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider shrink-0",children:ae.timestamp.toLocaleDateString()})]}),ae.type==="comment"&&m.jsxs("p",{className:"text-[#efebe9]/80 text-sm mb-3 line-clamp-2 bg-[#0e0d0c]/40 p-3 rounded-xl border border-[#2c1a12]/30 italic",children:['"',ae.content,'"']}),m.jsxs("p",{className:"text-[11px] text-[#a09a96] truncate",children:["On: ",m.jsx("span",{className:"text-[#c29a67]/70 italic",children:ae.postContent})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2 bg-[#2c1a12]/30 rounded-xl group-hover:bg-[#c29a67]/10 transition-colors",children:ae.type==="like"?m.jsx("svg",{className:"w-5 h-5 text-[#ff4b4b]",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):ae.type==="comment"?m.jsx("svg",{className:"w-5 h-5 text-[#c29a67]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}):m.jsx("svg",{className:"w-5 h-5 text-[#efebe9]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]})},ae.id))})]});default:return m.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-neutral-500",children:m.jsx("p",{className:"text-lg",children:"Coming soon..."})})}};if(!r||!i)return m.jsx(l1,{});return m.jsxs(Hv,{activeTab:p,setActiveTab:Vr,onLogout:le,unreadCount:ee,children:[qr(),_&&i&&m.jsx(Ag,{user:i,onClose:()=>w(!1),onSubmit:ga}),j&&i&&m.jsx(Ag,{user:i,initialData:{content:j.content,image:j.image},onClose:()=>H(null),onSubmit:qa}),E&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-3xl border border-[#2c1a12] flex flex-col max-h-[90vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-[#2c1a12] flex items-center justify-between bg-[#1a1817]",children:[m.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Reply to Brew"}),m.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-[#2c1a12] rounded-full transition-colors text-[#a09a96] hover:text-[#efebe9]",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-[#1a1817]",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:E.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-[#efebe9]",children:["@",E.username]}),m.jsx("div",{className:"mt-2 text-[#efebe9]/80 leading-relaxed",children:E.content})]})]}),m.jsxs("div",{className:"mt-8 flex gap-4",children:[m.jsx("img",{src:i.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsx("textarea",{autoFocus:!0,value:$,onChange:se=>M(se.target.value),placeholder:"Share your thoughts on this brew...",className:"flex-1 bg-transparent border-none focus:ring-0 text-[17px] resize-none min-h-[120px] p-0 placeholder-[#a09a96]/50 text-[#efebe9]"})]})]}),m.jsx("div",{className:"p-5 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsx("button",{onClick:Fi,disabled:!$.trim(),className:"bg-[#efebe9] text-[#0e0d0c] font-black px-8 py-3 rounded-xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-lg active:scale-95",children:"Sip Together"})})]})}),T&&m.jsx(o1,{post:T,currentUser:i,onClose:()=>D(null)}),I&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-6 z-[100] animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-[#1a1817] w-full max-w-sm rounded-[2.5rem] border border-[#2c1a12] p-8 shadow-2xl overflow-hidden transform animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:m.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),m.jsx("h3",{className:"text-xl font-bold text-[#efebe9] mb-2 tracking-tight",children:"Closing the Lounge?"}),m.jsx("p",{className:"text-[#a09a96] text-sm leading-relaxed mb-8",children:"Are you sure you want to log out of your session? You'll need to sign back in to see the latest brews."}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{onClick:()=>Y(!1),className:"bg-[#2c1a12]/50 text-[#efebe9] font-bold py-4 rounded-2xl hover:bg-[#2c1a12] transition-all active:scale-95 border border-white/5",children:"Wait, stay"}),m.jsx("button",{onClick:he,className:"bg-red-500 text-white font-bold py-4 rounded-2xl hover:bg-red-600 transition-all active:scale-95 shadow-lg shadow-red-500/20",children:"Yes, logout"})]})]})})})]});function Vr(se){if(se===_e.ACTIVITY){Te(0);const me=q.length>0?Math.max(...q.map(xe=>xe.timestamp.getTime())):0,ge=Date.now(),pe=Math.max(ge,me);A(pe),z.current=pe,localStorage.setItem("lastViewedInteractions",pe.toString())}y(se)}},fp=document.getElementById("root");if(!fp)throw new Error("Could not find root element to mount to");const aw=Mv.createRoot(fp);aw.render(m.jsx(qe.StrictMode,{children:m.jsx(nw,{})}));
