(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function H0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nu={exports:{}},Ar={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function bp(){if(i0)return Ar;i0=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var p in c)p!=="key"&&(d[p]=c[p])}else d=c;return c=d.ref,{$$typeof:r,type:l,key:f,ref:c!==void 0?c:null,props:d}}return Ar.Fragment=n,Ar.jsx=s,Ar.jsxs=s,Ar}var r0;function _p(){return r0||(r0=1,Nu.exports=bp()),Nu.exports}var m=_p(),ku={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function wp(){if(s0)return le;s0=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function H(w,L,K){this.props=w,this.context=L,this.refs=q,this.updater=K||N}H.prototype.isReactComponent={},H.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},H.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function G(){}G.prototype=H.prototype;function B(w,L,K){this.props=w,this.context=L,this.refs=q,this.updater=K||N}var X=B.prototype=new G;X.constructor=B,z(X,H.prototype),X.isPureReactComponent=!0;var ue=Array.isArray;function V(){}var $={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function Ee(w,L,K){var Q=K.ref;return{$$typeof:r,type:w,key:L,ref:Q!==void 0?Q:null,props:K}}function wt(w,L){return Ee(w.type,L,w.props)}function ht(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function Ke(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return L[K]})}var Kt=/\/+/g;function ot(w,L){return typeof w=="object"&&w!==null&&w.key!=null?Ke(""+w.key):L.toString(36)}function Tt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(V,V):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function U(w,L,K,Q,se){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var je=!1;if(w===null)je=!0;else switch(de){case"bigint":case"string":case"number":je=!0;break;case"object":switch(w.$$typeof){case r:case n:je=!0;break;case x:return je=w._init,U(je(w._payload),L,K,Q,se)}}if(je)return se=se(w),je=Q===""?"."+ot(w,0):Q,ue(se)?(K="",je!=null&&(K=je.replace(Kt,"$&/")+"/"),U(se,L,K,"",function(cn){return cn})):se!=null&&(ht(se)&&(se=wt(se,K+(se.key==null||w&&w.key===se.key?"":(""+se.key).replace(Kt,"$&/")+"/")+je)),L.push(se)),1;je=0;var Le=Q===""?".":Q+":";if(ue(w))for(var Ge=0;Ge<w.length;Ge++)Q=w[Ge],de=Le+ot(Q,Ge),je+=U(Q,L,K,de,se);else if(Ge=C(w),typeof Ge=="function")for(w=Ge.call(w),Ge=0;!(Q=w.next()).done;)Q=Q.value,de=Le+ot(Q,Ge++),je+=U(Q,L,K,de,se);else if(de==="object"){if(typeof w.then=="function")return U(Tt(w),L,K,Q,se);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(w,L,K){if(w==null)return w;var Q=[],se=0;return U(w,Q,"","",function(de){return L.call(K,de,se++)}),Q}function ee(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var Te=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:Y,forEach:function(w,L,K){Y(w,function(){L.apply(this,arguments)},K)},count:function(w){var L=0;return Y(w,function(){L++}),L},toArray:function(w){return Y(w,function(L){return L})||[]},only:function(w){if(!ht(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return le.Activity=S,le.Children=Ce,le.Component=H,le.Fragment=s,le.Profiler=c,le.PureComponent=B,le.StrictMode=l,le.Suspense=g,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,le.__COMPILER_RUNTIME={__proto__:null,c:function(w){return $.H.useMemoCache(w)}},le.cache=function(w){return function(){return w.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(w,L,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=z({},w.props),se=w.key;if(L!=null)for(de in L.key!==void 0&&(se=""+L.key),L)!we.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(Q[de]=L[de]);var de=arguments.length-2;if(de===1)Q.children=K;else if(1<de){for(var je=Array(de),Le=0;Le<de;Le++)je[Le]=arguments[Le+2];Q.children=je}return Ee(w.type,se,Q)},le.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},le.createElement=function(w,L,K){var Q,se={},de=null;if(L!=null)for(Q in L.key!==void 0&&(de=""+L.key),L)we.call(L,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=L[Q]);var je=arguments.length-2;if(je===1)se.children=K;else if(1<je){for(var Le=Array(je),Ge=0;Ge<je;Ge++)Le[Ge]=arguments[Ge+2];se.children=Le}if(w&&w.defaultProps)for(Q in je=w.defaultProps,je)se[Q]===void 0&&(se[Q]=je[Q]);return Ee(w,de,se)},le.createRef=function(){return{current:null}},le.forwardRef=function(w){return{$$typeof:p,render:w}},le.isValidElement=ht,le.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:ee}},le.memo=function(w,L){return{$$typeof:y,type:w,compare:L===void 0?null:L}},le.startTransition=function(w){var L=$.T,K={};$.T=K;try{var Q=w(),se=$.S;se!==null&&se(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,Te)}catch(de){Te(de)}finally{L!==null&&K.types!==null&&(L.types=K.types),$.T=L}},le.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},le.use=function(w){return $.H.use(w)},le.useActionState=function(w,L,K){return $.H.useActionState(w,L,K)},le.useCallback=function(w,L){return $.H.useCallback(w,L)},le.useContext=function(w){return $.H.useContext(w)},le.useDebugValue=function(){},le.useDeferredValue=function(w,L){return $.H.useDeferredValue(w,L)},le.useEffect=function(w,L){return $.H.useEffect(w,L)},le.useEffectEvent=function(w){return $.H.useEffectEvent(w)},le.useId=function(){return $.H.useId()},le.useImperativeHandle=function(w,L,K){return $.H.useImperativeHandle(w,L,K)},le.useInsertionEffect=function(w,L){return $.H.useInsertionEffect(w,L)},le.useLayoutEffect=function(w,L){return $.H.useLayoutEffect(w,L)},le.useMemo=function(w,L){return $.H.useMemo(w,L)},le.useOptimistic=function(w,L){return $.H.useOptimistic(w,L)},le.useReducer=function(w,L,K){return $.H.useReducer(w,L,K)},le.useRef=function(w){return $.H.useRef(w)},le.useState=function(w){return $.H.useState(w)},le.useSyncExternalStore=function(w,L,K){return $.H.useSyncExternalStore(w,L,K)},le.useTransition=function(){return $.H.useTransition()},le.version="19.2.3",le}var l0;function tc(){return l0||(l0=1,ku.exports=wp()),ku.exports}var Z=tc();const Ve=H0(Z);var Cu={exports:{}},Or={},Ru={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function xp(){return o0||(o0=1,(function(r){function n(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var Te=ee-1>>>1,Ce=U[Te];if(0<c(Ce,Y))U[Te]=Y,U[ee]=Ce,ee=Te;else break e}}function s(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var Te=0,Ce=U.length,w=Ce>>>1;Te<w;){var L=2*(Te+1)-1,K=U[L],Q=L+1,se=U[Q];if(0>c(K,ee))Q<Ce&&0>c(se,K)?(U[Te]=se,U[Q]=ee,Te=Q):(U[Te]=K,U[L]=ee,Te=L);else if(Q<Ce&&0>c(se,ee))U[Te]=se,U[Q]=ee,Te=Q;else break e}}return Y}function c(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],x=1,S=null,T=3,C=!1,N=!1,z=!1,q=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(U){for(var Y=s(y);Y!==null;){if(Y.callback===null)l(y);else if(Y.startTime<=U)l(y),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(y)}}function ue(U){if(z=!1,X(U),!N)if(s(g)!==null)N=!0,V||(V=!0,Ke());else{var Y=s(y);Y!==null&&Tt(ue,Y.startTime-U)}}var V=!1,$=-1,we=5,Ee=-1;function wt(){return q?!0:!(r.unstable_now()-Ee<we)}function ht(){if(q=!1,V){var U=r.unstable_now();Ee=U;var Y=!0;try{e:{N=!1,z&&(z=!1,G($),$=-1),C=!0;var ee=T;try{t:{for(X(U),S=s(g);S!==null&&!(S.expirationTime>U&&wt());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,T=S.priorityLevel;var Ce=Te(S.expirationTime<=U);if(U=r.unstable_now(),typeof Ce=="function"){S.callback=Ce,X(U),Y=!0;break t}S===s(g)&&l(g),X(U)}else l(g);S=s(g)}if(S!==null)Y=!0;else{var w=s(y);w!==null&&Tt(ue,w.startTime-U),Y=!1}}break e}finally{S=null,T=ee,C=!1}Y=void 0}}finally{Y?Ke():V=!1}}}var Ke;if(typeof B=="function")Ke=function(){B(ht)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,ot=Kt.port2;Kt.port1.onmessage=ht,Ke=function(){ot.postMessage(null)}}else Ke=function(){H(ht,0)};function Tt(U,Y){$=H(function(){U(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(U){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var ee=T;T=Y;try{return U()}finally{T=ee}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=T;T=U;try{return Y()}finally{T=ee}},r.unstable_scheduleCallback=function(U,Y,ee){var Te=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,U){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ee+Ce,U={id:x++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:Ce,sortIndex:-1},ee>Te?(U.sortIndex=ee,n(y,U),s(g)===null&&U===s(y)&&(z?(G($),$=-1):z=!0,Tt(ue,ee-Te))):(U.sortIndex=Ce,n(g,U),N||C||(N=!0,V||(V=!0,Ke()))),U},r.unstable_shouldYield=wt,r.unstable_wrapCallback=function(U){var Y=T;return function(){var ee=T;T=Y;try{return U.apply(this,arguments)}finally{T=ee}}}})(Uu)),Uu}var u0;function Sp(){return u0||(u0=1,Ru.exports=xp()),Ru.exports}var zu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Ep(){if(c0)return xt;c0=1;var r=tc();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:g,containerInfo:y,implementation:x}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(g,y,null,x)},xt.flushSync=function(g){var y=f.T,x=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=y,l.p=x,l.d.f()}},xt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(g,y))},xt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},xt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,S=p(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?l.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:C}):x==="script"&&l.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);l.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(g)},xt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,S=p(x,y.crossOrigin);l.d.L(g,x,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);l.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(g)},xt.requestFormReset=function(g){l.d.r(g)},xt.unstable_batchedUpdates=function(g,y){return g(y)},xt.useFormState=function(g,y,x){return f.H.useFormState(g,y,x)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var d0;function Tp(){if(d0)return zu.exports;d0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),zu.exports=Ep(),zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function jp(){if(h0)return Or;h0=1;var r=Sp(),n=tc(),s=Tp();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===i)return g(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=u;else{for(var h=!1,v=o.child;v;){if(v===a){h=!0,a=o,i=u;break}if(v===i){h=!0,i=o,a=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===a){h=!0,a=u,i=o;break}if(v===i){h=!0,i=u,a=o;break}v=v.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),wt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function Ke(e){return e===null||typeof e!="object"?null:(e=ht&&e[ht]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case H:return"Profiler";case q:return"StrictMode";case ue:return"Suspense";case V:return"SuspenseList";case Ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case B:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:ot(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return ot(e(t))}catch{}}return null}var Tt=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function w(e){return{current:e}}function L(e){0>Ce||(e.current=Te[Ce],Te[Ce]=null,Ce--)}function K(e,t){Ce++,Te[Ce]=e.current,e.current=t}var Q=w(null),se=w(null),de=w(null),je=w(null);function Le(e,t){switch(K(de,t),K(se,e),K(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Af(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Af(t),e=Of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Q),K(Q,e)}function Ge(){L(Q),L(se),L(de)}function cn(e){e.memoizedState!==null&&K(je,e);var t=Q.current,a=Of(t,e.type);t!==a&&(K(se,e),K(Q,a))}function Mn(e){se.current===e&&(L(Q),L(se)),je.current===e&&(L(je),Sr._currentValue=ee)}var Ln,qr;function Ut(e){if(Ln===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ln=t&&t[1]||"",qr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+e+qr}var Ui=!1;function zi(e,t){if(!e||Ui)return"";Ui=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(k){var O=k}Reflect.construct(e,[],M)}else{try{M.call()}catch(k){O=k}e.call(M.prototype)}}else{try{throw Error()}catch(k){O=k}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(k){if(k&&O&&typeof k.stack=="string")return[k.stack,O.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var b=h.split(`
`),A=v.split(`
`);for(o=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(i===b.length||o===A.length)for(i=b.length-1,o=A.length-1;1<=i&&0<=o&&b[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(b[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||b[i]!==A[o]){var R=`
`+b[i].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=i&&0<=o);break}}}finally{Ui=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ut(a):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return Ut(e.type);case 16:return Ut("Lazy");case 13:return e.child!==t&&t!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return Ut("Activity");default:return""}}function he(e){try{var t="",a=null;do t+=re(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var fe=Object.prototype.hasOwnProperty,me=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,ua=r.unstable_shouldYield,St=r.unstable_requestPaint,ut=r.unstable_now,Di=r.unstable_getCurrentPriorityLevel,Hr=r.unstable_ImmediatePriority,ca=r.unstable_UserBlockingPriority,da=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ke=r.unstable_IdlePriority,ha=r.log,dn=r.unstable_setDisableYieldValue,aa=null,ie=null;function Ie(e){if(typeof ha=="function"&&dn(e),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(aa,e)}catch{}}var Fe=Math.clz32?Math.clz32:$r,ml=Math.log,gl=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-(ml(e)/gl|0)|0}var ft=256,Vr=262144,Gr=4194304;function hn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~u,i!==0?o=hn(i):(h&=v,h!==0?o=hn(h):a||(a=v&~e,a!==0&&(o=hn(a))))):(v=i&~u,v!==0?o=hn(v):h!==0?o=hn(h):a||(a=i&~e,a!==0&&(o=hn(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Mi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function pl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Li(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lm(e,t,a,i,o,u){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(a=h&~a;0<a;){var R=31-Fe(a),M=1<<R;v[R]=0,b[R]=-1;var O=A[R];if(O!==null)for(A[R]=null,R=0;R<O.length;R++){var k=O[R];k!==null&&(k.lane&=-536870913)}a&=~M}i!==0&&oc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function oc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Fe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function uc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Fe(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function cc(e,t){var a=t&-t;return a=(a&42)!==0?1:vl(a),(a&(e.suspendedLanes|t))!==0?0:a}function vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function dc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Wf(e.type))}function hc(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var La=Math.random().toString(36).slice(2),mt="__reactFiber$"+La,jt="__reactProps$"+La,Bn="__reactContainer$"+La,bl="__reactEvents$"+La,om="__reactListeners$"+La,um="__reactHandles$"+La,fc="__reactResources$"+La,Bi="__reactMarker$"+La;function _l(e){delete e[mt],delete e[jt],delete e[bl],delete e[om],delete e[um]}function qn(e){var t=e[mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Bn]||a[mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Df(e);e!==null;){if(a=e[mt])return a;e=Df(e)}return t}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[mt]||e[Bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function $n(e){var t=e[fc];return t||(t=e[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[Bi]=!0}var mc=new Set,gc={};function fn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(gc[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var cm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},vc={};function dm(e){return fe.call(vc,e)?!0:fe.call(pc,e)?!1:cm.test(e)?vc[e]=!0:(pc[e]=!0,!1)}function Kr(e,t,a){if(dm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Xr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function va(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hm(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wl(e){if(!e._valueTracker){var t=yc(e)?"checked":"value";e._valueTracker=hm(e,t,""+e[t])}}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=yc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fm=/[\n"\\]/g;function Qt(e){return e.replace(fm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xl(e,t,a,i,o,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Sl(e,h,Xt(t)):a!=null?Sl(e,h,Xt(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Xt(v):e.removeAttribute("name")}function _c(e,t,a,i,o,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){wl(e);return}a=a!=null?""+Xt(a):"",t=t!=null?""+Xt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),wl(e)}function Sl(e,t,a){t==="number"&&Qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gn(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Xt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wc(e,t,a){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Xt(a):""}function xc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(Tt(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Xt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),wl(e)}function Yn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||mm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ec(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&Sc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Sc(e,u,t[u])}function El(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return pm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ya(){}var Tl=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kn=null,Xn=null;function Tc(e){var t=Hn(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[jt]||null;if(!o)throw Error(l(90));xl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&bc(i)}break e;case"textarea":wc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gn(e,!!a.multiple,t,!1)}}}var Al=!1;function jc(e,t,a){if(Al)return e(t,a);Al=!0;try{var i=e(t);return i}finally{if(Al=!1,(Kn!==null||Xn!==null)&&(Ds(),Kn&&(t=Kn,e=Xn,Xn=Kn=null,Tc(t),e)))for(t=0;t<e.length;t++)Tc(e[t])}}function Hi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[jt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=!1;if(ba)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Ol=!1}var Ba=null,Nl=null,Zr=null;function Ac(){if(Zr)return Zr;var e,t=Nl,a=t.length,i,o="value"in Ba?Ba.value:Ba.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(i=1;i<=h&&t[a-i]===o[u-i];i++);return Zr=o.slice(e,1<i?1-i:void 0)}function Ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function Oc(){return!1}function At(e){function t(a,i,o,u,h){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Wr:Oc,this.isPropagationStopped=Oc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),t}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=At(mn),Vi=S({},mn,{view:0,detail:0}),vm=At(Vi),kl,Cl,Gi,Fr=S({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(kl=e.screenX-Gi.screenX,Cl=e.screenY-Gi.screenY):Cl=kl=0,Gi=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),Nc=At(Fr),ym=S({},Fr,{dataTransfer:0}),bm=At(ym),_m=S({},Vi,{relatedTarget:0}),Rl=At(_m),wm=S({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),xm=At(wm),Sm=S({},mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=At(Sm),Tm=S({},mn,{data:0}),kc=At(Tm),jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Om[e])?!!t[e]:!1}function Ul(){return Nm}var km=S({},Vi,{key:function(e){if(e.key){var t=jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cm=At(km),Rm=S({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=At(Rm),Um=S({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),zm=At(Um),Dm=S({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mm=At(Dm),Lm=S({},Fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=At(Lm),qm=S({},mn,{newState:0,oldState:0}),Hm=At(qm),$m=[9,13,27,32],zl=ba&&"CompositionEvent"in window,Yi=null;ba&&"documentMode"in document&&(Yi=document.documentMode);var Vm=ba&&"TextEvent"in window&&!Yi,Rc=ba&&(!zl||Yi&&8<Yi&&11>=Yi),Uc=" ",zc=!1;function Dc(e,t){switch(e){case"keyup":return $m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function Gm(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(zc=!0,Uc);case"textInput":return e=t.data,e===Uc&&zc?null:e;default:return null}}function Ym(e,t){if(Qn)return e==="compositionend"||!zl&&Dc(e,t)?(e=Ac(),Zr=Nl=Ba=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rc&&t.locale!=="ko"?null:t.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Km[e.type]:t==="textarea"}function Bc(e,t,a,i){Kn?Xn?Xn.push(i):Xn=[i]:Kn=i,t=Vs(t,"onChange"),0<t.length&&(a=new Pr("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Ki=null,Xi=null;function Xm(e){wf(e,0)}function es(e){var t=qi(e);if(bc(t))return e}function qc(e,t){if(e==="change")return t}var Hc=!1;if(ba){var Dl;if(ba){var Ml="oninput"in document;if(!Ml){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),Ml=typeof $c.oninput=="function"}Dl=Ml}else Dl=!1;Hc=Dl&&(!document.documentMode||9<document.documentMode)}function Vc(){Ki&&(Ki.detachEvent("onpropertychange",Gc),Xi=Ki=null)}function Gc(e){if(e.propertyName==="value"&&es(Xi)){var t=[];Bc(t,Xi,e,jl(e)),jc(Xm,t)}}function Qm(e,t,a){e==="focusin"?(Vc(),Ki=t,Xi=a,Ki.attachEvent("onpropertychange",Gc)):e==="focusout"&&Vc()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return es(Xi)}function Zm(e,t){if(e==="click")return es(t)}function Im(e,t){if(e==="input"||e==="change")return es(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Wm;function Qi(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!fe.call(t,o)||!zt(e[o],t[o]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,t){var a=Yc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yc(a)}}function Xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Qr(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pm=ba&&"documentMode"in document&&11>=document.documentMode,Jn=null,Bl=null,Ji=null,ql=!1;function Jc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ql||Jn==null||Jn!==Qr(i)||(i=Jn,"selectionStart"in i&&Ll(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ji&&Qi(Ji,i)||(Ji=i,i=Vs(Bl,"onSelect"),0<i.length&&(t=new Pr("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Jn)))}function gn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Zn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionrun:gn("Transition","TransitionRun"),transitionstart:gn("Transition","TransitionStart"),transitioncancel:gn("Transition","TransitionCancel"),transitionend:gn("Transition","TransitionEnd")},Hl={},Zc={};ba&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function pn(e){if(Hl[e])return Hl[e];if(!Zn[e])return e;var t=Zn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zc)return Hl[e]=t[a];return e}var Ic=pn("animationend"),Wc=pn("animationiteration"),Pc=pn("animationstart"),Fm=pn("transitionrun"),eg=pn("transitionstart"),tg=pn("transitioncancel"),Fc=pn("transitionend"),ed=new Map,$l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$l.push("scrollEnd");function na(e,t){ed.set(e,t),fn(t,[e])}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],In=0,Vl=0;function as(){for(var e=In,t=Vl=In=0;t<e;){var a=Jt[t];Jt[t++]=null;var i=Jt[t];Jt[t++]=null;var o=Jt[t];Jt[t++]=null;var u=Jt[t];if(Jt[t++]=null,i!==null&&o!==null){var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}u!==0&&td(a,o,u)}}function ns(e,t,a,i){Jt[In++]=e,Jt[In++]=t,Jt[In++]=a,Jt[In++]=i,Vl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Gl(e,t,a,i){return ns(e,t,a,i),is(e)}function vn(e,t){return ns(e,null,null,t),is(e)}function td(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Fe(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function is(e){if(50<pr)throw pr=0,Fo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wn={};function ag(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,a,i){return new ag(e,t,a,i)}function Yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var a=e.alternate;return a===null?(a=Dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ad(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rs(e,t,a,i,o,u){var h=0;if(i=e,typeof e=="function")Yl(e)&&(h=1);else if(typeof e=="string")h=lp(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ee:return e=Dt(31,a,t,o),e.elementType=Ee,e.lanes=u,e;case z:return yn(a.children,o,u,t);case q:h=8,o|=24;break;case H:return e=Dt(12,a,t,o|2),e.elementType=H,e.lanes=u,e;case ue:return e=Dt(13,a,t,o),e.elementType=ue,e.lanes=u,e;case V:return e=Dt(19,a,t,o),e.elementType=V,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:h=10;break e;case G:h=9;break e;case X:h=11;break e;case $:h=14;break e;case we:h=16,i=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Dt(h,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function yn(e,t,a,i){return e=Dt(7,e,i,t),e.lanes=a,e}function Kl(e,t,a){return e=Dt(6,e,null,t),e.lanes=a,e}function nd(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function Xl(e,t,a){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var id=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var a=id.get(e);return a!==void 0?a:(t={value:e,source:t,stack:he(t)},id.set(e,t),t)}return{value:e,source:t,stack:he(t)}}var Pn=[],Fn=0,ss=null,Zi=0,It=[],Wt=0,qa=null,fa=1,ma="";function wa(e,t){Pn[Fn++]=Zi,Pn[Fn++]=ss,ss=e,Zi=t}function rd(e,t,a){It[Wt++]=fa,It[Wt++]=ma,It[Wt++]=qa,qa=e;var i=fa;e=ma;var o=32-Fe(i)-1;i&=~(1<<o),a+=1;var u=32-Fe(t)+o;if(30<u){var h=o-o%5;u=(i&(1<<h)-1).toString(32),i>>=h,o-=h,fa=1<<32-Fe(t)+o|a<<o|i,ma=u+e}else fa=1<<u|a<<o|i,ma=e}function Ql(e){e.return!==null&&(wa(e,1),rd(e,1,0))}function Jl(e){for(;e===ss;)ss=Pn[--Fn],Pn[Fn]=null,Zi=Pn[--Fn],Pn[Fn]=null;for(;e===qa;)qa=It[--Wt],It[Wt]=null,ma=It[--Wt],It[Wt]=null,fa=It[--Wt],It[Wt]=null}function sd(e,t){It[Wt++]=fa,It[Wt++]=ma,It[Wt++]=qa,fa=t.id,ma=t.overflow,qa=e}var gt=null,He=null,xe=!1,Ha=null,Pt=!1,Zl=Error(l(519));function $a(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ii(Zt(t,e)),Zl}function ld(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[mt]=e,t[jt]=i,a){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(a=0;a<yr.length;a++)pe(yr[a],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),_c(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),xc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Tf(t.textContent,a)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=ya),t=!0):t=!1,t||$a(e,!0)}function od(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:gt=gt.return}}function ei(e){if(e!==gt)return!1;if(!xe)return od(e),xe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||mu(e.type,e.memoizedProps)),a=!a),a&&He&&$a(e),od(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=zf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=zf(e)}else t===27?(t=He,tn(e.type)?(e=bu,bu=null,He=e):He=t):He=gt?ea(e.stateNode.nextSibling):null;return!0}function bn(){He=gt=null,xe=!1}function Il(){var e=Ha;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Ha=null),e}function Ii(e){Ha===null?Ha=[e]:Ha.push(e)}var Wl=w(null),_n=null,xa=null;function Va(e,t,a){K(Wl,t._currentValue),t._currentValue=a}function Sa(e){e._currentValue=Wl.current,L(Wl)}function Pl(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Fl(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var b=0;b<t.length;b++)if(v.context===t[b]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Pl(u.return,a,e),i||(h=null);break e}u=v.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=a,u=h.alternate,u!==null&&(u.lanes|=a),Pl(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ti(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=o.type;zt(o.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(o===je.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Sr):e=[Sr])}o=o.return}e!==null&&Fl(t,e,a,i),t.flags|=262144}function ls(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wn(e){_n=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return ud(_n,e)}function os(e,t){return _n===null&&wn(e),ud(e,t)}function ud(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},xa===null){if(e===null)throw Error(l(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return a}var ng=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ig=r.unstable_scheduleCallback,rg=r.unstable_NormalPriority,et={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new ng,data:new Map,refCount:0}}function Wi(e){e.refCount--,e.refCount===0&&ig(rg,function(){e.controller.abort()})}var Pi=null,to=0,ai=0,ni=null;function sg(e,t){if(Pi===null){var a=Pi=[];to=0,ai=ru(),ni={status:"pending",value:void 0,then:function(i){a.push(i)}}}return to++,t.then(cd,cd),t}function cd(){if(--to===0&&Pi!==null){ni!==null&&(ni.status="fulfilled");var e=Pi;Pi=null,ai=0,ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lg(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var dd=U.S;U.S=function(e,t){Jh=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sg(e,t),dd!==null&&dd(e,t)};var xn=w(null);function ao(){var e=xn.current;return e!==null?e:Be.pooledCache}function us(e,t){t===null?K(xn,xn.current):K(xn,t.pool)}function hd(){var e=ao();return e===null?null:{parent:et._currentValue,pool:e}}var ii=Error(l(460)),no=Error(l(474)),cs=Error(l(542)),ds={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ya,ya),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(ya,ya);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw En=t,ii}}function Sn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(En=a,ii):a}}var En=null;function gd(){if(En===null)throw Error(l(459));var e=En;return En=null,e}function pd(e){if(e===ii||e===cs)throw Error(l(483))}var ri=null,Fi=0;function hs(e){var t=Fi;return Fi+=1,ri===null&&(ri=[]),md(ri,e,t)}function er(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fs(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vd(e){function t(E,_){if(e){var j=E.deletions;j===null?(E.deletions=[_],E.flags|=16):j.push(_)}}function a(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function i(E){for(var _=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function o(E,_){return E=_a(E,_),E.index=0,E.sibling=null,E}function u(E,_,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<_?(E.flags|=67108866,_):j):(E.flags|=67108866,_)):(E.flags|=1048576,_)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,_,j,D){return _===null||_.tag!==6?(_=Kl(j,E.mode,D),_.return=E,_):(_=o(_,j),_.return=E,_)}function b(E,_,j,D){var P=j.type;return P===z?R(E,_,j.props.children,D,j.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===we&&Sn(P)===_.type)?(_=o(_,j.props),er(_,j),_.return=E,_):(_=rs(j.type,j.key,j.props,null,E.mode,D),er(_,j),_.return=E,_)}function A(E,_,j,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==j.containerInfo||_.stateNode.implementation!==j.implementation?(_=Xl(j,E.mode,D),_.return=E,_):(_=o(_,j.children||[]),_.return=E,_)}function R(E,_,j,D,P){return _===null||_.tag!==7?(_=yn(j,E.mode,D,P),_.return=E,_):(_=o(_,j),_.return=E,_)}function M(E,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Kl(""+_,E.mode,j),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C:return j=rs(_.type,_.key,_.props,null,E.mode,j),er(j,_),j.return=E,j;case N:return _=Xl(_,E.mode,j),_.return=E,_;case we:return _=Sn(_),M(E,_,j)}if(Tt(_)||Ke(_))return _=yn(_,E.mode,j,null),_.return=E,_;if(typeof _.then=="function")return M(E,hs(_),j);if(_.$$typeof===B)return M(E,os(E,_),j);fs(E,_)}return null}function O(E,_,j,D){var P=_!==null?_.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return P!==null?null:v(E,_,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return j.key===P?b(E,_,j,D):null;case N:return j.key===P?A(E,_,j,D):null;case we:return j=Sn(j),O(E,_,j,D)}if(Tt(j)||Ke(j))return P!==null?null:R(E,_,j,D,null);if(typeof j.then=="function")return O(E,_,hs(j),D);if(j.$$typeof===B)return O(E,_,os(E,j),D);fs(E,j)}return null}function k(E,_,j,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return E=E.get(j)||null,v(_,E,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return E=E.get(D.key===null?j:D.key)||null,b(_,E,D,P);case N:return E=E.get(D.key===null?j:D.key)||null,A(_,E,D,P);case we:return D=Sn(D),k(E,_,j,D,P)}if(Tt(D)||Ke(D))return E=E.get(j)||null,R(_,E,D,P,null);if(typeof D.then=="function")return k(E,_,j,hs(D),P);if(D.$$typeof===B)return k(E,_,j,os(_,D),P);fs(_,D)}return null}function J(E,_,j,D){for(var P=null,Ae=null,I=_,ce=_=0,be=null;I!==null&&ce<j.length;ce++){I.index>ce?(be=I,I=null):be=I.sibling;var Oe=O(E,I,j[ce],D);if(Oe===null){I===null&&(I=be);break}e&&I&&Oe.alternate===null&&t(E,I),_=u(Oe,_,ce),Ae===null?P=Oe:Ae.sibling=Oe,Ae=Oe,I=be}if(ce===j.length)return a(E,I),xe&&wa(E,ce),P;if(I===null){for(;ce<j.length;ce++)I=M(E,j[ce],D),I!==null&&(_=u(I,_,ce),Ae===null?P=I:Ae.sibling=I,Ae=I);return xe&&wa(E,ce),P}for(I=i(I);ce<j.length;ce++)be=k(I,E,ce,j[ce],D),be!==null&&(e&&be.alternate!==null&&I.delete(be.key===null?ce:be.key),_=u(be,_,ce),Ae===null?P=be:Ae.sibling=be,Ae=be);return e&&I.forEach(function(ln){return t(E,ln)}),xe&&wa(E,ce),P}function F(E,_,j,D){if(j==null)throw Error(l(151));for(var P=null,Ae=null,I=_,ce=_=0,be=null,Oe=j.next();I!==null&&!Oe.done;ce++,Oe=j.next()){I.index>ce?(be=I,I=null):be=I.sibling;var ln=O(E,I,Oe.value,D);if(ln===null){I===null&&(I=be);break}e&&I&&ln.alternate===null&&t(E,I),_=u(ln,_,ce),Ae===null?P=ln:Ae.sibling=ln,Ae=ln,I=be}if(Oe.done)return a(E,I),xe&&wa(E,ce),P;if(I===null){for(;!Oe.done;ce++,Oe=j.next())Oe=M(E,Oe.value,D),Oe!==null&&(_=u(Oe,_,ce),Ae===null?P=Oe:Ae.sibling=Oe,Ae=Oe);return xe&&wa(E,ce),P}for(I=i(I);!Oe.done;ce++,Oe=j.next())Oe=k(I,E,ce,Oe.value,D),Oe!==null&&(e&&Oe.alternate!==null&&I.delete(Oe.key===null?ce:Oe.key),_=u(Oe,_,ce),Ae===null?P=Oe:Ae.sibling=Oe,Ae=Oe);return e&&I.forEach(function(yp){return t(E,yp)}),xe&&wa(E,ce),P}function Me(E,_,j,D){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case C:e:{for(var P=j.key;_!==null;){if(_.key===P){if(P=j.type,P===z){if(_.tag===7){a(E,_.sibling),D=o(_,j.props.children),D.return=E,E=D;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===we&&Sn(P)===_.type){a(E,_.sibling),D=o(_,j.props),er(D,j),D.return=E,E=D;break e}a(E,_);break}else t(E,_);_=_.sibling}j.type===z?(D=yn(j.props.children,E.mode,D,j.key),D.return=E,E=D):(D=rs(j.type,j.key,j.props,null,E.mode,D),er(D,j),D.return=E,E=D)}return h(E);case N:e:{for(P=j.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===j.containerInfo&&_.stateNode.implementation===j.implementation){a(E,_.sibling),D=o(_,j.children||[]),D.return=E,E=D;break e}else{a(E,_);break}else t(E,_);_=_.sibling}D=Xl(j,E.mode,D),D.return=E,E=D}return h(E);case we:return j=Sn(j),Me(E,_,j,D)}if(Tt(j))return J(E,_,j,D);if(Ke(j)){if(P=Ke(j),typeof P!="function")throw Error(l(150));return j=P.call(j),F(E,_,j,D)}if(typeof j.then=="function")return Me(E,_,hs(j),D);if(j.$$typeof===B)return Me(E,_,os(E,j),D);fs(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,_!==null&&_.tag===6?(a(E,_.sibling),D=o(_,j),D.return=E,E=D):(a(E,_),D=Kl(j,E.mode,D),D.return=E,E=D),h(E)):a(E,_)}return function(E,_,j,D){try{Fi=0;var P=Me(E,_,j,D);return ri=null,P}catch(I){if(I===ii||I===cs)throw I;var Ae=Dt(29,I,null,E.mode);return Ae.lanes=D,Ae.return=E,Ae}finally{}}}var Tn=vd(!0),yd=vd(!1),Ga=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ne&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=is(e),td(e,null,a),t}return ns(e,i,t,a),is(e)}function tr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,uc(e,a)}}function so(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var lo=!1;function ar(){if(lo){var e=ni;if(e!==null)throw e}}function nr(e,t,a,i){lo=!1;var o=e.updateQueue;Ga=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var b=v,A=b.next;b.next=null,h===null?u=A:h.next=A,h=b;var R=e.alternate;R!==null&&(R=R.updateQueue,v=R.lastBaseUpdate,v!==h&&(v===null?R.firstBaseUpdate=A:v.next=A,R.lastBaseUpdate=b))}if(u!==null){var M=o.baseState;h=0,R=A=b=null,v=u;do{var O=v.lane&-536870913,k=O!==v.lane;if(k?(ye&O)===O:(i&O)===O){O!==0&&O===ai&&(lo=!0),R!==null&&(R=R.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var J=e,F=v;O=t;var Me=a;switch(F.tag){case 1:if(J=F.payload,typeof J=="function"){M=J.call(Me,M,O);break e}M=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=F.payload,O=typeof J=="function"?J.call(Me,M,O):J,O==null)break e;M=S({},M,O);break e;case 2:Ga=!0}}O=v.callback,O!==null&&(e.flags|=64,k&&(e.flags|=8192),k=o.callbacks,k===null?o.callbacks=[O]:k.push(O))}else k={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},R===null?(A=R=k,b=M):R=R.next=k,h|=O;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;k=v,v=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(!0);R===null&&(b=M),o.baseState=b,o.firstBaseUpdate=A,o.lastBaseUpdate=R,u===null&&(o.shared.lanes=0),Ia|=h,e.lanes=h,e.memoizedState=M}}function bd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function _d(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bd(a[e],t)}var si=w(null),ms=w(0);function wd(e,t){e=Ra,K(ms,e),K(si,t),Ra=e|t.baseLanes}function oo(){K(ms,Ra),K(si,si.current)}function uo(){Ra=ms.current,L(si),L(ms)}var Mt=w(null),Ft=null;function Xa(e){var t=e.alternate;K(We,We.current&1),K(Mt,e),Ft===null&&(t===null||si.current!==null||t.memoizedState!==null)&&(Ft=e)}function co(e){K(We,We.current),K(Mt,e),Ft===null&&(Ft=e)}function xd(e){e.tag===22?(K(We,We.current),K(Mt,e),Ft===null&&(Ft=e)):Qa()}function Qa(){K(We,We.current),K(Mt,Mt.current)}function Lt(e){L(Mt),Ft===e&&(Ft=null),L(We)}var We=w(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vu(a)||yu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=0,oe=null,ze=null,tt=null,ps=!1,li=!1,jn=!1,vs=0,ir=0,oi=null,og=0;function Qe(){throw Error(l(321))}function ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function fo(e,t,a,i,o,u){return Ea=u,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?rh:Oo,jn=!1,u=a(i,o),jn=!1,li&&(u=Ed(t,a,i,o)),Sd(e),u}function Sd(e){U.H=lr;var t=ze!==null&&ze.next!==null;if(Ea=0,tt=ze=oe=null,ps=!1,ir=0,oi=null,t)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&ls(e)&&(at=!0))}function Ed(e,t,a,i){oe=e;var o=0;do{if(li&&(oi=null),ir=0,li=!1,25<=o)throw Error(l(301));if(o+=1,tt=ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=sh,u=t(a,i)}while(li);return u}function ug(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(oe.flags|=1024),t}function mo(){var e=vs!==0;return vs=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function po(e){if(ps){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ps=!1}Ea=0,tt=ze=oe=null,li=!1,ir=vs=0,oi=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?oe.memoizedState=tt=e:tt=tt.next=e,tt}function Pe(){if(ze===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=tt===null?oe.memoizedState:tt.next;if(t!==null)tt=t,ze=e;else{if(e===null)throw oe.alternate===null?Error(l(467)):Error(l(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},tt===null?oe.memoizedState=tt=e:tt=tt.next=e}return tt}function ys(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=ir;return ir+=1,oi===null&&(oi=[]),e=md(oi,e,t),t=oe,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?rh:Oo),e}function bs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===B)return pt(e)}throw Error(l(438,String(e)))}function vo(e){var t=null,a=oe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=oe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ys(),oe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=wt;return t.index++,a}function Ta(e,t){return typeof t=="function"?t(e):t}function _s(e){var t=Pe();return yo(t,ze,e)}function yo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=h=null,b=null,A=t,R=!1;do{var M=A.lane&-536870913;if(M!==A.lane?(ye&M)===M:(Ea&M)===M){var O=A.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),M===ai&&(R=!0);else if((Ea&O)===O){A=A.next,O===ai&&(R=!0);continue}else M={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=M,h=u):b=b.next=M,oe.lanes|=O,Ia|=O;M=A.action,jn&&a(u,M),u=A.hasEagerState?A.eagerState:a(u,M)}else O={lane:M,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=O,h=u):b=b.next=O,oe.lanes|=M,Ia|=M;A=A.next}while(A!==null&&A!==t);if(b===null?h=u:b.next=v,!zt(u,e.memoizedState)&&(at=!0,R&&(a=ni,a!==null)))throw a;e.memoizedState=u,e.baseState=h,e.baseQueue=b,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function bo(e){var t=Pe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);zt(u,t.memoizedState)||(at=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function Td(e,t,a){var i=oe,o=Pe(),u=xe;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!zt((ze||o).memoizedState,a);if(h&&(o.memoizedState=a,at=!0),o=o.queue,xo(Od.bind(null,i,o,e),[e]),o.getSnapshot!==t||h||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,ui(9,{destroy:void 0},Ad.bind(null,i,o,a,t),null),Be===null)throw Error(l(349));u||(Ea&127)!==0||jd(i,t,a)}return a}function jd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=oe.updateQueue,t===null?(t=ys(),oe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ad(e,t,a,i){t.value=a,t.getSnapshot=i,Nd(t)&&kd(e)}function Od(e,t,a){return a(function(){Nd(t)&&kd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function kd(e){var t=vn(e,2);t!==null&&Rt(t,e,2)}function _o(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),jn){Ie(!0);try{a()}finally{Ie(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Cd(e,t,a,i){return e.baseState=a,yo(e,ze,typeof i=="function"?i:Ta)}function cg(e,t,a,i,o){if(Ss(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};U.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,Rd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Rd(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=U.T,h={};U.T=h;try{var v=a(o,i),b=U.S;b!==null&&b(h,v),Ud(e,t,v)}catch(A){wo(e,t,A)}finally{u!==null&&h.types!==null&&(u.types=h.types),U.T=u}}else try{u=a(o,i),Ud(e,t,u)}catch(A){wo(e,t,A)}}function Ud(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){zd(e,t,i)},function(i){return wo(e,t,i)}):zd(e,t,a)}function zd(e,t,a){t.status="fulfilled",t.value=a,Dd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Rd(e,a)))}function wo(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Dd(t),t=t.next;while(t!==i)}e.action=null}function Dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Md(e,t){return t}function Ld(e,t){if(xe){var a=Be.formState;if(a!==null){e:{var i=oe;if(xe){if(He){t:{for(var o=He,u=Pt;o.nodeType!==8;){if(!u){o=null;break t}if(o=ea(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){He=ea(o.nextSibling),i=o.data==="F!";break e}}$a(i)}i=!1}i&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},a.queue=i,a=ah.bind(null,oe,i),i.dispatch=a,i=_o(!1),u=Ao.bind(null,oe,!1,i.queue),i=Et(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=cg.bind(null,oe,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Bd(e){var t=Pe();return qd(t,ze,e)}function qd(e,t,a){if(t=yo(e,t,Md)[0],e=_s(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=rr(t)}catch(h){throw h===ii?cs:h}else i=t;t=Pe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(oe.flags|=2048,ui(9,{destroy:void 0},dg.bind(null,o,a),null)),[i,u,e]}function dg(e,t){e.action=t}function Hd(e){var t=Pe(),a=ze;if(a!==null)return qd(t,a,e);Pe(),t=t.memoizedState,a=Pe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ui(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=oe.updateQueue,t===null&&(t=ys(),oe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function $d(){return Pe().memoizedState}function ws(e,t,a,i){var o=Et();oe.flags|=e,o.memoizedState=ui(1|t,{destroy:void 0},a,i===void 0?null:i)}function xs(e,t,a,i){var o=Pe();i=i===void 0?null:i;var u=o.memoizedState.inst;ze!==null&&i!==null&&ho(i,ze.memoizedState.deps)?o.memoizedState=ui(t,u,a,i):(oe.flags|=e,o.memoizedState=ui(1|t,u,a,i))}function Vd(e,t){ws(8390656,8,e,t)}function xo(e,t){xs(2048,8,e,t)}function hg(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=ys(),oe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Gd(e){var t=Pe().memoizedState;return hg({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return xs(4,2,e,t)}function Kd(e,t){return xs(4,4,e,t)}function Xd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,a){a=a!=null?a.concat([e]):null,xs(4,4,Xd.bind(null,t,e),a)}function So(){}function Jd(e,t){var a=Pe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&ho(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Zd(e,t){var a=Pe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&ho(t,i[1]))return i[0];if(i=e(),jn){Ie(!0);try{e()}finally{Ie(!1)}}return a.memoizedState=[i,t],i}function Eo(e,t,a){return a===void 0||(Ea&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ih(),oe.lanes|=e,Ia|=e,a)}function Id(e,t,a,i){return zt(a,t)?a:si.current!==null?(e=Eo(e,a,i),zt(e,t)||(at=!0),e):(Ea&42)===0||(Ea&1073741824)!==0&&(ye&261930)===0?(at=!0,e.memoizedState=a):(e=Ih(),oe.lanes|=e,Ia|=e,t)}function Wd(e,t,a,i,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var h=U.T,v={};U.T=v,Ao(e,!1,t,a);try{var b=o(),A=U.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var R=lg(b,i);sr(e,t,R,Ht(e))}else sr(e,t,i,Ht(e))}catch(M){sr(e,t,{then:function(){},status:"rejected",reason:M},Ht())}finally{Y.p=u,h!==null&&v.types!==null&&(h.types=v.types),U.T=h}}function fg(){}function To(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=Pd(e).queue;Wd(e,o,t,ee,a===null?fg:function(){return Fd(e),a(i)})}function Pd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fd(e){var t=Pd(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},Ht())}function jo(){return pt(Sr)}function eh(){return Pe().memoizedState}function th(){return Pe().memoizedState}function mg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ht();e=Ya(a);var i=Ka(t,e,a);i!==null&&(Rt(i,t,a),tr(i,t,a)),t={cache:eo()},e.payload=t;return}t=t.return}}function gg(e,t,a){var i=Ht();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ss(e)?nh(t,a):(a=Gl(e,t,a,i),a!==null&&(Rt(a,e,i),ih(a,t,i)))}function ah(e,t,a){var i=Ht();sr(e,t,a,i)}function sr(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))nh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,a);if(o.hasEagerState=!0,o.eagerState=v,zt(v,h))return ns(e,t,o,0),Be===null&&as(),!1}catch{}finally{}if(a=Gl(e,t,o,i),a!==null)return Rt(a,e,i),ih(a,t,i),!0}return!1}function Ao(e,t,a,i){if(i={lane:2,revertLane:ru(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(l(479))}else t=Gl(e,a,i,2),t!==null&&Rt(t,e,2)}function Ss(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function nh(e,t){li=ps=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ih(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,uc(e,a)}}var lr={readContext:pt,use:bs,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};lr.useEffectEvent=Qe;var rh={readContext:pt,use:bs,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Vd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ws(4194308,4,Xd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var i=e();if(jn){Ie(!0);try{e()}finally{Ie(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=Et();if(a!==void 0){var o=a(t);if(jn){Ie(!0);try{a(t)}finally{Ie(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=gg.bind(null,oe,e),[i.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=_o(e);var t=e.queue,a=ah.bind(null,oe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:So,useDeferredValue:function(e,t){var a=Et();return Eo(a,e,t)},useTransition:function(){var e=_o(!1);return e=Wd.bind(null,oe,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=oe,o=Et();if(xe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(ye&127)!==0||jd(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Vd(Od.bind(null,i,u,e),[e]),i.flags|=2048,ui(9,{destroy:void 0},Ad.bind(null,i,u,a,t),null),a},useId:function(){var e=Et(),t=Be.identifierPrefix;if(xe){var a=ma,i=fa;a=(i&~(1<<32-Fe(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=vs++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=og++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ao.bind(null,oe,!0,a),a.dispatch=t,[e,t]},useMemoCache:vo,useCacheRefresh:function(){return Et().memoizedState=mg.bind(null,oe)},useEffectEvent:function(e){var t=Et(),a={impl:e};return t.memoizedState=a,function(){if((Ne&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Oo={readContext:pt,use:bs,useCallback:Jd,useContext:pt,useEffect:xo,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Zd,useReducer:_s,useRef:$d,useState:function(){return _s(Ta)},useDebugValue:So,useDeferredValue:function(e,t){var a=Pe();return Id(a,ze.memoizedState,e,t)},useTransition:function(){var e=_s(Ta)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:Td,useId:eh,useHostTransitionStatus:jo,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var a=Pe();return Cd(a,ze,e,t)},useMemoCache:vo,useCacheRefresh:th};Oo.useEffectEvent=Gd;var sh={readContext:pt,use:bs,useCallback:Jd,useContext:pt,useEffect:xo,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Zd,useReducer:bo,useRef:$d,useState:function(){return bo(Ta)},useDebugValue:So,useDeferredValue:function(e,t){var a=Pe();return ze===null?Eo(a,e,t):Id(a,ze.memoizedState,e,t)},useTransition:function(){var e=bo(Ta)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:Td,useId:eh,useHostTransitionStatus:jo,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var a=Pe();return ze!==null?Cd(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vo,useCacheRefresh:th};sh.useEffectEvent=Gd;function No(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Ht(),o=Ya(i);o.payload=t,a!=null&&(o.callback=a),t=Ka(e,o,i),t!==null&&(Rt(t,e,i),tr(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Ht(),o=Ya(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ka(e,o,i),t!==null&&(Rt(t,e,i),tr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ht(),i=Ya(a);i.tag=2,t!=null&&(i.callback=t),t=Ka(e,i,a),t!==null&&(Rt(t,e,a),tr(t,e,a))}};function lh(e,t,a,i,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,h):t.prototype&&t.prototype.isPureReactComponent?!Qi(a,i)||!Qi(o,u):!0}function oh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function An(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function uh(e){ts(e)}function ch(e){console.error(e)}function dh(e){ts(e)}function Es(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function hh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Co(e,t,a){return a=Ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Es(e,t)},a}function fh(e){return e=Ya(e),e.tag=3,e}function mh(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){hh(t,a,i)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){hh(t,a,i),typeof o!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function pg(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&ti(t,a,o,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?Ms():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===ds?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),au(e,i,o)),!1;case 22:return a.flags|=65536,i===ds?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),au(e,i,o)),!1}throw Error(l(435,a.tag))}return au(e,i,o),Ms(),!1}if(xe)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Zl&&(e=Error(l(422),{cause:i}),Ii(Zt(e,a)))):(i!==Zl&&(t=Error(l(423),{cause:i}),Ii(Zt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Zt(i,a),o=Co(e.stateNode,i,o),so(e,o),Je!==4&&(Je=2)),!1;var u=Error(l(520),{cause:i});if(u=Zt(u,a),gr===null?gr=[u]:gr.push(u),Je!==4&&(Je=2),t===null)return!0;i=Zt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Co(a.stateNode,i,e),so(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Wa===null||!Wa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=fh(o),mh(o,e,a,i),so(a,o),!1}a=a.return}while(a!==null);return!1}var Ro=Error(l(461)),at=!1;function vt(e,t,a,i){t.child=e===null?yd(t,null,a,i):Tn(t,e.child,a,i)}function gh(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var h={};for(var v in i)v!=="ref"&&(h[v]=i[v])}else h=i;return wn(t),i=fo(e,t,a,h,u,o),v=mo(),e!==null&&!at?(go(e,t,o),ja(e,t,o)):(xe&&v&&Ql(t),t.flags|=1,vt(e,t,i,o),t.child)}function ph(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!Yl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,vh(e,t,u,i,o)):(e=rs(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ho(e,o)){var h=u.memoizedProps;if(a=a.compare,a=a!==null?a:Qi,a(h,i)&&e.ref===t.ref)return ja(e,t,o)}return t.flags|=1,e=_a(u,i),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if(Qi(u,i)&&e.ref===t.ref)if(at=!1,t.pendingProps=i=u,Ho(e,o))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,ja(e,t,o)}return Uo(e,t,a,i,o)}function yh(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return bh(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&us(t,u!==null?u.cachePool:null),u!==null?wd(t,u):oo(),xd(t);else return i=t.lanes=536870912,bh(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(us(t,u.cachePool),wd(t,u),Qa(),t.memoizedState=null):(e!==null&&us(t,null),oo(),Qa());return vt(e,t,o,a),t.child}function or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(e,t,a,i,o){var u=ao();return u=u===null?null:{parent:et._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&us(t,null),oo(),xd(t),e!==null&&ti(e,t,i,!0),t.childLanes=o,null}function Ts(e,t){return t=As({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _h(e,t,a){return Tn(t,e.child,null,a),e=Ts(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function vg(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(i.mode==="hidden")return e=Ts(t,i),t.lanes=536870912,or(null,e);if(co(t),(e=He)?(e=Uf(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qa!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=nd(e),a.return=t,t.child=a,gt=t,He=null)):e=null,e===null)throw $a(t);return t.lanes=536870912,null}return Ts(t,i)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(co(t),o)if(t.flags&256)t.flags&=-257,t=_h(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(at||ti(e,t,a,!1),o=(a&e.childLanes)!==0,at||o){if(i=Be,i!==null&&(h=cc(i,a),h!==0&&h!==u.retryLane))throw u.retryLane=h,vn(e,h),Rt(i,e,h),Ro;Ms(),t=_h(e,t,a)}else e=u.treeContext,He=ea(h.nextSibling),gt=t,xe=!0,Ha=null,Pt=!1,e!==null&&sd(t,e),t=Ts(t,i),t.flags|=4096;return t}return e=_a(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function js(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Uo(e,t,a,i,o){return wn(t),a=fo(e,t,a,i,void 0,o),i=mo(),e!==null&&!at?(go(e,t,o),ja(e,t,o)):(xe&&i&&Ql(t),t.flags|=1,vt(e,t,a,o),t.child)}function wh(e,t,a,i,o,u){return wn(t),t.updateQueue=null,a=Ed(t,i,a,o),Sd(e),i=mo(),e!==null&&!at?(go(e,t,u),ja(e,t,u)):(xe&&i&&Ql(t),t.flags|=1,vt(e,t,a,u),t.child)}function xh(e,t,a,i,o){if(wn(t),t.stateNode===null){var u=Wn,h=a.contextType;typeof h=="object"&&h!==null&&(u=pt(h)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ko,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},io(t),h=a.contextType,u.context=typeof h=="object"&&h!==null?pt(h):Wn,u.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(No(t,a,h,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&ko.enqueueReplaceState(u,u.state,null),nr(t,i,u,o),ar(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,b=An(a,v);u.props=b;var A=u.context,R=a.contextType;h=Wn,typeof R=="object"&&R!==null&&(h=pt(R));var M=a.getDerivedStateFromProps;R=typeof M=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,R||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||A!==h)&&oh(t,u,i,h),Ga=!1;var O=t.memoizedState;u.state=O,nr(t,i,u,o),ar(),A=t.memoizedState,v||O!==A||Ga?(typeof M=="function"&&(No(t,a,M,i),A=t.memoizedState),(b=Ga||lh(t,a,b,i,O,A,h))?(R||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=A),u.props=i,u.state=A,u.context=h,i=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,ro(e,t),h=t.memoizedProps,R=An(a,h),u.props=R,M=t.pendingProps,O=u.context,A=a.contextType,b=Wn,typeof A=="object"&&A!==null&&(b=pt(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==M||O!==b)&&oh(t,u,i,b),Ga=!1,O=t.memoizedState,u.state=O,nr(t,i,u,o),ar();var k=t.memoizedState;h!==M||O!==k||Ga||e!==null&&e.dependencies!==null&&ls(e.dependencies)?(typeof v=="function"&&(No(t,a,v,i),k=t.memoizedState),(R=Ga||lh(t,a,R,i,O,k,b)||e!==null&&e.dependencies!==null&&ls(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,k,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,k,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=k),u.props=i,u.state=k,u.context=b,i=R):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,js(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=Tn(t,e.child,null,o),t.child=Tn(t,null,a,o)):vt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ja(e,t,o),e}function Sh(e,t,a,i){return bn(),t.flags|=256,vt(e,t,a,i),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:hd()}}function Mo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function Eh(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(o?Xa(t):Qa(),(e=He)?(e=Uf(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qa!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=nd(e),a.return=t,t.child=a,gt=t,He=null)):e=null,e===null)throw $a(t);return yu(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,o?(Qa(),o=t.mode,v=As({mode:"hidden",children:v},o),i=yn(i,o,a,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Do(a),i.childLanes=Mo(e,h,a),t.memoizedState=zo,or(null,i)):(Xa(t),Lo(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(u)t.flags&256?(Xa(t),t.flags&=-257,t=Bo(e,t,a)):t.memoizedState!==null?(Qa(),t.child=e.child,t.flags|=128,t=null):(Qa(),v=i.fallback,o=t.mode,i=As({mode:"visible",children:i.children},o),v=yn(v,o,a,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,Tn(t,e.child,null,a),i=t.child,i.memoizedState=Do(a),i.childLanes=Mo(e,h,a),t.memoizedState=zo,t=or(null,i));else if(Xa(t),yu(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var A=h.dgst;h=A,i=Error(l(419)),i.stack="",i.digest=h,Ii({value:i,source:null,stack:null}),t=Bo(e,t,a)}else if(at||ti(e,t,a,!1),h=(a&e.childLanes)!==0,at||h){if(h=Be,h!==null&&(i=cc(h,a),i!==0&&i!==b.retryLane))throw b.retryLane=i,vn(e,i),Rt(h,e,i),Ro;vu(v)||Ms(),t=Bo(e,t,a)}else vu(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,He=ea(v.nextSibling),gt=t,xe=!0,Ha=null,Pt=!1,e!==null&&sd(t,e),t=Lo(t,i.children),t.flags|=4096);return t}return o?(Qa(),v=i.fallback,o=t.mode,b=e.child,A=b.sibling,i=_a(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,A!==null?v=_a(A,v):(v=yn(v,o,a,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,or(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Do(a):(o=v.cachePool,o!==null?(b=et._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=hd(),v={baseLanes:v.baseLanes|a,cachePool:o}),i.memoizedState=v,i.childLanes=Mo(e,h,a),t.memoizedState=zo,or(e.child,i)):(Xa(t),a=e.child,e=a.sibling,a=_a(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Lo(e,t){return t=As({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function As(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function Bo(e,t,a){return Tn(t,e.child,null,a),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Th(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pl(e.return,t,a)}function qo(e,t,a,i,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=a,h.tailMode=o,h.treeForkCount=u)}function jh(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var h=We.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,K(We,h),vt(e,t,i,a),i=xe?Zi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,a,t);else if(e.tag===19)Th(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&gs(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),qo(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&gs(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}qo(t,!0,a,null,u,i);break;case"together":qo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ja(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ti(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=_a(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_a(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ho(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ls(e)))}function yg(e,t,a){switch(t.tag){case 3:Le(t,t.stateNode.containerInfo),Va(t,et,e.memoizedState.cache),bn();break;case 27:case 5:cn(t);break;case 4:Le(t,t.stateNode.containerInfo);break;case 10:Va(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,co(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Xa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Eh(e,t,a):(Xa(t),e=ja(e,t,a),e!==null?e.sibling:null);Xa(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(ti(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return jh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(We,We.current),i)break;return null;case 22:return t.lanes=0,yh(e,t,a,t.pendingProps);case 24:Va(t,et,e.memoizedState.cache)}return ja(e,t,a)}function Ah(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!Ho(e,a)&&(t.flags&128)===0)return at=!1,yg(e,t,a);at=(e.flags&131072)!==0}else at=!1,xe&&(t.flags&1048576)!==0&&rd(t,Zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Sn(t.elementType),t.type=e,typeof e=="function")Yl(e)?(i=An(e,i),t.tag=1,t=xh(null,t,e,i,a)):(t.tag=0,t=Uo(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=gh(null,t,e,i,a);break e}else if(o===$){t.tag=14,t=ph(null,t,e,i,a);break e}}throw t=ot(e)||e,Error(l(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=An(i,t.pendingProps),xh(e,t,i,o,a);case 3:e:{if(Le(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,ro(e,t),nr(t,i,null,a);var h=t.memoizedState;if(i=h.cache,Va(t,et,i),i!==u.cache&&Fl(t,[et],a,!0),ar(),i=h.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Sh(e,t,i,a);break e}else if(i!==o){o=Zt(Error(l(424)),t),Ii(o),t=Sh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=ea(e.firstChild),gt=t,xe=!0,Ha=null,Pt=!0,a=yd(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bn(),i===o){t=ja(e,t,a);break e}vt(e,t,i,a)}t=t.child}return t;case 26:return js(e,t),e===null?(a=qf(t.type,null,t.pendingProps,null))?t.memoizedState=a:xe||(a=t.type,e=t.pendingProps,i=Gs(de.current).createElement(a),i[mt]=t,i[jt]=e,yt(i,a,e),ct(i),t.stateNode=i):t.memoizedState=qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return cn(t),e===null&&xe&&(i=t.stateNode=Mf(t.type,t.pendingProps,de.current),gt=t,Pt=!0,o=He,tn(t.type)?(bu=o,He=ea(i.firstChild)):He=o),vt(e,t,t.pendingProps.children,a),js(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((o=i=He)&&(i=Jg(i,t.type,t.pendingProps,Pt),i!==null?(t.stateNode=i,gt=t,He=ea(i.firstChild),Pt=!1,o=!0):o=!1),o||$a(t)),cn(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,i=u.children,mu(o,u)?i=null:h!==null&&mu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=fo(e,t,ug,null,null,a),Sr._currentValue=o),js(e,t),vt(e,t,i,a),t.child;case 6:return e===null&&xe&&((e=a=He)&&(a=Zg(a,t.pendingProps,Pt),a!==null?(t.stateNode=a,gt=t,He=null,e=!0):e=!1),e||$a(t)),null;case 13:return Eh(e,t,a);case 4:return Le(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Tn(t,null,i,a):vt(e,t,i,a),t.child;case 11:return gh(e,t,t.type,t.pendingProps,a);case 7:return vt(e,t,t.pendingProps,a),t.child;case 8:return vt(e,t,t.pendingProps.children,a),t.child;case 12:return vt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Va(t,t.type,i.value),vt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,wn(t),o=pt(o),i=i(o),t.flags|=1,vt(e,t,i,a),t.child;case 14:return ph(e,t,t.type,t.pendingProps,a);case 15:return vh(e,t,t.type,t.pendingProps,a);case 19:return jh(e,t,a);case 31:return vg(e,t,a);case 22:return yh(e,t,a,t.pendingProps);case 24:return wn(t),i=pt(et),e===null?(o=ao(),o===null&&(o=Be,u=eo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},io(t),Va(t,et,o)):((e.lanes&a)!==0&&(ro(e,t),nr(t,null,null,a),ar()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Va(t,et,i)):(i=u.cache,Va(t,et,i),i!==o.cache&&Fl(t,[et],a,!0))),vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Aa(e){e.flags|=4}function $o(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ef())e.flags|=8192;else throw En=ds,no}else e.flags&=-16777217}function Oh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yf(t))if(ef())e.flags|=8192;else throw En=ds,no}function Os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lc():536870912,e.lanes|=t,fi|=t)}function ur(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function bg(e,t,a){var i=t.pendingProps;switch(Jl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Sa(et),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ei(t)?Aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Il())),$e(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Aa(t),u!==null?($e(t),Oh(t,u)):($e(t),$o(t,o,null,i,a))):u?u!==e.memoizedState?(Aa(t),$e(t),Oh(t,u)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Aa(t),$e(t),$o(t,o,e,i,a)),null;case 27:if(Mn(t),a=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Aa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=Q.current,ei(t)?ld(t):(e=Mf(o,i,a),t.stateNode=e,Aa(t))}return $e(t),null;case 5:if(Mn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Aa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(u=Q.current,ei(t))ld(t);else{var h=Gs(de.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?h.createElement(o,{is:i.is}):h.createElement(o)}}u[mt]=t,u[jt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(yt(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Aa(t)}}return $e(t),$o(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Aa(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=de.current,ei(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=gt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[mt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Tf(e.nodeValue,a)),e||$a(t,!0)}else e=Gs(e).createTextNode(i),e[mt]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=ei(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[mt]=t}else bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=Il(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return $e(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ei(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[mt]=t}else bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=Il(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Os(t,t.updateQueue),$e(t),null);case 4:return Ge(),e===null&&uu(t.stateNode.containerInfo),$e(t),null;case 10:return Sa(t.type),$e(t),null;case 19:if(L(We),i=t.memoizedState,i===null)return $e(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)ur(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=gs(e),u!==null){for(t.flags|=128,ur(i,!1),e=u.updateQueue,t.updateQueue=e,Os(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ad(a,e),a=a.sibling;return K(We,We.current&1|2),xe&&wa(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ut()>Us&&(t.flags|=128,o=!0,ur(i,!1),t.lanes=4194304)}else{if(!o)if(e=gs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Os(t,e),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!xe)return $e(t),null}else 2*ut()-i.renderingStartTime>Us&&a!==536870912&&(t.flags|=128,o=!0,ur(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,a=We.current,K(We,o?a&1|2:a&1),xe&&wa(t,i.treeForkCount),e):($e(t),null);case 22:case 23:return Lt(t),uo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&Os(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&L(xn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(et),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function _g(e,t){switch(Jl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(et),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Mn(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(l(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(We),null;case 4:return Ge(),null;case 10:return Sa(t.type),null;case 22:case 23:return Lt(t),uo(),e!==null&&L(xn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(et),null;case 25:return null;default:return null}}function Nh(e,t){switch(Jl(t),t.tag){case 3:Sa(et),Ge();break;case 26:case 27:case 5:Mn(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:L(We);break;case 10:Sa(t.type);break;case 22:case 23:Lt(t),uo(),e!==null&&L(xn);break;case 24:Sa(et)}}function cr(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,h=a.inst;i=u(),h.destroy=i}a=a.next}while(a!==o)}}catch(v){Ue(t,t.return,v)}}function Ja(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var h=i.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,o=t;var b=a,A=v;try{A()}catch(R){Ue(o,b,R)}}}i=i.next}while(i!==u)}}catch(R){Ue(t,t.return,R)}}function kh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{_d(t,a)}catch(i){Ue(e,e.return,i)}}}function Ch(e,t,a){a.props=An(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Ue(e,t,i)}}function dr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Ue(e,t,o)}}function ga(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function Rh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function Vo(e,t,a){try{var i=e.stateNode;Vg(i,e.type,a,t),i[jt]=t}catch(o){Ue(e,e.return,o)}}function Uh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tn(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yo(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ya));else if(i!==4&&(i===27&&tn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Yo(e,t,a),e=e.sibling;e!==null;)Yo(e,t,a),e=e.sibling}function Ns(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&tn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ns(e,t,a),e=e.sibling;e!==null;)Ns(e,t,a),e=e.sibling}function zh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);yt(t,i,a),t[mt]=e,t[jt]=a}catch(u){Ue(e,e.return,u)}}var Oa=!1,nt=!1,Ko=!1,Dh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function wg(e,t){if(e=e.containerInfo,hu=Is,e=Qc(e),Ll(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var h=0,v=-1,b=-1,A=0,R=0,M=e,O=null;t:for(;;){for(var k;M!==a||o!==0&&M.nodeType!==3||(v=h+o),M!==u||i!==0&&M.nodeType!==3||(b=h+i),M.nodeType===3&&(h+=M.nodeValue.length),(k=M.firstChild)!==null;)O=M,M=k;for(;;){if(M===e)break t;if(O===a&&++A===o&&(v=h),O===u&&++R===i&&(b=h),(k=M.nextSibling)!==null)break;M=O,O=M.parentNode}M=k}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},Is=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var J=An(a.type,o);e=i.getSnapshotBeforeUpdate(J,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(F){Ue(a,a.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)pu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function Mh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:ka(e,a),i&4&&cr(5,a);break;case 1:if(ka(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ue(a,a.return,h)}else{var o=An(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ue(a,a.return,h)}}i&64&&kh(a),i&512&&dr(a,a.return);break;case 3:if(ka(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_d(e,t)}catch(h){Ue(a,a.return,h)}}break;case 27:t===null&&i&4&&zh(a);case 26:case 5:ka(e,a),t===null&&i&4&&Rh(a),i&512&&dr(a,a.return);break;case 12:ka(e,a);break;case 31:ka(e,a),i&4&&qh(e,a);break;case 13:ka(e,a),i&4&&Hh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kg.bind(null,a),Ig(e,a))));break;case 22:if(i=a.memoizedState!==null||Oa,!i){t=t!==null&&t.memoizedState!==null||nt,o=Oa;var u=nt;Oa=i,(nt=t)&&!u?Ca(e,a,(a.subtreeFlags&8772)!==0):ka(e,a),Oa=o,nt=u}break;case 30:break;default:ka(e,a)}}function Lh(e){var t=e.alternate;t!==null&&(e.alternate=null,Lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_l(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Ot=!1;function Na(e,t,a){for(a=a.child;a!==null;)Bh(e,t,a),a=a.sibling}function Bh(e,t,a){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(aa,a)}catch{}switch(a.tag){case 26:nt||ga(a,t),Na(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||ga(a,t);var i=Ye,o=Ot;tn(a.type)&&(Ye=a.stateNode,Ot=!1),Na(e,t,a),_r(a.stateNode),Ye=i,Ot=o;break;case 5:nt||ga(a,t);case 6:if(i=Ye,o=Ot,Ye=null,Na(e,t,a),Ye=i,Ot=o,Ye!==null)if(Ot)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(u){Ue(a,t,u)}else try{Ye.removeChild(a.stateNode)}catch(u){Ue(a,t,u)}break;case 18:Ye!==null&&(Ot?(e=Ye,Cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wi(e)):Cf(Ye,a.stateNode));break;case 4:i=Ye,o=Ot,Ye=a.stateNode.containerInfo,Ot=!0,Na(e,t,a),Ye=i,Ot=o;break;case 0:case 11:case 14:case 15:Ja(2,a,t),nt||Ja(4,a,t),Na(e,t,a);break;case 1:nt||(ga(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Ch(a,t,i)),Na(e,t,a);break;case 21:Na(e,t,a);break;case 22:nt=(i=nt)||a.memoizedState!==null,Na(e,t,a),nt=i;break;default:Na(e,t,a)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wi(e)}catch(a){Ue(t,t.return,a)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(a){Ue(t,t.return,a)}}function xg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dh),t;default:throw Error(l(435,e.tag))}}function ks(e,t){var a=xg(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=Cg.bind(null,e,i);i.then(o,o)}})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(tn(v.type)){Ye=v.stateNode,Ot=!1;break e}break;case 5:Ye=v.stateNode,Ot=!1;break e;case 3:case 4:Ye=v.stateNode.containerInfo,Ot=!0;break e}v=v.return}if(Ye===null)throw Error(l(160));Bh(u,h,o),Ye=null,Ot=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$h(t,e),t=t.sibling}var ia=null;function $h(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),kt(e),i&4&&(Ja(3,e,e.return),cr(3,e),Ja(5,e,e.return));break;case 1:Nt(t,e),kt(e),i&512&&(nt||a===null||ga(a,a.return)),i&64&&Oa&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=ia;if(Nt(t,e),kt(e),i&512&&(nt||a===null||ga(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Bi]||u[mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),yt(u,i,a),u[mt]=e,ct(u),i=u;break e;case"link":var h=Vf("link","href",o).get(i+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}u=o.createElement(i),yt(u,i,a),o.head.appendChild(u);break;case"meta":if(h=Vf("meta","content",o).get(i+(a.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}u=o.createElement(i),yt(u,i,a),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[mt]=e,ct(u),i=u}e.stateNode=i}else Gf(o,e.type,e.stateNode);else e.stateNode=$f(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?Gf(o,e.type,e.stateNode):$f(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Vo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),kt(e),i&512&&(nt||a===null||ga(a,a.return)),a!==null&&i&4&&Vo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),kt(e),i&512&&(nt||a===null||ga(a,a.return)),e.flags&32){o=e.stateNode;try{Yn(o,"")}catch(J){Ue(e,e.return,J)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Vo(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Ko=!0);break;case 6:if(Nt(t,e),kt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(J){Ue(e,e.return,J)}}break;case 3:if(Xs=null,o=ia,ia=Ys(t.containerInfo),Nt(t,e),ia=o,kt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(J){Ue(e,e.return,J)}Ko&&(Ko=!1,Vh(e));break;case 4:i=ia,ia=Ys(e.stateNode.containerInfo),Nt(t,e),kt(e),ia=i;break;case 12:Nt(t,e),kt(e);break;case 31:Nt(t,e),kt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ks(e,i)));break;case 13:Nt(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rs=ut()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ks(e,i)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,A=Oa,R=nt;if(Oa=A||o,nt=R||b,Nt(t,e),nt=R,Oa=A,kt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||Oa||nt||On(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(u=b.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=b.stateNode;var M=b.memoizedProps.style,O=M!=null&&M.hasOwnProperty("display")?M.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(J){Ue(b,b.return,J)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(J){Ue(b,b.return,J)}}}else if(t.tag===18){if(a===null){b=t;try{var k=b.stateNode;o?Rf(k,!0):Rf(b.stateNode,!1)}catch(J){Ue(b,b.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,ks(e,a))));break;case 19:Nt(t,e),kt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ks(e,i)));break;case 30:break;case 21:break;default:Nt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Uh(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Go(e);Ns(e,u,o);break;case 5:var h=a.stateNode;a.flags&32&&(Yn(h,""),a.flags&=-33);var v=Go(e);Ns(e,v,h);break;case 3:case 4:var b=a.stateNode.containerInfo,A=Go(e);Yo(e,A,b);break;default:throw Error(l(161))}}catch(R){Ue(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mh(e,t.alternate,t),t=t.sibling}function On(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),On(t);break;case 1:ga(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ch(t,t.return,a),On(t);break;case 27:_r(t.stateNode);case 26:case 5:ga(t,t.return),On(t);break;case 22:t.memoizedState===null&&On(t);break;case 30:On(t);break;default:On(t)}e=e.sibling}}function Ca(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:Ca(o,u,a),cr(4,u);break;case 1:if(Ca(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ue(i,i.return,A)}if(i=u,o=i.updateQueue,o!==null){var v=i.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)bd(b[o],v)}catch(A){Ue(i,i.return,A)}}a&&h&64&&kh(u),dr(u,u.return);break;case 27:zh(u);case 26:case 5:Ca(o,u,a),a&&i===null&&h&4&&Rh(u),dr(u,u.return);break;case 12:Ca(o,u,a);break;case 31:Ca(o,u,a),a&&h&4&&qh(o,u);break;case 13:Ca(o,u,a),a&&h&4&&Hh(o,u);break;case 22:u.memoizedState===null&&Ca(o,u,a),dr(u,u.return);break;case 30:break;default:Ca(o,u,a)}t=t.sibling}}function Xo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wi(a))}function Qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wi(e))}function ra(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gh(e,t,a,i),t=t.sibling}function Gh(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,a,i),o&2048&&cr(9,t);break;case 1:ra(e,t,a,i);break;case 3:ra(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wi(e)));break;case 12:if(o&2048){ra(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ue(t,t.return,b)}}else ra(e,t,a,i);break;case 31:ra(e,t,a,i);break;case 13:ra(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?ra(e,t,a,i):hr(e,t):u._visibility&2?ra(e,t,a,i):(u._visibility|=2,ci(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Xo(h,t);break;case 24:ra(e,t,a,i),o&2048&&Qo(t.alternate,t);break;default:ra(e,t,a,i)}}function ci(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,v=a,b=i,A=h.flags;switch(h.tag){case 0:case 11:case 15:ci(u,h,v,b,o),cr(8,h);break;case 23:break;case 22:var R=h.stateNode;h.memoizedState!==null?R._visibility&2?ci(u,h,v,b,o):hr(u,h):(R._visibility|=2,ci(u,h,v,b,o)),o&&A&2048&&Xo(h.alternate,h);break;case 24:ci(u,h,v,b,o),o&&A&2048&&Qo(h.alternate,h);break;default:ci(u,h,v,b,o)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:hr(a,i),o&2048&&Xo(i.alternate,i);break;case 24:hr(a,i),o&2048&&Qo(i.alternate,i);break;default:hr(a,i)}t=t.sibling}}var fr=8192;function di(e,t,a){if(e.subtreeFlags&fr)for(e=e.child;e!==null;)Yh(e,t,a),e=e.sibling}function Yh(e,t,a){switch(e.tag){case 26:di(e,t,a),e.flags&fr&&e.memoizedState!==null&&op(a,ia,e.memoizedState,e.memoizedProps);break;case 5:di(e,t,a);break;case 3:case 4:var i=ia;ia=Ys(e.stateNode.containerInfo),di(e,t,a),ia=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=fr,fr=16777216,di(e,t,a),fr=i):di(e,t,a));break;default:di(e,t,a)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];dt=i,Qh(i,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cs(e)):mr(e);break;default:mr(e)}}function Cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];dt=i,Qh(i,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),Cs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Cs(t));break;default:Cs(t)}e=e.sibling}}function Qh(e,t){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wi(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,dt=i;else e:for(a=e;dt!==null;){i=dt;var o=i.sibling,u=i.return;if(Lh(i),i===a){dt=null;break e}if(o!==null){o.return=u,dt=o;break e}dt=u}}}var Sg={getCacheForType:function(e){var t=pt(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return pt(et).controller.signal}},Eg=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Be=null,ge=null,ye=0,Re=0,Bt=null,Za=!1,hi=!1,Jo=!1,Ra=0,Je=0,Ia=0,Nn=0,Zo=0,qt=0,fi=0,gr=null,Ct=null,Io=!1,Rs=0,Jh=0,Us=1/0,zs=null,Wa=null,st=0,Pa=null,mi=null,Ua=0,Wo=0,Po=null,Zh=null,pr=0,Fo=null;function Ht(){return(Ne&2)!==0&&ye!==0?ye&-ye:U.T!==null?ru():dc()}function Ih(){if(qt===0)if((ye&536870912)===0||xe){var e=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),qt=e}else qt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),qt}function Rt(e,t,a){(e===Be&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(gi(e,0),Fa(e,ye,qt,!1)),Li(e,a),((Ne&2)===0||e!==Be)&&(e===Be&&((Ne&2)===0&&(Nn|=a),Je===4&&Fa(e,ye,qt,!1)),pa(e))}function Wh(e,t,a){if((Ne&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Mi(e,t),o=i?Ag(e,t):tu(e,t,!0),u=i;do{if(o===0){hi&&!i&&Fa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Tg(a)){o=tu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;o=gr;var b=v.current.memoizedState.isDehydrated;if(b&&(gi(v,h).flags|=256),h=tu(v,h,!1),h!==2){if(Jo&&!b){v.errorRecoveryDisabledLanes|=u,Nn|=u,o=4;break e}u=Ct,Ct=o,u!==null&&(Ct===null?Ct=u:Ct.push.apply(Ct,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){gi(e,0),Fa(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Fa(i,t,qt,!Za);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Rs+300-ut(),10<o)){if(Fa(i,t,qt,!Za),Yr(i,0,!0)!==0)break e;Ua=t,i.timeoutHandle=Nf(Ph.bind(null,i,a,Ct,zs,Io,t,qt,Nn,fi,Za,u,"Throttled",-0,0),o);break e}Ph(i,a,Ct,zs,Io,t,qt,Nn,fi,Za,u,null,-0,0)}}break}while(!0);pa(e)}function Ph(e,t,a,i,o,u,h,v,b,A,R,M,O,k){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},Yh(t,u,M);var J=(u&62914560)===u?Rs-ut():(u&4194048)===u?Jh-ut():0;if(J=up(M,J),J!==null){Ua=u,e.cancelPendingCommit=J(lf.bind(null,e,t,u,a,i,o,h,v,b,R,M,null,O,k)),Fa(e,u,h,!A);return}}lf(e,t,u,a,i,o,h,v,b)}function Tg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!zt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,a,i){t&=~Zo,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-Fe(o),h=1<<u;i[u]=-1,o&=~h}a!==0&&oc(e,a,t)}function Ds(){return(Ne&6)===0?(vr(0),!1):!0}function eu(){if(ge!==null){if(Re===0)var e=ge.return;else e=ge,xa=_n=null,po(e),ri=null,Fi=0,e=ge;for(;e!==null;)Nh(e.alternate,e),e=e.return;ge=null}}function gi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ua=0,eu(),Be=e,ge=a=_a(e.current,null),ye=t,Re=0,Bt=null,Za=!1,hi=Mi(e,t),Jo=!1,fi=qt=Zo=Nn=Ia=Je=0,Ct=gr=null,Io=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Fe(i),u=1<<o;t|=e[o],i&=~u}return Ra=t,as(),a}function Fh(e,t){oe=null,U.H=lr,t===ii||t===cs?(t=gd(),Re=3):t===no?(t=gd(),Re=4):Re=t===Ro?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,ge===null&&(Je=1,Es(e,Zt(t,e.current)))}function ef(){var e=Mt.current;return e===null?!0:(ye&4194048)===ye?Ft===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Ft:!1}function tf(){var e=U.H;return U.H=lr,e===null?lr:e}function af(){var e=U.A;return U.A=Sg,e}function Ms(){Je=4,Za||(ye&4194048)!==ye&&Mt.current!==null||(hi=!0),(Ia&134217727)===0&&(Nn&134217727)===0||Be===null||Fa(Be,ye,qt,!1)}function tu(e,t,a){var i=Ne;Ne|=2;var o=tf(),u=af();(Be!==e||ye!==t)&&(zs=null,gi(e,t)),t=!1;var h=Je;e:do try{if(Re!==0&&ge!==null){var v=ge,b=Bt;switch(Re){case 8:eu(),h=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var A=Re;if(Re=0,Bt=null,pi(e,v,b,A),a&&hi){h=0;break e}break;default:A=Re,Re=0,Bt=null,pi(e,v,b,A)}}jg(),h=Je;break}catch(R){Fh(e,R)}while(!0);return t&&e.shellSuspendCounter++,xa=_n=null,Ne=i,U.H=o,U.A=u,ge===null&&(Be=null,ye=0,as()),h}function jg(){for(;ge!==null;)nf(ge)}function Ag(e,t){var a=Ne;Ne|=2;var i=tf(),o=af();Be!==e||ye!==t?(zs=null,Us=ut()+500,gi(e,t)):hi=Mi(e,t);e:do try{if(Re!==0&&ge!==null){t=ge;var u=Bt;t:switch(Re){case 1:Re=0,Bt=null,pi(e,t,u,1);break;case 2:case 9:if(fd(u)){Re=0,Bt=null,rf(t);break}t=function(){Re!==2&&Re!==9||Be!==e||(Re=7),pa(e)},u.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:fd(u)?(Re=0,Bt=null,rf(t)):(Re=0,Bt=null,pi(e,t,u,7));break;case 5:var h=null;switch(ge.tag){case 26:h=ge.memoizedState;case 5:case 27:var v=ge;if(h?Yf(h):v.stateNode.complete){Re=0,Bt=null;var b=v.sibling;if(b!==null)ge=b;else{var A=v.return;A!==null?(ge=A,Ls(A)):ge=null}break t}}Re=0,Bt=null,pi(e,t,u,5);break;case 6:Re=0,Bt=null,pi(e,t,u,6);break;case 8:eu(),Je=6;break e;default:throw Error(l(462))}}Og();break}catch(R){Fh(e,R)}while(!0);return xa=_n=null,U.H=i,U.A=o,Ne=a,ge!==null?0:(Be=null,ye=0,as(),Je)}function Og(){for(;ge!==null&&!ua();)nf(ge)}function nf(e){var t=Ah(e.alternate,e,Ra);e.memoizedProps=e.pendingProps,t===null?Ls(e):ge=t}function rf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=wh(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=wh(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:po(t);default:Nh(a,t),t=ge=ad(t,Ra),t=Ah(a,t,Ra)}e.memoizedProps=e.pendingProps,t===null?Ls(e):ge=t}function pi(e,t,a,i){xa=_n=null,po(t),ri=null,Fi=0;var o=t.return;try{if(pg(e,o,t,a,ye)){Je=1,Es(e,Zt(a,e.current)),ge=null;return}}catch(u){if(o!==null)throw ge=o,u;Je=1,Es(e,Zt(a,e.current)),ge=null;return}t.flags&32768?(xe||i===1?e=!0:hi||(ye&536870912)!==0?e=!1:(Za=e=!0,(i===2||i===9||i===3||i===6)&&(i=Mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),sf(t,e)):Ls(t)}function Ls(e){var t=e;do{if((t.flags&32768)!==0){sf(t,Za);return}e=t.return;var a=bg(t.alternate,t,Ra);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Je===0&&(Je=5)}function sf(e,t){do{var a=_g(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Je=6,ge=null}function lf(e,t,a,i,o,u,h,v,b){e.cancelPendingCommit=null;do Bs();while(st!==0);if((Ne&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Vl,lm(e,a,u,h,v,b),e===Be&&(ge=Be=null,ye=0),mi=t,Pa=e,Ua=a,Wo=u,Po=o,Zh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rg(da,function(){return hf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=U.T,U.T=null,o=Y.p,Y.p=2,h=Ne,Ne|=4;try{wg(e,t,a)}finally{Ne=h,Y.p=o,U.T=i}}st=1,of(),uf(),cf()}}function of(){if(st===1){st=0;var e=Pa,t=mi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var i=Y.p;Y.p=2;var o=Ne;Ne|=4;try{$h(t,e);var u=fu,h=Qc(e.containerInfo),v=u.focusedElem,b=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&Xc(v.ownerDocument.documentElement,v)){if(b!==null&&Ll(v)){var A=b.start,R=b.end;if(R===void 0&&(R=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(R,v.value.length);else{var M=v.ownerDocument||document,O=M&&M.defaultView||window;if(O.getSelection){var k=O.getSelection(),J=v.textContent.length,F=Math.min(b.start,J),Me=b.end===void 0?F:Math.min(b.end,J);!k.extend&&F>Me&&(h=Me,Me=F,F=h);var E=Kc(v,F),_=Kc(v,Me);if(E&&_&&(k.rangeCount!==1||k.anchorNode!==E.node||k.anchorOffset!==E.offset||k.focusNode!==_.node||k.focusOffset!==_.offset)){var j=M.createRange();j.setStart(E.node,E.offset),k.removeAllRanges(),F>Me?(k.addRange(j),k.extend(_.node,_.offset)):(j.setEnd(_.node,_.offset),k.addRange(j))}}}}for(M=[],k=v;k=k.parentNode;)k.nodeType===1&&M.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<M.length;v++){var D=M[v];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Is=!!hu,fu=hu=null}finally{Ne=o,Y.p=i,U.T=a}}e.current=t,st=2}}function uf(){if(st===2){st=0;var e=Pa,t=mi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var i=Y.p;Y.p=2;var o=Ne;Ne|=4;try{Mh(e,t.alternate,t)}finally{Ne=o,Y.p=i,U.T=a}}st=3}}function cf(){if(st===4||st===3){st=0,St();var e=Pa,t=mi,a=Ua,i=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,mi=Pa=null,df(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Wa=null),yl(a),t=t.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(aa,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=U.T,o=Y.p,Y.p=2,U.T=null;try{for(var u=e.onRecoverableError,h=0;h<i.length;h++){var v=i[h];u(v.value,{componentStack:v.stack})}}finally{U.T=t,Y.p=o}}(Ua&3)!==0&&Bs(),pa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Fo?pr++:(pr=0,Fo=e):pr=0,vr(0)}}function df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wi(t)))}function Bs(){return of(),uf(),cf(),hf()}function hf(){if(st!==5)return!1;var e=Pa,t=Wo;Wo=0;var a=yl(Ua),i=U.T,o=Y.p;try{Y.p=32>a?32:a,U.T=null,a=Po,Po=null;var u=Pa,h=Ua;if(st=0,mi=Pa=null,Ua=0,(Ne&6)!==0)throw Error(l(331));var v=Ne;if(Ne|=4,Xh(u.current),Gh(u,u.current,h,a),Ne=v,vr(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(aa,u)}catch{}return!0}finally{Y.p=o,U.T=i,df(e,t)}}function ff(e,t,a){t=Zt(a,t),t=Co(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(Li(e,2),pa(e))}function Ue(e,t,a){if(e.tag===3)ff(e,e,a);else for(;t!==null;){if(t.tag===3){ff(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wa===null||!Wa.has(i))){e=Zt(a,e),a=fh(2),i=Ka(t,a,2),i!==null&&(mh(a,i,t,e),Li(i,2),pa(i));break}}t=t.return}}function au(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Eg;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(Jo=!0,o.add(a),e=Ng.bind(null,e,t,a),t.then(e,e))}function Ng(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(ye&a)===a&&(Je===4||Je===3&&(ye&62914560)===ye&&300>ut()-Rs?(Ne&2)===0&&gi(e,0):Zo|=a,fi===ye&&(fi=0)),pa(e)}function mf(e,t){t===0&&(t=lc()),e=vn(e,t),e!==null&&(Li(e,t),pa(e))}function kg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mf(e,a)}function Cg(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),mf(e,a)}function Rg(e,t){return me(e,t)}var qs=null,vi=null,nu=!1,Hs=!1,iu=!1,en=0;function pa(e){e!==vi&&e.next===null&&(vi===null?qs=vi=e:vi=vi.next=e),Hs=!0,nu||(nu=!0,zg())}function vr(e,t){if(!iu&&Hs){iu=!0;do for(var a=!1,i=qs;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var h=i.suspendedLanes,v=i.pingedLanes;u=(1<<31-Fe(42|e)+1)-1,u&=o&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,yf(i,u))}else u=ye,u=Yr(i,i===Be?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Mi(i,u)||(a=!0,yf(i,u));i=i.next}while(a);iu=!1}}function Ug(){gf()}function gf(){Hs=nu=!1;var e=0;en!==0&&Yg()&&(e=en);for(var t=ut(),a=null,i=qs;i!==null;){var o=i.next,u=pf(i,t);u===0?(i.next=null,a===null?qs=o:a.next=o,o===null&&(vi=a)):(a=i,(e!==0||(u&3)!==0)&&(Hs=!0)),i=o}st!==0&&st!==5||vr(e),en!==0&&(en=0)}function pf(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Fe(u),v=1<<h,b=o[h];b===-1?((v&a)===0||(v&i)!==0)&&(o[h]=sm(v,t)):b<=t&&(e.expiredLanes|=v),u&=~v}if(t=Be,a=ye,a=Yr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Se(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Se(i),yl(a)){case 2:case 8:a=ca;break;case 32:a=da;break;case 268435456:a=ke;break;default:a=da}return i=vf.bind(null,e),a=me(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Se(i),e.callbackPriority=2,e.callbackNode=null,2}function vf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bs()&&e.callbackNode!==a)return null;var i=ye;return i=Yr(e,e===Be?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Wh(e,i,t),pf(e,ut()),e.callbackNode!=null&&e.callbackNode===a?vf.bind(null,e):null)}function yf(e,t){if(Bs())return null;Wh(e,t,!0)}function zg(){Xg(function(){(Ne&6)!==0?me(Hr,Ug):gf()})}function ru(){if(en===0){var e=ai;e===0&&(e=ft,ft<<=1,(ft&261888)===0&&(ft=256)),en=e}return en}function bf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function _f(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dg(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=bf((o[jt]||null).action),h=i.submitter;h&&(t=(t=h[jt]||null)?bf(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Pr("action","action",null,i,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(en!==0){var b=h?_f(o,h):new FormData(o);To(a,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(v.preventDefault(),b=h?_f(o,h):new FormData(o),To(a,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var su=0;su<$l.length;su++){var lu=$l[su],Mg=lu.toLowerCase(),Lg=lu[0].toUpperCase()+lu.slice(1);na(Mg,"on"+Lg)}na(Ic,"onAnimationEnd"),na(Wc,"onAnimationIteration"),na(Pc,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(Fm,"onTransitionRun"),na(eg,"onTransitionStart"),na(tg,"onTransitionCancel"),na(Fc,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var h=i.length-1;0<=h;h--){var v=i[h],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=A;try{u(o)}catch(R){ts(R)}o.currentTarget=null,u=b}else for(h=0;h<i.length;h++){if(v=i[h],b=v.instance,A=v.currentTarget,v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=A;try{u(o)}catch(R){ts(R)}o.currentTarget=null,u=b}}}}function pe(e,t){var a=t[bl];a===void 0&&(a=t[bl]=new Set);var i=e+"__bubble";a.has(i)||(xf(t,e,2,!1),a.add(i))}function ou(e,t,a){var i=0;t&&(i|=4),xf(a,e,i,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function uu(e){if(!e[$s]){e[$s]=!0,mc.forEach(function(a){a!=="selectionchange"&&(Bg.has(a)||ou(a,!1,e),ou(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,ou("selectionchange",!1,t))}}function xf(e,t,a,i){switch(Wf(t)){case 2:var o=hp;break;case 8:o=fp;break;default:o=Eu}a=o.bind(null,t,a,e),o=void 0,!Ol||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function cu(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var v=i.stateNode.containerInfo;if(v===o)break;if(h===4)for(h=i.return;h!==null;){var b=h.tag;if((b===3||b===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;v!==null;){if(h=qn(v),h===null)return;if(b=h.tag,b===5||b===6||b===26||b===27){i=u=h;continue e}v=v.parentNode}}i=i.return}jc(function(){var A=u,R=jl(a),M=[];e:{var O=ed.get(e);if(O!==void 0){var k=Pr,J=e;switch(e){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":k=Cm;break;case"focusin":J="focus",k=Rl;break;case"focusout":J="blur",k=Rl;break;case"beforeblur":case"afterblur":k=Rl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=zm;break;case Ic:case Wc:case Pc:k=xm;break;case Fc:k=Mm;break;case"scroll":case"scrollend":k=vm;break;case"wheel":k=Bm;break;case"copy":case"cut":case"paste":k=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Cc;break;case"toggle":case"beforetoggle":k=Hm}var F=(t&4)!==0,Me=!F&&(e==="scroll"||e==="scrollend"),E=F?O!==null?O+"Capture":null:O;F=[];for(var _=A,j;_!==null;){var D=_;if(j=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||j===null||E===null||(D=Hi(_,E),D!=null&&F.push(br(_,D,j))),Me)break;_=_.return}0<F.length&&(O=new k(O,J,null,a,R),M.push({event:O,listeners:F}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",O&&a!==Tl&&(J=a.relatedTarget||a.fromElement)&&(qn(J)||J[Bn]))break e;if((k||O)&&(O=R.window===R?R:(O=R.ownerDocument)?O.defaultView||O.parentWindow:window,k?(J=a.relatedTarget||a.toElement,k=A,J=J?qn(J):null,J!==null&&(Me=d(J),F=J.tag,J!==Me||F!==5&&F!==27&&F!==6)&&(J=null)):(k=null,J=A),k!==J)){if(F=Nc,D="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(F=Cc,D="onPointerLeave",E="onPointerEnter",_="pointer"),Me=k==null?O:qi(k),j=J==null?O:qi(J),O=new F(D,_+"leave",k,a,R),O.target=Me,O.relatedTarget=j,D=null,qn(R)===A&&(F=new F(E,_+"enter",J,a,R),F.target=j,F.relatedTarget=Me,D=F),Me=D,k&&J)t:{for(F=qg,E=k,_=J,j=0,D=E;D;D=F(D))j++;D=0;for(var P=_;P;P=F(P))D++;for(;0<j-D;)E=F(E),j--;for(;0<D-j;)_=F(_),D--;for(;j--;){if(E===_||_!==null&&E===_.alternate){F=E;break t}E=F(E),_=F(_)}F=null}else F=null;k!==null&&Sf(M,O,k,F,!1),J!==null&&Me!==null&&Sf(M,Me,J,F,!0)}}e:{if(O=A?qi(A):window,k=O.nodeName&&O.nodeName.toLowerCase(),k==="select"||k==="input"&&O.type==="file")var Ae=qc;else if(Lc(O))if(Hc)Ae=Im;else{Ae=Jm;var I=Qm}else k=O.nodeName,!k||k.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?A&&El(A.elementType)&&(Ae=qc):Ae=Zm;if(Ae&&(Ae=Ae(e,A))){Bc(M,Ae,a,R);break e}I&&I(e,O,A),e==="focusout"&&A&&O.type==="number"&&A.memoizedProps.value!=null&&Sl(O,"number",O.value)}switch(I=A?qi(A):window,e){case"focusin":(Lc(I)||I.contentEditable==="true")&&(Jn=I,Bl=A,Ji=null);break;case"focusout":Ji=Bl=Jn=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Jc(M,a,R);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":Jc(M,a,R)}var ce;if(zl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Qn?Dc(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Rc&&a.locale!=="ko"&&(Qn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Qn&&(ce=Ac()):(Ba=R,Nl="value"in Ba?Ba.value:Ba.textContent,Qn=!0)),I=Vs(A,be),0<I.length&&(be=new kc(be,e,null,a,R),M.push({event:be,listeners:I}),ce?be.data=ce:(ce=Mc(a),ce!==null&&(be.data=ce)))),(ce=Vm?Gm(e,a):Ym(e,a))&&(be=Vs(A,"onBeforeInput"),0<be.length&&(I=new kc("onBeforeInput","beforeinput",null,a,R),M.push({event:I,listeners:be}),I.data=ce)),Dg(M,e,A,a,R)}wf(M,t)})}function br(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vs(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Hi(e,a),o!=null&&i.unshift(br(e,o,u)),o=Hi(e,t),o!=null&&i.push(br(e,o,u))),e.tag===3)return i;e=e.return}return[]}function qg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sf(e,t,a,i,o){for(var u=t._reactName,h=[];a!==null&&a!==i;){var v=a,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===i)break;v!==5&&v!==26&&v!==27||A===null||(b=A,o?(A=Hi(a,u),A!=null&&h.unshift(br(a,A,b))):o||(A=Hi(a,u),A!=null&&h.push(br(a,A,b)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Hg=/\r\n?/g,$g=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace($g,"")}function Tf(e,t){return t=Ef(t),Ef(e)===t}function De(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Yn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Yn(e,""+i);break;case"className":Xr(e,"class",i);break;case"tabIndex":Xr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,a,i);break;case"style":Ec(e,i,u);break;case"data":if(t!=="object"){Xr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Jr(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Jr(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ya);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Jr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Kr(e,"popover",i);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Kr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gm.get(a)||a,Kr(e,a,i))}}function du(e,t,a,i,o,u){switch(a){case"style":Ec(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Yn(e,i):(typeof i=="number"||typeof i=="bigint")&&Yn(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[jt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Kr(e,a,i)}}}function yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var h=a[u];if(h!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,u,h,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),i&&De(e,t,"src",a.src,a,null);return;case"input":pe("invalid",e);var v=u=h=o=null,b=null,A=null;for(i in a)if(a.hasOwnProperty(i)){var R=a[i];if(R!=null)switch(i){case"name":o=R;break;case"type":h=R;break;case"checked":b=R;break;case"defaultChecked":A=R;break;case"value":u=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:De(e,t,i,R,a,null)}}_c(e,u,v,b,A,h,o,!1);return;case"select":pe("invalid",e),i=h=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":i=v;default:De(e,t,o,v,a,null)}t=u,a=h,e.multiple=!!i,t!=null?Gn(e,!!i,t,!1):a!=null&&Gn(e,!!i,a,!0);return;case"textarea":pe("invalid",e),u=o=i=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":i=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:De(e,t,h,v,a,null)}xc(e,i,o,u);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(i=a[b],i!=null))switch(b){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:De(e,t,b,i,a,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<yr.length;i++)pe(yr[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(i=a[A],i!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,A,i,a,null)}return;default:if(El(t)){for(R in a)a.hasOwnProperty(R)&&(i=a[R],i!==void 0&&du(e,t,R,i,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(i=a[v],i!=null&&De(e,t,v,i,a,null))}function Vg(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,v=null,b=null,A=null,R=null;for(k in a){var M=a[k];if(a.hasOwnProperty(k)&&M!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=M;default:i.hasOwnProperty(k)||De(e,t,k,null,i,M)}}for(var O in i){var k=i[O];if(M=a[O],i.hasOwnProperty(O)&&(k!=null||M!=null))switch(O){case"type":u=k;break;case"name":o=k;break;case"checked":A=k;break;case"defaultChecked":R=k;break;case"value":h=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:k!==M&&De(e,t,O,k,i,M)}}xl(e,h,v,b,A,R,u,o);return;case"select":k=h=v=O=null;for(u in a)if(b=a[u],a.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":k=b;default:i.hasOwnProperty(u)||De(e,t,u,null,i,b)}for(o in i)if(u=i[o],b=a[o],i.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":O=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==b&&De(e,t,o,u,i,b)}t=v,a=h,i=k,O!=null?Gn(e,!!a,O,!1):!!i!=!!a&&(t!=null?Gn(e,!!a,t,!0):Gn(e,!!a,a?[]:"",!1));return;case"textarea":k=O=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:De(e,t,v,null,i,o)}for(h in i)if(o=i[h],u=a[h],i.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":O=o;break;case"defaultValue":k=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&De(e,t,h,o,i,u)}wc(e,O,k);return;case"option":for(var J in a)if(O=a[J],a.hasOwnProperty(J)&&O!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:De(e,t,J,null,i,O)}for(b in i)if(O=i[b],k=a[b],i.hasOwnProperty(b)&&O!==k&&(O!=null||k!=null))switch(b){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:De(e,t,b,O,i,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in a)O=a[F],a.hasOwnProperty(F)&&O!=null&&!i.hasOwnProperty(F)&&De(e,t,F,null,i,O);for(A in i)if(O=i[A],k=a[A],i.hasOwnProperty(A)&&O!==k&&(O!=null||k!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,t));break;default:De(e,t,A,O,i,k)}return;default:if(El(t)){for(var Me in a)O=a[Me],a.hasOwnProperty(Me)&&O!==void 0&&!i.hasOwnProperty(Me)&&du(e,t,Me,void 0,i,O);for(R in i)O=i[R],k=a[R],!i.hasOwnProperty(R)||O===k||O===void 0&&k===void 0||du(e,t,R,O,i,k);return}}for(var E in a)O=a[E],a.hasOwnProperty(E)&&O!=null&&!i.hasOwnProperty(E)&&De(e,t,E,null,i,O);for(M in i)O=i[M],k=a[M],!i.hasOwnProperty(M)||O===k||O==null&&k==null||De(e,t,M,O,i,k)}function jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,h=o.initiatorType,v=o.duration;if(u&&v&&jf(h)){for(h=0,v=o.responseEnd,i+=1;i<a.length;i++){var b=a[i],A=b.startTime;if(A>v)break;var R=b.transferSize,M=b.initiatorType;R&&jf(M)&&(b=b.responseEnd,h+=R*(b<v?1:(v-A)/(b-A)))}if(--i,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,fu=null;function Gs(e){return e.nodeType===9?e:e.ownerDocument}function Af(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function Yg(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var Nf=typeof setTimeout=="function"?setTimeout:void 0,Kg=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Xg=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(Qg)}:Nf;function Qg(e){setTimeout(function(){throw e})}function tn(e){return e==="head"}function Cf(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),wi(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")_r(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,_r(a);for(var u=a.firstChild;u;){var h=u.nextSibling,v=u.nodeName;u[Bi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=h}}else a==="body"&&_r(e.ownerDocument.body);a=o}while(a);wi(t)}function Rf(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pu(a),_l(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Jg(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Bi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function Zg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ea(e.nextSibling),e===null))return null;return e}function Uf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function vu(e){return e.data==="$?"||e.data==="$~"}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ig(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bu=null;function zf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ea(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Mf(e,t,a){switch(t=Gs(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function _r(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_l(e)}var ta=new Map,Lf=new Set;function Ys(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=Y.d;Y.d={f:Wg,r:Pg,D:Fg,C:ep,L:tp,m:ap,X:ip,S:np,M:rp};function Wg(){var e=za.f(),t=Ds();return e||t}function Pg(e){var t=Hn(e);t!==null&&t.tag===5&&t.type==="form"?Fd(t):za.r(e)}var yi=typeof document>"u"?null:document;function Bf(e,t,a){var i=yi;if(i&&typeof t=="string"&&t){var o=Qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Lf.has(o)||(Lf.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),yt(t,"link",e),ct(t),i.head.appendChild(t)))}}function Fg(e){za.D(e),Bf("dns-prefetch",e,null)}function ep(e,t){za.C(e,t),Bf("preconnect",e,t)}function tp(e,t,a){za.L(e,t,a);var i=yi;if(i&&e&&t){var o='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Qt(a.imageSizes)+'"]')):o+='[href="'+Qt(e)+'"]';var u=o;switch(t){case"style":u=bi(e);break;case"script":u=_i(e)}ta.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ta.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(wr(u))||t==="script"&&i.querySelector(xr(u))||(t=i.createElement("link"),yt(t,"link",e),ct(t),i.head.appendChild(t)))}}function ap(e,t){za.m(e,t);var a=yi;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Qt(i)+'"][href="'+Qt(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=_i(e)}if(!ta.has(u)&&(e=S({rel:"modulepreload",href:e},t),ta.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xr(u)))return}i=a.createElement("link"),yt(i,"link",e),ct(i),a.head.appendChild(i)}}}function np(e,t,a){za.S(e,t,a);var i=yi;if(i&&e){var o=$n(i).hoistableStyles,u=bi(e);t=t||"default";var h=o.get(u);if(!h){var v={loading:0,preload:null};if(h=i.querySelector(wr(u)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ta.get(u))&&_u(e,a);var b=h=i.createElement("link");ct(b),yt(b,"link",e),b._p=new Promise(function(A,R){b.onload=A,b.onerror=R}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ks(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:v},o.set(u,h)}}}function ip(e,t){za.X(e,t);var a=yi;if(a&&e){var i=$n(a).hoistableScripts,o=_i(e),u=i.get(o);u||(u=a.querySelector(xr(o)),u||(e=S({src:e,async:!0},t),(t=ta.get(o))&&wu(e,t),u=a.createElement("script"),ct(u),yt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function rp(e,t){za.M(e,t);var a=yi;if(a&&e){var i=$n(a).hoistableScripts,o=_i(e),u=i.get(o);u||(u=a.querySelector(xr(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=ta.get(o))&&wu(e,t),u=a.createElement("script"),ct(u),yt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function qf(e,t,a,i){var o=(o=de.current)?Ys(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=bi(a.href),a=$n(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=bi(a.href);var u=$n(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(wr(e)))&&!u._p&&(h.instance=u,h.state.loading=5),ta.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ta.set(e,a),u||sp(o,e,a,h.state))),t&&i===null)throw Error(l(528,""));return h}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_i(a),a=$n(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function bi(e){return'href="'+Qt(e)+'"'}function wr(e){return'link[rel="stylesheet"]['+e+"]"}function Hf(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function sp(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),yt(t,"link",a),ct(t),e.head.appendChild(t))}function _i(e){return'[src="'+Qt(e)+'"]'}function xr(e){return"script[async]"+e}function $f(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(i)return t.instance=i,ct(i),i;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ct(i),yt(i,"style",o),Ks(i,a.precedence,e),t.instance=i;case"stylesheet":o=bi(a.href);var u=e.querySelector(wr(o));if(u)return t.state.loading|=4,t.instance=u,ct(u),u;i=Hf(a),(o=ta.get(o))&&_u(i,o),u=(e.ownerDocument||e).createElement("link"),ct(u);var h=u;return h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),yt(u,"link",i),t.state.loading|=4,Ks(u,a.precedence,e),t.instance=u;case"script":return u=_i(a.src),(o=e.querySelector(xr(u)))?(t.instance=o,ct(o),o):(i=a,(o=ta.get(u))&&(i=S({},a),wu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),ct(o),yt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ks(i,a.precedence,e));return t.instance}function Ks(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,h=0;h<i.length;h++){var v=i[h];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xs=null;function Vf(e,t,a){if(Xs===null){var i=new Map,o=Xs=new Map;o.set(a,i)}else o=Xs,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Bi]||u[mt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=i.get(h);v?v.push(u):i.set(h,[u])}}return i}function Gf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function lp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function op(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=bi(i.href),u=t.querySelector(wr(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ct(u);return}u=t.ownerDocument||t,i=Hf(i),(o=ta.get(o))&&_u(i,o),u=u.createElement("link"),ct(u);var h=u;h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),yt(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Qs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var xu=0;function up(e,t){return e.stylesheets&&e.count===0&&Zs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&xu===0&&(xu=62500*Gg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>xu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function Zs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,t.forEach(cp,e),Js=null,Qs.call(e))}function cp(e,t){if(!(t.state.loading&4)){var a=Js.get(e);if(a)var i=a.get(null);else{a=new Map,Js.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),i=h)}i&&a.set(null,i)}o=t.instance,h=o.getAttribute("data-precedence"),u=a.get(h)||i,u===i&&a.set(null,o),a.set(h,o),this.count++,i=Qs.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Sr={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function dp(e,t,a,i,o,u,h,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.hiddenUpdates=pl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Kf(e,t,a,i,o,u,h,v,b,A,R,M){return e=new dp(e,t,a,h,b,A,R,M,v),t=1,u===!0&&(t|=24),u=Dt(3,null,null,t),e.current=u,u.stateNode=e,t=eo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},io(u),e}function Xf(e){return e?(e=Wn,e):Wn}function Qf(e,t,a,i,o,u){o=Xf(o),i.context===null?i.context=o:i.pendingContext=o,i=Ya(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Ka(e,i,t),a!==null&&(Rt(a,e,t),tr(a,e,t))}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Su(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function Zf(e){if(e.tag===13||e.tag===31){var t=vn(e,67108864);t!==null&&Rt(t,e,67108864),Su(e,67108864)}}function If(e){if(e.tag===13||e.tag===31){var t=Ht();t=vl(t);var a=vn(e,t);a!==null&&Rt(a,e,t),Su(e,t)}}var Is=!0;function hp(e,t,a,i){var o=U.T;U.T=null;var u=Y.p;try{Y.p=2,Eu(e,t,a,i)}finally{Y.p=u,U.T=o}}function fp(e,t,a,i){var o=U.T;U.T=null;var u=Y.p;try{Y.p=8,Eu(e,t,a,i)}finally{Y.p=u,U.T=o}}function Eu(e,t,a,i){if(Is){var o=Tu(i);if(o===null)cu(e,t,i,Ws,a),Pf(e,i);else if(gp(o,e,t,a,i))i.stopPropagation();else if(Pf(e,i),t&4&&-1<mp.indexOf(e)){for(;o!==null;){var u=Hn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=hn(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var b=1<<31-Fe(h);v.entanglements[1]|=b,h&=~b}pa(u),(Ne&6)===0&&(Us=ut()+500,vr(0))}}break;case 31:case 13:v=vn(u,2),v!==null&&Rt(v,u,2),Ds(),Su(u,2)}if(u=Tu(i),u===null&&cu(e,t,i,Ws,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else cu(e,t,i,null,a)}}function Tu(e){return e=jl(e),ju(e)}var Ws=null;function ju(e){if(Ws=null,e=qn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ws=e,null}function Wf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Di()){case Hr:return 2;case ca:return 8;case da:case ne:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Au=!1,an=null,nn=null,rn=null,Er=new Map,Tr=new Map,sn=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pf(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function jr(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Hn(t),t!==null&&Zf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gp(e,t,a,i,o){switch(t){case"focusin":return an=jr(an,e,t,a,i,o),!0;case"dragenter":return nn=jr(nn,e,t,a,i,o),!0;case"mouseover":return rn=jr(rn,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return Er.set(u,jr(Er.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Tr.set(u,jr(Tr.get(u)||null,e,t,a,i,o)),!0}return!1}function Ff(e){var t=qn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,hc(e.priority,function(){If(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,hc(e.priority,function(){If(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Tu(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Tl=i,a.target.dispatchEvent(i),Tl=null}else return t=Hn(a),t!==null&&Zf(t),e.blockedOn=a,!1;t.shift()}return!0}function e0(e,t,a){Ps(e)&&a.delete(t)}function pp(){Au=!1,an!==null&&Ps(an)&&(an=null),nn!==null&&Ps(nn)&&(nn=null),rn!==null&&Ps(rn)&&(rn=null),Er.forEach(e0),Tr.forEach(e0)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Au||(Au=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pp)))}var el=null;function t0(e){el!==e&&(el=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(ju(i||a)===null)continue;break}var u=Hn(a);u!==null&&(e.splice(t,3),t-=3,To(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function wi(e){function t(b){return Fs(b,e)}an!==null&&Fs(an,e),nn!==null&&Fs(nn,e),rn!==null&&Fs(rn,e),Er.forEach(t),Tr.forEach(t);for(var a=0;a<sn.length;a++){var i=sn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<sn.length&&(a=sn[0],a.blockedOn===null);)Ff(a),a.blockedOn===null&&sn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],h=o[jt]||null;if(typeof u=="function")h||t0(a);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[jt]||null)v=h.formAction;else if(ju(o)!==null)continue}else v=h.action;typeof v=="function"?a[i+1]=v:(a.splice(i,3),i-=3),t0(a)}}}function a0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ou(e){this._internalRoot=e}tl.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Ht();Qf(a,i,e,t,null,null)},tl.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qf(e.current,2,null,e,null,null),Ds(),t[Bn]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=dc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<sn.length&&t!==0&&t<sn[a].priority;a++);sn.splice(a,0,e),a===0&&Ff(e)}};var n0=n.version;if(n0!=="19.2.3")throw Error(l(527,n0,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var vp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{aa=al.inject(vp),ie=al}catch{}}return Or.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,i="",o=uh,u=ch,h=dh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Kf(e,1,!1,null,null,a,i,null,o,u,h,a0),e[Bn]=t.current,uu(e),new Ou(t)},Or.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var i=!1,o="",u=uh,h=ch,v=dh,b=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Kf(e,1,!0,t,a??null,i,o,b,u,h,v,a0),t.context=Xf(null),a=t.current,i=Ht(),i=vl(i),o=Ya(i),o.callback=null,Ka(a,o,i),a=i,t.current.lanes=a,Li(t,a),pa(t),e[Bn]=t.current,uu(e),new tl(t)},Or.version="19.2.3",Or}var f0;function Ap(){if(f0)return Cu.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Cu.exports=jp(),Cu.exports}var Op=Ap();const Np=H0(Op),kp=[{id:"p1",userId:"twc_official",username:"barista_pro",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&h=200&auto=format&fit=crop",content:"Just perfected the art of the perfect pour-over. The notes of blueberry and dark chocolate in this Ethiopian Yirgacheffe are absolutely stunning!  #ThirdWaveCoffee #Wavegram",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=800&h=500&auto=format&fit=crop",likes:85,shares:12,createdAt:"45m",comments:[{id:"c1",userId:"u3",username:"coffee_lover_99",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&h=200&auto=format&fit=crop",content:"Drop the recipe and grind size please!",createdAt:"30m",likes:5}]},{id:"p2",userId:"u4",username:"morning_ritual",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&h=200&auto=format&fit=crop",content:"Nothing beats a fresh batch of cold brew on a sunny morning. Steeping for 18 hours makes all the difference. Who else is a fan of long steeps? ",likes:156,shares:24,createdAt:"3h",comments:[]},{id:"p3",userId:"u5",username:"barista_hq",avatar:"https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=200&h=200&auto=format&fit=crop",content:"Our new seasonal beans are finally here! Direct from a small farm in Costa Rica. Expect honey-like sweetness and a silky body. ",image:"https://images.unsplash.com/photo-1442154421459-335190013233?q=80&w=800&h=500&auto=format&fit=crop",likes:210,shares:45,createdAt:"5h",comments:[]}],Vt={Home:({active:r})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:r?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Search:({active:r})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:r?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Post:()=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Heart:({active:r})=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:r?"#ed4956":"none",stroke:r?"#ed4956":"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Comment:()=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Share:()=>m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),More:()=>m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Verified:()=>m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#1d9bf0",stroke:"white",strokeWidth:"1",children:[m.jsx("path",{d:"M12 2L15.09 5.26L19.47 4.53L20.2 8.91L23.46 12L20.2 15.09L19.47 19.47L15.09 20.2L12 23.46L8.91 20.2L4.53 19.47L3.8 15.09L0.54 12L3.8 8.91L4.53 4.53L8.91 5.26L12 2Z"}),m.jsx("path",{d:"M9 12L11 14L15 10",stroke:"white",strokeWidth:"2",fill:"none"})]})};var ve=(r=>(r.HOME="home",r.SEARCH="search",r.POST="post",r.ACTIVITY="activity",r.PROFILE="profile",r))(ve||{});const Cp=""+new URL("logo-evTblqn5.png",import.meta.url).href,Rp=({children:r,activeTab:n,setActiveTab:s,onLogout:l,unreadCount:c=0})=>m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] text-[#efebe9] flex flex-col md:flex-row justify-center",children:[m.jsxs("nav",{className:"hidden md:flex flex-col items-center py-6 w-20 fixed left-0 top-0 bottom-0 bg-[#0e0d0c] z-20 border-r border-[#2c1a12] pt-safe",children:[m.jsx("div",{className:"mb-10 cursor-pointer group px-4 mt-4",onClick:()=>s(ve.HOME),children:m.jsx("img",{src:Cp,alt:"Wavegram",className:"w-full h-auto object-contain group-hover:scale-110 transition-transform duration-300"})}),m.jsxs("div",{className:"flex flex-col gap-8 flex-1",children:[m.jsx("button",{onClick:()=>s(ve.HOME),className:`${n===ve.HOME?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Vt.Home,{active:n===ve.HOME})}),m.jsx("button",{onClick:()=>s(ve.SEARCH),className:`${n===ve.SEARCH?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Vt.Search,{active:n===ve.SEARCH})}),m.jsx("button",{onClick:()=>s(ve.POST),className:`${n===ve.POST?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Vt.Post,{})}),m.jsxs("button",{onClick:()=>s(ve.ACTIVITY),className:`${n===ve.ACTIVITY?"text-white":"text-neutral-500"} hover:text-white transition-colors relative`,children:[m.jsx(Vt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>s(ve.PROFILE),className:`${n===ve.PROFILE?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),m.jsx("button",{onClick:l,className:"mt-auto mb-6 p-3 text-neutral-500 hover:text-red-400 transition-colors transform hover:scale-110",title:"Sign Out",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),m.jsx("main",{className:"w-full max-w-[640px] border-x border-[#2c1a12] pb-20 md:pb-0 min-h-screen bg-[#0e0d0c]",children:r}),m.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#0e0d0c]/95 backdrop-blur-md border-t border-[#2c1a12] h-16 flex justify-around items-center z-20 px-4",children:[m.jsx("button",{onClick:()=>s(ve.HOME),className:`${n===ve.HOME?"text-white":"text-neutral-500"}`,children:m.jsx(Vt.Home,{active:n===ve.HOME})}),m.jsx("button",{onClick:()=>s(ve.SEARCH),className:`${n===ve.SEARCH?"text-white":"text-neutral-500"}`,children:m.jsx(Vt.Search,{active:n===ve.SEARCH})}),m.jsx("button",{onClick:()=>s(ve.POST),className:`${n===ve.POST?"text-white":"text-neutral-500"}`,children:m.jsx(Vt.Post,{})}),m.jsxs("button",{onClick:()=>s(ve.ACTIVITY),className:`${n===ve.ACTIVITY?"text-white":"text-neutral-500"} relative`,children:[m.jsx(Vt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>s(ve.PROFILE),className:`${n===ve.PROFILE?"text-white":"text-neutral-500"}`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-red-400",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),m0=({post:r,isOwner:n,onLike:s,onComment:l,onShare:c,onEdit:d,onDelete:f})=>{const[p,g]=Ve.useState(!1),[y,x]=Ve.useState(!1);return m.jsx("div",{className:"border-b border-[#2c1a12] p-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("img",{src:r.avatar,alt:r.username,className:"w-12 h-12 rounded-full object-cover border-2 border-[#c29a67]/20 shadow-lg"}),r.comments.length>0&&m.jsx("div",{className:"w-[2px] grow bg-[#2c1a12] rounded-full my-1"}),r.comments.length>0&&m.jsx("div",{className:"flex -space-x-4 mt-1",children:r.comments.slice(0,2).map((S,T)=>m.jsx("img",{src:S.avatar,className:"w-5 h-5 rounded-full border-2 border-[#0e0d0c]"},T))})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-[16px] text-[#efebe9] hover:text-[#c29a67] transition-colors cursor-pointer tracking-tight",children:r.username}),m.jsx(Vt.Verified,{}),m.jsx("span",{className:"text-[#a09a96] text-xs font-medium uppercase tracking-wider ml-1",children:r.createdAt})]}),n&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>x(!y),className:"text-[#a09a96] hover:text-[#c29a67] transition-colors p-1",children:m.jsx(Vt.More,{})}),y&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>x(!1)}),m.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#1a1817] border border-[#2c1a12] rounded-2xl shadow-2xl overflow-hidden z-40 backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200",children:[m.jsxs("button",{onClick:()=>{x(!1),d==null||d(r)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#efebe9] hover:bg-[#c29a67]/10 hover:text-[#c29a67] transition-colors flex items-center gap-3",children:[m.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit Brew"]}),m.jsxs("button",{onClick:S=>{S.stopPropagation(),x(!1),f==null||f(r.id)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#ff4b4b] hover:bg-[#ff4b4b]/10 transition-colors flex items-center gap-3 border-t border-[#2c1a12]",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Brew"]})]})]})]})]}),m.jsx("p",{className:"text-[15px] leading-relaxed mb-3 whitespace-pre-wrap",children:r.content}),r.image&&m.jsx("div",{className:"rounded-xl overflow-hidden border border-[#2c1a12] mb-4 bg-[#0e0d0c]",children:m.jsx("img",{src:r.image,alt:"post content",className:"w-full object-contain max-h-[500px]"})}),m.jsxs("div",{className:"flex items-center gap-5 text-neutral-400 mt-1",children:[m.jsx("button",{onClick:()=>s(r.id),className:`flex items-center gap-1.5 transition-transform active:scale-90 ${r.isLiked?"text-[#ed4956]":"hover:text-white"}`,children:m.jsx(Vt.Heart,{active:r.isLiked})}),m.jsx("button",{onClick:()=>l(r),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Vt.Comment,{})}),m.jsx("button",{onClick:()=>c(r),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Vt.Share,{})})]}),m.jsxs("div",{className:"mt-3 text-[14px] text-neutral-500 flex items-center gap-2",children:[r.likes>0&&m.jsxs("span",{children:[r.likes," likes"]}),r.likes>0&&r.comments.length>0&&m.jsx("span",{children:""}),r.comments.length>0&&m.jsxs("button",{onClick:()=>g(!p),className:"hover:text-[#c29a67] transition-colors flex items-center gap-1 font-medium",children:[r.comments.length," ",r.comments.length===1?"reply":"replies",m.jsx("svg",{className:`w-3 h-3 transition-transform duration-300 ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})]})]}),r.comments.length>0&&p&&m.jsx("div",{className:"mt-6 space-y-4 border-l-2 border-[#2c1a12] ml-2 pl-6 animate-in slide-in-from-top-4 duration-300",children:r.comments.map(S=>m.jsxs("div",{className:"bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12]/50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("img",{src:S.avatar,className:"w-6 h-6 rounded-full"}),m.jsxs("span",{className:"font-bold text-xs text-[#efebe9]",children:["@",S.username]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider",children:S.createdAt})]}),m.jsx("p",{className:"text-sm text-[#efebe9]/90 leading-relaxed",children:S.content})]},S.id))})]})]})})};function dl(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(s[l[c]]=r[l[c]]);return s}function Up(r,n,s,l){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(x){try{y(l.next(x))}catch(S){f(S)}}function g(x){try{y(l.throw(x))}catch(S){f(S)}}function y(x){x.done?d(x.value):c(x.value).then(p,g)}y((l=l.apply(r,n||[])).next())})}const zp=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class ac extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class Dp extends ac{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class g0 extends ac{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class p0 extends ac{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Yu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Yu||(Yu={}));class Mp{constructor(n,{headers:s={},customFetch:l,region:c=Yu.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=zp(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Up(this,arguments,void 0,function*(s,l={}){var c;let d,f;try{const{headers:p,method:g,body:y,signal:x,timeout:S}=l;let T={},{region:C}=l;C||(C=this.region);const N=new URL(`${this.url}/${s}`);C&&C!=="any"&&(T["x-region"]=C,N.searchParams.set("forceFunctionRegion",C));let z;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",z=y):typeof y=="string"?(T["Content-Type"]="text/plain",z=y):typeof FormData<"u"&&y instanceof FormData?z=y:(T["Content-Type"]="application/json",z=JSON.stringify(y)):z=y;let q=x;S&&(f=new AbortController,d=setTimeout(()=>f.abort(),S),x?(q=f.signal,x.addEventListener("abort",()=>f.abort())):q=f.signal);const H=yield this.fetch(N.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),p),body:z,signal:q}).catch(ue=>{throw new Dp(ue)}),G=H.headers.get("x-relay-error");if(G&&G==="true")throw new g0(H);if(!H.ok)throw new p0(H);let B=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return B==="application/json"?X=yield H.json():B==="application/octet-stream"||B==="application/pdf"?X=yield H.blob():B==="text/event-stream"?X=H:B==="multipart/form-data"?X=yield H.formData():X=yield H.text(),{data:X,error:null,response:H}}catch(p){return{data:null,error:p,response:p instanceof p0||p instanceof g0?p.context:void 0}}finally{d&&clearTimeout(d)}})}}var Lp=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Bp=class{constructor(r){var n,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,p=null,g=null,y=d.status,x=d.statusText;if(d.ok){var S,T;if(s.method!=="HEAD"){var C;const H=await d.text();H===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((C=s.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?p=H:p=JSON.parse(H))}const z=(S=s.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),q=(T=d.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");z&&q&&q.length>1&&(g=parseInt(q[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var N;const z=await d.text();try{f=JSON.parse(z),Array.isArray(f)&&d.status===404&&(p=[],f=null,y=200,x="OK")}catch{d.status===404&&z===""?(y=204,x="No Content"):f={message:z}}if(f&&s.isMaybeSingle&&(!(f==null||(N=f.details)===null||N===void 0)&&N.includes("0 rows"))&&(f=null,y=200,x="OK"),f&&s.shouldThrowOnError)throw new Lp(f)}return{error:f,data:p,count:g,status:y,statusText:x}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let p="";const g=d==null?void 0:d.cause;if(g){var y,x,S,T;const N=(y=g==null?void 0:g.message)!==null&&y!==void 0?y:"",z=(x=g==null?void 0:g.code)!==null&&x!==void 0?x:"";p=`${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"FetchError"}: ${d==null?void 0:d.message}`,p+=`

Caused by: ${(T=g==null?void 0:g.name)!==null&&T!==void 0?T:"Error"}: ${N}`,z&&(p+=` (${z})`),g!=null&&g.stack&&(p+=`
${g.stack}`)}else{var C;p=(C=d==null?void 0:d.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,n)}returns(){return this}overrideTypes(){return this}},qp=class extends Bp{select(r){let n=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${r}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:s=n}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(d,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const p=[r?"analyze":null,n?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const v0=new RegExp("[,()]");var Oi=class extends qp{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&v0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&v0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${c}fts${d}.${n}`),this}match(r){return Object.entries(r).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(r,n,s){return this.url.searchParams.append(r,`not.${n}.${s}`),this}or(r,{foreignTable:n,referencedTable:s=n}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,s){return this.url.searchParams.append(r,`${n}.${s}`),this}},Hp=class{constructor(r,{headers:n={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(n),this.schema=s,this.fetch=l}select(r,n){const{head:s=!1,count:l}=n??{},c=s?"HEAD":"GET";let d=!1;const f=(r??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new Oi({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:s=!0}={}){var l;const c="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new Oi({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new Oi({method:f,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:n}={}){var s;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Oi({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var n;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Oi({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},$p=class $0{constructor(n,{headers:s={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new $0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:l=!1,get:c=!1,count:d}={}){var f;let p;const g=new URL(`${this.url}/rpc/${n}`);let y;l||c?(p=l?"HEAD":"GET",Object.entries(s).filter(([S,T])=>T!==void 0).map(([S,T])=>[S,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([S,T])=>{g.searchParams.append(S,T)})):(p="POST",y=s);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new Oi({method:p,url:g,headers:x,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Vp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Gp="2.89.0",Yp=`realtime-js/${Gp}`,V0="1.0.0",Kp="2.0.0",y0=V0,Ku=1e4,Xp=1e3,Qp=100;var on;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(on||(on={}));var lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(lt||(lt={}));var oa;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(oa||(oa={}));var Xu;(function(r){r.websocket="websocket"})(Xu||(Xu={}));var Un;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Un||(Un={}));class Jp{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const c=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,l;const c=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,l){var c,d;const f=n.topic,p=(c=n.ref)!==null&&c!==void 0?c:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(x).length===0?"":JSON.stringify(x);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+y.length+S.length,C=new ArrayBuffer(this.HEADER_LENGTH+T);let N=new DataView(C),z=0;N.setUint8(z++,this.KINDS.userBroadcastPush),N.setUint8(z++,g.length),N.setUint8(z++,p.length),N.setUint8(z++,f.length),N.setUint8(z++,y.length),N.setUint8(z++,S.length),N.setUint8(z++,s),Array.from(g,H=>N.setUint8(z++,H.charCodeAt(0))),Array.from(p,H=>N.setUint8(z++,H.charCodeAt(0))),Array.from(f,H=>N.setUint8(z++,H.charCodeAt(0))),Array.from(y,H=>N.setUint8(z++,H.charCodeAt(0))),Array.from(S,H=>N.setUint8(z++,H.charCodeAt(0)));var q=new Uint8Array(C.byteLength+l.byteLength);return q.set(new Uint8Array(C),0),q.set(new Uint8Array(l),C.byteLength),q.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,d,f,p,g]=l;return s({join_ref:c,ref:d,topic:f,event:p,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,l){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=l.decode(n.slice(g,g+c));g=g+c;const x=l.decode(n.slice(g,g+d));g=g+d;const S=l.decode(n.slice(g,g+f));g=g+f;const T=n.slice(g,n.byteLength),C=p===this.JSON_ENCODING?JSON.parse(l.decode(T)):T,N={type:this.BROADCAST_EVENT,event:x,payload:C};return f>0&&(N.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class G0{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const b0=(r,n,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Zp(f,r,n,c),d),{}):{}},Zp=(r,n,s,l)=>{const c=n.find(p=>p.name===r),d=c==null?void 0:c.type,f=s[r];return d&&!l.includes(d)?Y0(d,f):Qu(f)},Y0=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Fp(n,s)}switch(r){case qe.bool:return Ip(n);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return Wp(n);case qe.json:case qe.jsonb:return Pp(n);case qe.timestamp:return ev(n);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Qu(n);default:return Qu(n)}},Qu=r=>r,Ip=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Wp=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Pp=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Fp=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Y0(n,p))}return r},ev=r=>typeof r=="string"?r.replace(" ","T"):r,K0=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Du{constructor(n,s,l={},c=Ku){this.channel=n,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(_0||(_0={}));class kr{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=kr.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=kr.syncDiff(this.state,c,d,f),p())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,c){const d=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(d,(y,x)=>{f[y]||(g[y]=x)}),this.map(f,(y,x)=>{const S=d[y];if(S){const T=x.map(q=>q.presence_ref),C=S.map(q=>q.presence_ref),N=x.filter(q=>C.indexOf(q.presence_ref)<0),z=S.filter(q=>T.indexOf(q.presence_ref)<0);N.length>0&&(p[y]=N),z.length>0&&(g[y]=z)}else p[y]=x}),this.syncDiff(d,{joins:p,leaves:g},l,c)}static syncDiff(n,s,l,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(p,g)=>{var y;const x=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(g),x.length>0){const S=n[p].map(C=>C.presence_ref),T=x.filter(C=>S.indexOf(C.presence_ref)<0);n[p].unshift(...T)}l(p,x,g)}),this.map(f,(p,g)=>{let y=n[p];if(!y)return;const x=g.map(S=>S.presence_ref);y=y.filter(S=>x.indexOf(S.presence_ref)<0),n[p]=y,c(p,y,g),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const c=n[l];return"metas"in c?s[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(w0||(w0={}));var Cr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Cr||(Cr={}));var Da;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Da||(Da={}));class Ci{constructor(n,s={config:{}},l){var c,d;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,oa.join,this.params,this.timeout),this.rejoinTimer=new G0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new kr(this),this.broadcastEndpointURL=K0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(C=>C.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Cr.PRESENCE]&&this.bindings[Cr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,S={},T={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(C=>n==null?void 0:n(Da.CHANNEL_ERROR,C)),this._onClose(()=>n==null?void 0:n(Da.CLOSED)),this.updateJoinPayload(Object.assign({config:T},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:C})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n==null||n(Da.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,q=(N=z==null?void 0:z.length)!==null&&N!==void 0?N:0,H=[];for(let G=0;G<q;G++){const B=z[G],{filter:{event:X,schema:ue,table:V,filter:$}}=B,we=C&&C[G];if(we&&we.event===X&&Ci.isFilterValueEqual(we.schema,ue)&&Ci.isFilterValueEqual(we.table,V)&&Ci.isFilterValueEqual(we.filter,$))H.push(Object.assign(Object.assign({},B),{id:we.id}));else{this.unsubscribe(),this.state=lt.errored,n==null||n(Da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,n&&n(Da.SUBSCRIBED);return}}).receive("error",C=>{this.state=lt.errored,n==null||n(Da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===lt.joined&&n===Cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Du(this,oa.leave,{},n),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Du(this,n,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Qp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var c,d;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:y,join:x}=oa;if(l&&[p,g,y,x].indexOf(f)>=0&&l!==this._joinRef())return;let T=this._onMessage(f,s,l);if(s&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var N,z,q;return((N=C.filter)===null||N===void 0?void 0:N.event)==="*"||((q=(z=C.filter)===null||z===void 0?void 0:z.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===f}).map(C=>C.callback(T,l)):(d=this.bindings[f])===null||d===void 0||d.filter(C=>{var N,z,q,H,G,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in C){const X=C.id,ue=(N=C.filter)===null||N===void 0?void 0:N.event;return X&&((z=s.ids)===null||z===void 0?void 0:z.includes(X))&&(ue==="*"||(ue==null?void 0:ue.toLocaleLowerCase())===((q=s.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const X=(G=(H=C==null?void 0:C.filter)===null||H===void 0?void 0:H.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return X==="*"||X===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===f}).map(C=>{if(typeof T=="object"&&"ids"in T){const N=T.data,{schema:z,table:q,commit_timestamp:H,type:G,errors:B}=N;T=Object.assign(Object.assign({},{schema:z,table:q,commit_timestamp:H,eventType:G,new:{},old:{},errors:B}),this._getPayloadRecords(N))}C.callback(T,l)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Ci.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(oa.close,{},n)}_onError(n){this._on(oa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=b0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=b0(n.columns,n.old_record)),s}}const Mu=()=>{},nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tv=[1e3,2e3,5e3,1e4],av=1e4,nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iv{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mu,this.ref=0,this.reconnectTimer=null,this.vsn=y0,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new Jp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Xu.websocket}`,this.httpEndpoint=K0(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return Un.Connecting;case on.open:return Un.Open;case on.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Ci(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:l,payload:c,ref:d}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Xp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:f}=s,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${c} ${p}`.trim(),d),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===on.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(oa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${l}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([nv],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,l=!1;if(n)s=n,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const d={access_token:s,version:Yp};s&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(oa.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new G0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,c,d,f,p,g,y,x,S,T,C;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Ku,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:nl.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:Mu,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:y0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n==null?void 0:n.reconnectAfterMs)!==null&&y!==void 0?y:(N=>tv[N-1]||av),this.vsn){case V0:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((N,z)=>z(JSON.stringify(N))),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:((N,z)=>z(JSON.parse(N)));break;case Kp:this.encode=(T=n==null?void 0:n.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(C=n==null?void 0:n.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Rr=class extends Error{constructor(r,n){var s;super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rv(r,n,s){const l=new URL(n,r);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function sv(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function lv(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:c,body:d,headers:f}){const p=rv(r.baseUrl,l,c),g=await sv(r.auth),y=await n(p,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),x=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),T=S&&x?JSON.parse(x):x;if(!y.ok){const C=S?T:void 0,N=C==null?void 0:C.error;throw new Rr((N==null?void 0:N.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:C})}return{status:y.status,headers:y.headers,data:T}}}}function il(r){return r.join("")}var ov=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:il(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const s={namespace:r.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(r.namespace)}`}),!0}catch(n){if(n instanceof Rr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(s){if(s instanceof Rr&&s.status===409)return;throw s}}};function xi(r){return r.join("")}var uv=class{constructor(r,n="",s){this.client=r,this.prefix=n,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(r,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xi(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(s){if(s instanceof Rr&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(s){if(s instanceof Rr&&s.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw s}}},cv=class{constructor(r){var l;let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=lv({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(l=r.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new ov(this.client,n),this.tableOps=new uv(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},hl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Xe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var dv=class extends hl{constructor(r,n,s){super(r),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ju=class extends hl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const nc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),hv=()=>Response,Zu=r=>{if(Array.isArray(r))return r.map(s=>Zu(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Zu(l)}),n},fv=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},mv=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ur(r){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ur(r)}function gv(r,n){if(Ur(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,n);if(Ur(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function pv(r){var n=gv(r,"string");return Ur(n)=="symbol"?n:n+""}function vv(r,n,s){return(n=pv(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function x0(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,l)}return s}function ae(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?x0(Object(s),!0).forEach(function(l){vv(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):x0(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const Lu=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},yv=async(r,n,s)=>{r instanceof await hv()&&!(s!=null&&s.noResolveJson)?r.json().then(l=>{const c=r.status||500,d=(l==null?void 0:l.statusCode)||c+"";n(new dv(Lu(l),c,d))}).catch(l=>{n(new Ju(Lu(l),l))}):n(new Ju(Lu(r),r))},bv=(r,n,s,l)=>{const c={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"||!l?c:(fv(l)?(c.headers=ae({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,n!=null&&n.duplex&&(c.duplex=n.duplex),ae(ae({},c),s))};async function Br(r,n,s,l,c,d){return new Promise((f,p)=>{r(s,bv(n,l,c,d)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>yv(g,p,l))})}async function zr(r,n,s,l){return Br(r,"GET",n,s,l)}async function la(r,n,s,l,c){return Br(r,"POST",n,l,c,s)}async function Iu(r,n,s,l,c){return Br(r,"PUT",n,l,c,s)}async function _v(r,n,s,l){return Br(r,"HEAD",n,ae(ae({},s),{},{noResolveJson:!0}),l)}async function ic(r,n,s,l,c){return Br(r,"DELETE",n,l,c,s)}var wv=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}};let X0;X0=Symbol.toStringTag;var xv=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[X0]="BlobDownloadBuilder",this.promise=null}asStream(){return new wv(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}};const Sv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ev=class{constructor(r,n={},s,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=s,this.fetch=nc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,s,l){var c=this;try{let d;const f=ae(ae({},S0),l);let p=ae(ae({},c.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",c.encodeMetadata(g)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(g))):(d=s,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l!=null&&l.headers&&(p=ae(ae({},p),l.headers));const y=c._removeEmptyFolders(n),x=c._getFinalPath(y),S=await(r=="PUT"?Iu:la)(c.fetch,`${c.url}/object/${x}`,d,ae({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Xe(d))return{data:null,error:d};throw d}}async upload(r,n,s){return this.uploadOrUpdate("POST",r,n,s)}async uploadToSignedUrl(r,n,s,l){var c=this;const d=c._removeEmptyFolders(r),f=c._getFinalPath(d),p=new URL(c.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let g;const y=ae({upsert:S0.upsert},l),x=ae(ae({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType),{data:{path:d,fullPath:(await Iu(c.fetch,p.toString(),g,{headers:x})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(Xe(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,n){var s=this;try{let l=s._getFinalPath(r);const c=ae({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await la(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(s.url+d.url),p=f.searchParams.get("token");if(!p)throw new hl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async update(r,n,s){return this.uploadOrUpdate("PUT",r,n,s)}async move(r,n,s){var l=this;try{return{data:await la(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async copy(r,n,s){var l=this;try{return{data:{path:(await la(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUrl(r,n,s){var l=this;try{let c=l._getFinalPath(r),d=await la(l.fetch,`${l.url}/object/sign/${c}`,ae({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:l.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUrls(r,n,s){var l=this;try{const c=await la(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>ae(ae({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}download(r,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(r),f=()=>zr(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new xv(f,this.shouldThrowOnError)}async info(r){var n=this;const s=n._getFinalPath(r);try{return{data:Zu(await zr(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async exists(r){var n=this;const s=n._getFinalPath(r);try{return await _v(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Xe(l)&&l instanceof Ju){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const s=this._getFinalPath(r),l=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}async remove(r){var n=this;try{return{data:await ic(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async list(r,n,s){var l=this;try{const c=ae(ae(ae({},Sv),n),{},{prefix:r||""});return{data:await la(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},s),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async listV2(r,n){var s=this;try{const l=ae({},r);return{data:await la(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},n),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const Q0="2.89.0",J0={"X-Client-Info":`storage-js/${Q0}`};var Tv=class{constructor(r,n={},s,l){this.shouldThrowOnError=!1;const c=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ae(ae({},J0),n),this.fetch=nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const s=n.listBucketOptionsToQueryString(r);return{data:await zr(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async getBucket(r){var n=this;try{return{data:await zr(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createBucket(r,n={public:!1}){var s=this;try{return{data:await la(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async updateBucket(r,n){var s=this;try{return{data:await Iu(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async emptyBucket(r){var n=this;try{return{data:await la(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await ic(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},jv=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},J0),n),this.fetch=nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await la(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async listBuckets(r){var n=this;try{const s=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&s.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&s.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&s.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&s.set("sortOrder",r.sortOrder),r!=null&&r.search&&s.set("search",r.search);const l=s.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await zr(n.fetch,c,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await ic(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}from(r){var n=this;if(!mv(r))throw new hl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new cv({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(c,p),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const rc={"X-Client-Info":`storage-js/${Q0}`,"Content-Type":"application/json"};var Z0=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Gt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Bu=class extends Z0{constructor(r,n,s){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Av=class extends Z0{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const sc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Ov=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},E0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Nv=async(r,n,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(s!=null&&s.noResolveJson)){const l=r.status||500,c=r;if(typeof c.json=="function")c.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";n(new Bu(E0(d),l,f))}).catch(()=>{const d=l+"";n(new Bu(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";n(new Bu(c.statusText||`HTTP ${l} error`,l,d))}}else n(new Av(E0(r),r))},kv=(r,n,s,l)=>{const c={method:r,headers:(n==null?void 0:n.headers)||{}};return l?(Ov(l)?(c.headers=ae({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,ae(ae({},c),s)):c};async function Cv(r,n,s,l,c,d){return new Promise((f,p)=>{r(s,kv(n,l,c,d)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Nv(g,p,l))})}async function Yt(r,n,s,l,c){return Cv(r,"POST",n,l,c,s)}var Rv=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),n),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getIndex(r,n){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}}async listIndexes(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteIndex(r,n){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers})||{},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}}},Uv=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),n),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yt(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getVectors(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Yt(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async queryVectors(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yt(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}},zv=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),n),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async getBucket(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}}},Dv=class extends zv{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Mv(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,s=this;return n().call(s,r)}async getBucket(r){var n=()=>super.getBucket,s=this;return n().call(s,r)}async listBuckets(r={}){var n=()=>super.listBuckets,s=this;return n().call(s,r)}async deleteBucket(r){var n=()=>super.deleteBucket,s=this;return n().call(s,r)}},Mv=class extends Rv{constructor(r,n,s,l){super(r,n,l),this.vectorBucketName=s}async createIndex(r){var n=()=>super.createIndex,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,r)}index(r){return new Lv(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Lv=class extends Uv{constructor(r,n,s,l,c){super(r,n,c),this.vectorBucketName=s,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var n=()=>super.getVectors,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,s=this;return n().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Bv=class extends Tv{constructor(r,n={},s,l){super(r,n,s,l)}from(r){return new Ev(this.url,this.headers,r,this.fetch)}get vectors(){return new Dv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jv(this.url+"/iceberg",this.headers,this.fetch)}};const I0="2.89.0",Ni=30*1e3,Wu=3,qu=Wu*Ni,qv="http://localhost:9999",Hv="supabase.auth.token",$v={"X-Client-Info":`gotrue-js/${I0}`},Pu="X-Supabase-Api-Version",W0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gv=600*1e3;class Dr extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function W(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Yv extends Dr{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function Kv(r){return W(r)&&r.name==="AuthApiError"}class zn extends Dr{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ma extends Dr{constructor(n,s,l,c){super(n,l,c),this.name=s,this.status=l}}class $t extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xv(r){return W(r)&&r.name==="AuthSessionMissingError"}class Si extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends Ma{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class sl extends Ma{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qv(r){return W(r)&&r.name==="AuthImplicitGrantRedirectError"}class T0 extends Ma{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jv extends Ma{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fu extends Ma{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Hu(r){return W(r)&&r.name==="AuthRetryableFetchError"}class j0 extends Ma{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class ec extends Ma{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),Zv=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<A0.length;n+=1)r[A0[n].charCodeAt(0)]=-2;for(let n=0;n<ol.length;n+=1)r[ol[n].charCodeAt(0)]=n;return r})();function O0(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(ol[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(ol[l]),n.queuedBits-=6}}function P0(r,n,s){const l=Zv[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function N0(r){const n=[],s=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Pv(f,l,s)};for(let f=0;f<r.length;f+=1)P0(r.charCodeAt(f),c,d);return n.join("")}function Iv(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Wv(r,n){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Iv(l,n)}}function Pv(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ri(r){const n=[],s={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<r.length;c+=1)P0(r.charCodeAt(c),s,l);return new Uint8Array(n)}function Fv(r){const n=[];return Wv(r,s=>n.push(s)),new Uint8Array(n)}function Dn(r){const n=[],s={queue:0,queuedBits:0},l=c=>{n.push(c)};return r.forEach(c=>O0(c,s,l)),O0(null,s,l),n.join("")}function ey(r){return Math.round(Date.now()/1e3)+r}function ty(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},F0=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function ay(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((l,c)=>{n[c]=l}),n}const em=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),ny=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ki=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},Cn=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},bt=async(r,n)=>{await r.removeItem(n)};class fl{constructor(){this.promise=new fl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}fl.promiseConstructor=Promise;function $u(r){const n=r.split(".");if(n.length!==3)throw new ec("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Vv.test(n[l]))throw new ec("JWT not in base64url format");return{header:JSON.parse(N0(n[0])),payload:JSON.parse(N0(n[1])),signature:Ri(n[2]),raw:{header:n[0],payload:n[1]}}}async function iy(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function ry(r,n){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function sy(r){return("0"+r.toString(16)).substr(-2)}function ly(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,sy).join("")}async function oy(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function uy(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await oy(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ei(r,n,s=!1){const l=ly();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await ki(r,`${n}-code-verifier`,c);const d=await uy(l);return[d,l===d?"plain":"s256"]}const cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dy(r){const n=r.headers.get(Pu);if(!n||!n.match(cy))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function hy(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function fy(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const my=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ti(r){if(!my.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gy(r,n){return new Proxy(r,{get:(s,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,c)}})}function k0(r){return JSON.parse(JSON.stringify(r))}const Rn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),py=[502,503,504];async function C0(r){var n;if(!ny(r))throw new Fu(Rn(r),0);if(py.includes(r.status))throw new Fu(Rn(r),r.status);let s;try{s=await r.json()}catch(d){throw new zn(Rn(d),d)}let l;const c=dy(r);if(c&&c.getTime()>=W0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new j0(Rn(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new $t}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new j0(Rn(s),r.status,s.weak_password.reasons);throw new Yv(Rn(s),r.status||500,l)}const vy=(r,n,s,l)=>{const c={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function te(r,n,s,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[Pu]||(d[Pu]=W0["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await yy(r,n,s+p,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function yy(r,n,s,l,c,d){const f=vy(n,l,c,d);let p;try{p=await r(s,Object.assign({},f))}catch(g){throw console.error(g),new Fu(Rn(g),0)}if(p.ok||await C0(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(g){await C0(g)}}function sa(r){var n;let s=null;wy(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=ey(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:l},error:null}}function R0(r){const n=sa(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function un(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function by(r){return{data:r,error:null}}function _y(r){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:c,verification_type:d}=r,f=dl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:l,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function U0(r){return r}function wy(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gu=["global","local","others"];class xy{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=em(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Gu[0]){if(Gu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:un})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=dl(n,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:_y,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:un})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,c,d,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:U0});if(x.error)throw x.error;const S=await x.json(),T=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(N=>{const z=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(N.split(";")[1].split("=")[1]);y[`${q}Page`]=z}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(W(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Ti(n);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:un})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Ti(n);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:un})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){Ti(n);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:un})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Ti(n.userId);try{const{data:s,error:l}=await te(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Ti(n.userId),Ti(n.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,c,d,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:U0});if(x.error)throw x.error;const S=await x.json(),T=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(N=>{const z=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(N.split(";")[1].split("=")[1]);y[`${q}Page`]=z}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(W(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}}function z0(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}const ji={debug:!!(globalThis&&F0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Sy extends tm{}async function Ey(r,n,s){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(n===0)throw ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Sy(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ji.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function am(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function jy(r){return parseInt(r,16)}function Ay(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Oy(r){var n;const{chainId:s,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:p,requestId:g,resources:y,scheme:x,uri:S,version:T}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const C=am(r.address),N=x?`${x}://${l}`:l,z=r.statement?`${r.statement}
`:"",q=`${N} wants you to sign in with your Ethereum account:
${C}

${z}`;let H=`URI: ${S}
Version: ${T}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),p&&(H+=`
Not Before: ${p.toISOString()}`),g&&(H+=`
Request ID: ${g}`),y){let G=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);G+=`
- ${B}`}H+=G}return`${q}
${H}`}class it extends Error{constructor({message:n,code:s,cause:l,name:c}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class ul extends it{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Ny({error:r,options:n}){var s,l,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new it({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(nm(f)){if(d.rp.id!==f)return new it({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function ky({error:r,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new it({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(nm(l)){if(s.rpId!==l)return new it({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Cy{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Ry=new Cy;function Uy(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:s,excludeCredentials:l}=r,c=dl(r,["challenge","user","excludeCredentials"]),d=Ri(n).buffer,f=Object.assign(Object.assign({},s),{id:Ri(s.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:d,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const y=l[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Ri(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function zy(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:s}=r,l=dl(r,["challenge","allowCredentials"]),c=Ri(n).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Ri(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Dy(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Dn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function My(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Dn(new Uint8Array(c.authenticatorData)),clientDataJSON:Dn(new Uint8Array(c.clientDataJSON)),signature:Dn(new Uint8Array(c.signature)),userHandle:c.userHandle?Dn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function nm(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function D0(){var r,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Ly(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",n)}:{data:null,error:new ul("Empty credential response",n)}}catch(n){return{data:null,error:Ny({error:n,options:r})}}}async function By(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",n)}:{data:null,error:new ul("Empty credential response",n)}}catch(n){return{data:null,error:ky({error:n,options:r})}}}const qy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cl(...r){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(s(f))l[d]=f;else if(n(f)){const p=l[d];n(p)?l[d]=cl(p,f):l[d]=cl(f)}else l[d]=f}return l}function $y(r,n){return cl(qy,r,n||{})}function Vy(r,n){return cl(Hy,r,n||{})}class Gy{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:c},d){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=c??Ry.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=$y(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:x,error:S}=await Ly({publicKey:y,signal:g});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}case"request":{const y=Vy(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:x,error:S}=await By(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Dr("rpId is required for WebAuthn authentication")};try{if(!D0())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:c},{request:d});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Dr("rpId is required for WebAuthn registration")};try{if(!D0())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var S;return(S=x.data)===null||S===void 0?void 0:S.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===n&&T.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in register",f)}}}}Ty();const Yy={url:qv,storageKey:Hv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$v,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function M0(r,n,s){return await s()}const Ai={};class Mr{get jwks(){var n,s;return(s=(n=Ai[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Ai[this.storageKey]=Object.assign(Object.assign({},Ai[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Ai[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ai[this.storageKey]=Object.assign(Object.assign({},Ai[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Yy),n);if(this.storageKey=d.storageKey,this.instanceID=(s=Mr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Mr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&_t()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new xy({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=em(d.fetch),this.lock=d.lock||M0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&_t()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Ey:this.lock=M0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:F0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=z0(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(_t()&&(s=ay(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),_t()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Qv(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?this._returnResult({error:s}):this._returnResult({error:new zn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,c;try{const d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:sa}),{data:f,error:p}=d;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var s,l,c;try{let d;if("email"in n){const{email:x,password:S,options:T}=n;let C=null,N=null;this.flowType==="pkce"&&([C,N]=await Ei(this.storage,this.storageKey)),d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:x,password:S,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:C,code_challenge_method:N},xform:sa})}else if("phone"in n){const{phone:x,password:S,options:T}=n;d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:S,data:(l=T==null?void 0:T.data)!==null&&l!==void 0?l:{},channel:(c=T==null?void 0:T.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:sa})}else throw new rl("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:f,options:p}=n;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:R0})}else if("phone"in n){const{phone:d,password:f,options:p}=n;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:R0})}else throw new rl("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Si;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,c,d,f,p,g,y,x,S,T;let C,N;if("message"in n)C=n.message,N=n.signature;else{const{chain:z,wallet:q,statement:H,options:G}=n;let B;if(_t())if(typeof q=="object")B=q;else{const Ee=window;if("ethereum"in Ee&&typeof Ee.ethereum=="object"&&"request"in Ee.ethereum&&typeof Ee.ethereum.request=="function")B=Ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=q}const X=new URL((s=G==null?void 0:G.url)!==null&&s!==void 0?s:window.location.href),ue=await B.request({method:"eth_requestAccounts"}).then(Ee=>Ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ue||ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=am(ue[0]);let $=(l=G==null?void 0:G.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!$){const Ee=await B.request({method:"eth_chainId"});$=jy(Ee)}const we={domain:X.host,address:V,statement:H,uri:X.href,version:"1",chainId:$,nonce:(c=G==null?void 0:G.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=G==null?void 0:G.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=G==null?void 0:G.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=G==null?void 0:G.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=G==null?void 0:G.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=G==null?void 0:G.signInWithEthereum)===null||x===void 0?void 0:x.resources};C=Oy(we),N=await B.request({method:"personal_sign",params:[Ay(C),V]})}try{const{data:z,error:q}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:N},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:sa});if(q)throw q;if(!z||!z.session||!z.user){const H=new Si;return this._returnResult({data:{user:null,session:null},error:H})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:q})}catch(z){if(W(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async signInWithSolana(n){var s,l,c,d,f,p,g,y,x,S,T,C;let N,z;if("message"in n)N=n.message,z=n.signature;else{const{chain:q,wallet:H,statement:G,options:B}=n;let X;if(_t())if(typeof H=="object")X=H;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))X=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=H}const ue=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const V=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),G?{statement:G}:null));let $;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")$=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)$=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)N=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),z=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${ue.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(c=(l=B==null?void 0:B.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((S=(x=B==null?void 0:B.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||S===void 0)&&S.length?["Resources",...B.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const V=await X.signMessage(new TextEncoder().encode(N),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=V}}try{const{data:q,error:H}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Dn(z)},!((T=n.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:sa});if(H)throw H;if(!q||!q.session||!q.user){const G=new Si;return this._returnResult({data:{user:null,session:null},error:G})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:H})}catch(q){if(W(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async _exchangeCodeForSession(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Jv;const{data:d,error:f}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:sa});if(await bt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const p=new Si;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:s,provider:l,token:c,access_token:d,nonce:f}=n,p=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:sa}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const x=new Si;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,c,d,f;try{if("email"in n){const{email:p,options:g}=n;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Ei(this.storage,this.storageKey));const{error:S}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:p,options:g}=n,{data:y,error:x}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:x})}throw new rl("You must provide either an email or phone number.")}catch(p){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,l;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:sa});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,l,c,d,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ei(this.storage,this.storageKey));const y=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:by});return!((d=y.data)===null||d===void 0)&&d.url&&_t()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new $t;const{error:c}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:d}=n,{error:f}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:c,options:d}=n,{data:f,error:p}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new rl("You must provide either an email or phone number and a type")}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<qu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Cn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Vu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=gy(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:un}):await this._useSession(async s=>{var l,c,d;const{data:f,error:p}=s;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:un})})}catch(s){if(W(s))return Xv(s)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new $t;const f=c.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Ei(this.storage,this.storageKey));const{data:y,error:x}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:un});if(x)throw x;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new $t;const s=Date.now()/1e3;let l=s,c=!0,d=null;const{payload:f}=$u(n.access_token);if(f.exp&&(l=f.exp,c=l<=s),c){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new $t;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!_t())throw new sl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new sl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new T0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new T0("No code detected.");const{data:G,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=n;if(!d||!p||!f||!y)throw new sl("No session defined in URL");const x=Math.round(Date.now()/1e3),S=parseInt(p);let T=x+S;g&&(T=parseInt(g));const C=T-x;C*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${S}s`);const N=T-S;x-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,T,x):x-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,T,x);const{data:z,error:q}=await this._getUser(d);if(q)throw q;const H={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:S,expires_at:T,refresh_token:f,token_type:y,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:d}=s;if(d)return this._returnResult({error:d});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Kv(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=ty(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ei(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:c}=await this._useSession(async d=>{var f,p,g,y,x;const{data:S,error:T}=d;if(T)throw T;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return _t()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:p,token:g,access_token:y,nonce:x}=n,S=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:g,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sa}),{data:T,error:C}=S;return C?this._returnResult({data:{user:null,session:null},error:C}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Si}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:C}))}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,c;const{data:d,error:f}=s;if(f)throw f;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await ry(async c=>(c>0&&await iy(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:sa})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Hu(d)&&Date.now()+f-l<Ni})}catch(l){if(this._debug(s,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),_t()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Cn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await ki(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Vu()}else if(c&&!c.user&&!c.user){const f=await Cn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await bt(this.storage,this.storageKey+"-user"),await ki(this.storage,this.storageKey,c)):c.user=Vu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${qu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Hu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new fl;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new $t;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(c,"error",d),W(d)){const f={data:null,error:d};return Hu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await ki(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=k0(c);await ki(this.storage,this.storageKey,d)}else{const c=k0(s);await ki(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ni}ms, refresh threshold is ${Wu} ticks`),c<=Wu&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof tm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Ei(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await te(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await te(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Dy(n.webauthn.credential_response):My(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Uy(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:zy(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=$u(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new $t})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new $t});const f=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&_t()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new $t});const f=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&_t()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(p=>p.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+Gv>c)return l;const{data:d,error:f}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:C,error:N}=await this.getSession();if(N||!C.session)return this._returnResult({data:null,error:N});l=C.session.access_token}const{header:c,payload:d,signature:f,raw:{header:p,payload:g}}=$u(l);s!=null&&s.allowExpired||hy(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:C}=await this.getUser(l);if(C)throw C;return{data:{claims:d,header:c,signature:f},error:null}}const x=fy(c.alg),S=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,S,f,Fv(`${p}.${g}`)))throw new ec("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}Mr.nextInstanceID={};const Ky=Mr,Xy="2.89.0";let Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";const Qy={"X-Client-Info":`supabase-js-${Nr}/${Xy}`},Jy={headers:Qy},Zy={schema:"public"},Iy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wy={};function Lr(r){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lr(r)}function Py(r,n){if(Lr(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,n);if(Lr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Fy(r){var n=Py(r,"string");return Lr(n)=="symbol"?n:n+""}function eb(r,n,s){return(n=Fy(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function L0(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,l)}return s}function Ze(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?L0(Object(s),!0).forEach(function(l){eb(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):L0(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const tb=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),ab=()=>Headers,nb=(r,n,s)=>{const l=tb(s),c=ab();return async(d,f)=>{var p;const g=(p=await n())!==null&&p!==void 0?p:r;let y=new c(f==null?void 0:f.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),l(d,Ze(Ze({},f),{},{headers:y}))}};function ib(r){return r.endsWith("/")?r:r+"/"}function rb(r,n){var s,l;const{db:c,auth:d,realtime:f,global:p}=r,{db:g,auth:y,realtime:x,global:S}=n,T={db:Ze(Ze({},g),c),auth:Ze(Ze({},y),d),realtime:Ze(Ze({},x),f),storage:{},global:Ze(Ze(Ze({},S),p),{},{headers:Ze(Ze({},(s=S==null?void 0:S.headers)!==null&&s!==void 0?s:{}),(l=p==null?void 0:p.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?T.accessToken=r.accessToken:delete T.accessToken,T}function sb(r){const n=r==null?void 0:r.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ib(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lb=class extends Ky{constructor(r){super(r)}},ob=class{constructor(r,n,s){var l,c;this.supabaseUrl=r,this.supabaseKey=n;const d=sb(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:Zy,realtime:Wy,auth:Ze(Ze({},Iy),{},{storageKey:f}),global:Jy},g=rb(s??{},p);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=nb(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new $p(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Bv(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Mp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,s;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:c,storageKey:d,flowType:f,lock:p,debug:g,throwOnError:y},x,S){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lb({url:this.authUrl.href,headers:Ze(Ze({},T),x),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:c,flowType:f,lock:p,debug:g,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new iv(this.realtimeUrl.href,Ze(Ze({},r),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ub=(r,n,s)=>new ob(r,n,s);function cb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}cb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const db="https://avyhikexewvhsrtnddbl.supabase.co",hb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2eWhpa2V4ZXd2aHNydG5kZGJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNTAwMDUsImV4cCI6MjA3NjcyNjAwNX0.fz0wC8bdIzWECrPgnj4aTz3EA-jEIW_p9V1KfTtFztk",_e=ub(db,hb),B0=({user:r,onClose:n,onSubmit:s,initialData:l})=>{const[c,d]=Z.useState((l==null?void 0:l.content)||""),[f,p]=Z.useState(null),[g,y]=Z.useState((l==null?void 0:l.image)||""),[x,S]=Z.useState(!1),T=!!l,C=z=>{var H;const q=(H=z.target.files)==null?void 0:H[0];if(q){p(q);const G=new FileReader;G.onloadend=()=>{y(G.result)},G.readAsDataURL(q)}},N=async()=>{S(!0);let z="";if(f){const q=f.name.split(".").pop(),G=`brews/${`${Math.random()}.${q}`}`,{data:B,error:X}=await _e.storage.from("brew-images").upload(G,f);if(X)console.error("FAILED_TO_UPLOAD_IMAGE",X),alert(`Failed to upload image: ${X.message}`);else if(B){const{data:ue}=_e.storage.from("brew-images").getPublicUrl(G);z=ue.publicUrl}}s(c,z),S(!1)};return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-xl flex items-center justify-center p-4 z-50 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[92vh] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.6)] overflow-hidden motion-safe:animate-in motion-safe:zoom-in-95 motion-safe:slide-in-from-bottom-8",children:[m.jsxs("div",{className:"px-8 py-6 border-b border-[#2c1a12] flex justify-between items-center bg-[#1a1817]",children:[m.jsx("button",{onClick:n,className:"text-[#a09a96] hover:text-[#efebe9] transition-all font-bold text-sm uppercase tracking-widest active:scale-95",children:"Cancel"}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-black text-[#efebe9] text-xl tracking-tight",children:T?"Edit Brew":"New Brew"}),m.jsx("div",{className:"h-1 w-8 bg-[#c29a67] rounded-full mt-1 opacity-50"})]}),m.jsx("div",{className:"w-16"})]}),m.jsx("div",{className:"px-8 py-8 overflow-y-auto custom-scrollbar",children:m.jsxs("div",{className:"flex gap-5",children:[m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("img",{src:r.avatar,className:"w-14 h-14 rounded-full border-2 border-[#c29a67]/30 object-cover shadow-xl"}),m.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-[#c29a67]/20 to-transparent rounded-full min-h-[40px]"})]}),m.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("span",{className:"font-black text-[#efebe9] text-lg tracking-tight",children:["@",r.username]}),m.jsx("span",{className:"text-xs font-bold text-[#c29a67] bg-[#c29a67]/10 px-3 py-1 rounded-full border border-[#c29a67]/20 uppercase tracking-widest",children:T?"Refining":"Drafting"})]}),m.jsx("textarea",{autoFocus:!0,value:c,onChange:z=>d(z.target.value),placeholder:"Share your coffee thoughts...",className:"w-full bg-transparent border-none focus:ring-0 text-xl font-medium leading-relaxed resize-none min-h-[160px] p-0 placeholder-[#a09a96]/30 text-[#efebe9]"}),g&&m.jsxs("div",{className:"group relative mt-6 rounded-[2rem] overflow-hidden border border-[#2c1a12] shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:g,className:"w-full object-contain max-h-[320px] transition-transform duration-500 group-hover:scale-[1.02]"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"}),m.jsx("button",{onClick:()=>{p(null),y("")},className:"absolute top-4 right-4 bg-black/60 backdrop-blur-md p-2.5 rounded-full hover:bg-black text-white transition-all transform hover:scale-110 shadow-xl",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"mt-8 flex items-center gap-6",children:m.jsxs("label",{className:"group flex items-center gap-2 cursor-pointer text-[#a09a96] hover:text-[#c29a67] transition-all",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"}),m.jsx("div",{className:"p-3 bg-[#2c1a12] rounded-2xl group-hover:bg-[#c29a67]/10 transition-colors",children:m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest hidden sm:block",children:g?"Change Photo":"Add Photo"})]})})]})]})}),m.jsx("div",{className:"px-8 py-6 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsxs("button",{onClick:N,disabled:!c.trim()||x,className:"group relative bg-[#efebe9] text-[#0e0d0c] font-black px-12 py-4 rounded-2xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-[0_20px_40px_-10px_rgba(239,235,233,0.2)] active:scale-95 flex items-center gap-3 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),x?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-3 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:T?"Updating...":"Brewing..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:T?"Update Brew":"Brew Now"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})]})})},fb=({currentUser:r})=>{const[n,s]=Z.useState(null),[l,c]=Z.useState(!0),[d,f]=Z.useState(!1),[p,g]=Z.useState({}),[y,x]=Z.useState(null),[S,T]=Z.useState(""),[C,N]=Z.useState(!1);Z.useEffect(()=>{z()},[]);const z=async()=>{c(!0);const{data:B,error:X}=await _e.from("featured_brews").select("*").eq("id",1).single();X?console.error("Error fetching featured brew:",X):(s(B),g(B)),c(!1)},q=B=>{var ue;const X=(ue=B.target.files)==null?void 0:ue[0];if(X){x(X);const V=new FileReader;V.onloadend=()=>{T(V.result),g({...p,image_url:V.result})},V.readAsDataURL(X)}},H=async()=>{N(!0);let B=p.image_url;if(y){const ue=y.name.split(".").pop(),V=`featured/brew-${Date.now()}.${ue}`,{data:$,error:we}=await _e.storage.from("brew-images").upload(V,y);if(we){alert("Image upload failed: "+we.message),N(!1);return}const{data:{publicUrl:Ee}}=_e.storage.from("brew-images").getPublicUrl(V);B=Ee}const{error:X}=await _e.from("featured_brews").update({title:p.title,description:p.description,image_url:B,cta_text:p.cta_text,cta_link:p.cta_link,updated_at:new Date().toISOString()}).eq("id",1);X?alert("Failed to update featured brew: "+X.message):(s({...p,image_url:B}),f(!1),x(null),T("")),N(!1)};if(l&&!n)return m.jsxs("div",{className:"mx-6 my-8 p-12 bg-[#1a1817] rounded-[2.5rem] border border-[#2c1a12] animate-pulse flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-3 border-[#c29a67] border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-[#a09a96] text-xs font-bold uppercase tracking-widest",children:"Dialing in the espresso..."})]});const G=(r==null?void 0:r.username)==="twc_training";return m.jsxs("div",{className:"mx-6 my-8 p-8 bg-gradient-to-br from-[#1a1817] to-[#0e0d0c] rounded-[2.5rem] border border-[#c29a67]/30 shadow-2xl relative overflow-hidden group transition-all duration-500 hover:border-[#c29a67]/60",children:[m.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-[#c29a67]/5 rounded-full blur-3xl group-hover:bg-[#c29a67]/10 transition-colors duration-500"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex h-2 w-2 rounded-full bg-[#c29a67] animate-ping"}),m.jsx("h3",{className:"text-[#c29a67] text-xs font-black uppercase tracking-[0.2em]",children:"Barista's Choice"})]}),G&&!d&&m.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-[#c29a67] border border-[#c29a67]/30 rounded-xl hover:bg-[#c29a67] hover:text-[#0e0d0c] transition-all bg-[#0e0d0c]/50",children:"Edit Feature"})]}),d?m.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Image Preview"}),m.jsxs("div",{className:"group/edit-img relative w-full aspect-video md:aspect-square rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:S||p.image_url,className:"w-full h-full object-contain transition-transform duration-500 group-hover/edit-img:scale-[1.05]"}),m.jsxs("label",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover/edit-img:opacity-100 transition-opacity flex flex-col items-center justify-center cursor-pointer backdrop-blur-sm",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"}),m.jsx("div",{className:"p-4 bg-[#c29a67] rounded-full text-[#0e0d0c] shadow-2xl mb-2 transform scale-75 group-hover/edit-img:scale-100 transition-transform flex items-center justify-center",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Click to Replace Image"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Brew Title"}),m.jsx("input",{value:p.title,onChange:B=>g({...p,title:B.target.value}),placeholder:"e.g. La vien rose",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold text-lg transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Description"}),m.jsx("textarea",{value:p.description,onChange:B=>g({...p,description:B.target.value}),placeholder:"Describe the brew...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none h-32 font-medium leading-relaxed resize-none transition-all"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Button Text"}),m.jsx("input",{value:p.cta_text,onChange:B=>g({...p,cta_text:B.target.value}),placeholder:"Learn how to prepare it",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Action Link (PDF/Video)"}),m.jsx("input",{value:p.cta_link,onChange:B=>g({...p,cta_link:B.target.value}),placeholder:"e.g. https://...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-medium text-xs transition-all"})]})]}),m.jsxs("div",{className:"flex gap-4 pt-8 border-t border-[#2c1a12]",children:[m.jsx("button",{onClick:H,disabled:C,className:"flex-1 bg-[#c29a67] text-[#0e0d0c] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:bg-[#efebe9] transition-all shadow-2xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:C?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:"Saving..."})]}):m.jsx("span",{children:"Save Feature Update"})}),m.jsx("button",{onClick:()=>{f(!1),T(""),x(null)},disabled:C,className:"flex-1 border border-[#2c1a12] text-[#a09a96] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:text-[#efebe9] transition-all active:scale-95",children:"Discard Changes"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-4xl font-black text-[#efebe9] mb-8 tracking-tighter group-hover:text-white transition-colors",children:"Barista's Signature"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[m.jsxs("div",{className:"relative group/img shrink-0 bg-[#0e0d0c] rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[m.jsx("img",{src:(n==null?void 0:n.image_url)||"https://images.unsplash.com/photo-1541167760496-162955ed8a9f?q=80&w=400&h=400&auto=format&fit=crop",alt:n==null?void 0:n.title,className:"w-full md:w-44 h-44 object-contain group-hover:scale-110 transition-transform duration-700 ease-out"}),m.jsx("div",{className:"absolute inset-0 ring-1 ring-inset ring-white/10"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-2xl font-black text-[#efebe9] tracking-tight mb-2",children:n==null?void 0:n.title}),m.jsx("p",{className:"text-[#a09a96] text-[16px] leading-relaxed font-medium",children:n==null?void 0:n.description}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsx("span",{className:"text-[10px] font-black text-[#c29a67] border border-[#c29a67]/20 px-3 py-1.5 rounded-xl bg-[#c29a67]/5 uppercase tracking-wider",children:"#ArtisanCraft"}),m.jsx("span",{className:"text-[10px] font-black text-[#efebe9]/40 border border-[#efebe9]/10 px-3 py-1.5 rounded-xl uppercase tracking-wider",children:"#BaristaGold"})]})]})]}),m.jsxs("button",{onClick:()=>{if(n!=null&&n.cta_link&&n.cta_link!=="#"){const B=n.cta_link.startsWith("http")?n.cta_link:`https://${n.cta_link}`;window.open(B,"_blank")}},className:"w-full mt-10 py-5 bg-[#efebe9] text-[#0e0d0c] font-black rounded-2xl hover:bg-white transition-all transform hover:-translate-y-1 active:scale-[0.98] shadow-[0_20px_40px_-10px_rgba(239,235,233,0.3)] flex items-center justify-center gap-3 group/btn",children:[m.jsx("span",{children:(n==null?void 0:n.cta_text)||"Learn how to prepare it"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover/btn:translate-x-1 transition-transform",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})},mb=""+new URL("login_logo-C503ABGk.png",import.meta.url).href,gb=()=>{const[r,n]=Z.useState(!1),[s,l]=Z.useState(!1),[c,d]=Z.useState(""),[f,p]=Z.useState(""),[g,y]=Z.useState(null),x=async S=>{S.preventDefault(),n(!0),y(null);let T=c.trim(),C="";try{if(!T.includes("@")){const{data:N,error:z}=await _e.from("allowed_employees").select("email, employee_name").ilike("employee_code",T).maybeSingle();if(console.log("Employee Lookup:",{id:T,data:N,error:z}),z)throw console.error("Database Error:",z),new Error(`Database Error: ${z.message} (${z.details||z.hint||"Check RLS on allowed_employees"})`);if(!N)throw new Error(`Employee ID "${T}" not found in allowed_employees. (Hint: Check RLS!)`);T=N.email,C=N.employee_name}if(T==="training@thirdwavecoffee.in"&&f==="Training@10"){localStorage.setItem("bc_mock_session","training_team_active"),window.location.reload();return}if(s){const{error:N}=await _e.auth.signUp({email:T,password:f,options:{data:{full_name:C||void 0,employee_id:c.includes("@")?void 0:c}}});if(N)throw N;alert(`Confirmation link sent to ${T}!`)}else{const{error:N}=await _e.auth.signInWithPassword({email:T,password:f});if(N)throw N}}catch(N){y(N.message||"An error occurred during authentication.")}finally{n(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] flex items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"})]}),m.jsxs("div",{className:"w-full max-w-md z-10 pt-0",children:[m.jsxs("div",{className:"text-center mb-0 flex flex-col items-center",children:[m.jsx("div",{className:"w-80 h-32 overflow-hidden flex items-start justify-center",children:m.jsx("img",{src:mb,alt:"Wavegram",className:"w-full h-auto object-contain mt-[-10px]"})}),m.jsx("p",{className:"text-[#c29a67] font-bold uppercase tracking-[0.4em] text-[10px] opacity-70 mt-[-20px] mb-6",children:"The Coffee Network"})]}),m.jsxs("div",{className:"glass bg-[#1a1817]/60 p-8 rounded-[2.5rem] border border-[#2c1a12] shadow-2xl backdrop-blur-xl",children:[m.jsx("h2",{className:"text-xl font-bold text-[#efebe9] mb-8 text-center",children:s?"Apply for Access":"Welcome Back"}),m.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Work Email or Employee ID"}),m.jsx("input",{type:"text",required:!0,value:c,onChange:S=>d(S.target.value),placeholder:"e.g. TWC123 or email@thirdwavecoffee.in",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:f,onChange:S=>p(S.target.value),placeholder:"",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),g&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm px-4 py-3 rounded-2xl flex items-start gap-3",children:[m.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),g]}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#efebe9] text-[#0e0d0c] font-black py-4 rounded-2xl hover:bg-white transition-all transform active:scale-[0.98] shadow-lg disabled:opacity-50",children:r?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):s?"Join Wavegram":"Enter Lounge"})]}),m.jsxs("p",{className:"mt-8 text-center text-[#a09a96] text-sm",children:[s?"Already a member?":"New at TWC?",m.jsx("button",{onClick:()=>l(!s),className:"ml-2 text-[#c29a67] font-bold hover:underline",children:s?"Sign In":"Sign Up"})]})]}),m.jsx("p",{className:"mt-8 text-center text-[#a09a96]/40 text-xs px-8",children:"This is a private network. By entering, you agree to the TWC internal communication guidelines."})]})]})},pb=({post:r,currentUser:n,onClose:s})=>{const[l,c]=Z.useState([]),[d,f]=Z.useState(!0),[p,g]=Z.useState(""),[y,x]=Z.useState(null);Z.useEffect(()=>{S()},[]);const S=async()=>{f(!0);const{data:N,error:z}=await _e.from("profiles").select("*").order("full_name",{ascending:!0});z?console.error("Error fetching employees:",z):N&&c(N.map(q=>({id:q.id,username:q.username,name:q.full_name,avatar:q.avatar_url,verified:!0}))),f(!1)},T=async N=>{if(!n)return;x(N.id);const{error:z}=await _e.from("shares").insert({post_id:r.id,sender_id:n.id,receiver_id:N.id});z?(console.error("Error sharing brew:",z),alert("Failed to share brew. Please try again.")):(alert(`Shared with ${N.name}!`),s()),x(null)},C=l.filter(N=>N.name.toLowerCase().includes(p.toLowerCase())||N.username.toLowerCase().includes(p.toLowerCase()));return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-md rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[80vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-[#2c1a12] flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-black text-[#efebe9] tracking-tight",children:"Share Brew"}),m.jsx("button",{onClick:s,className:"p-2 hover:bg-[#2c1a12] rounded-full text-[#a09a96] hover:text-[#efebe9] transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"p-4 bg-[#0e0d0c]/50",children:m.jsx("input",{type:"text",placeholder:"Search employees...",value:p,onChange:N=>g(N.target.value),className:"w-full bg-[#1a1817] border border-[#2c1a12] rounded-2xl px-5 py-3 text-sm focus:border-[#c29a67] outline-none text-[#efebe9] transition-all"})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d?m.jsxs("div",{className:"flex flex-col items-center py-10 gap-4",children:[m.jsx("div",{className:"w-8 h-8 border-2 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-xs font-bold text-[#c29a67] uppercase tracking-widest",children:"Calling the team..."})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"px-2 py-4 border border-[#c29a67]/20 rounded-2xl bg-[#c29a67]/5 mb-6",children:m.jsx("p",{className:"text-xs text-center text-[#c29a67] font-bold uppercase tracking-widest",children:"Share this brew with"})}),C.map(N=>m.jsxs("button",{onClick:()=>T(N),disabled:y===N.id,className:"w-full flex items-center gap-4 p-3 rounded-2xl hover:bg-[#2c1a12] transition-all group active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("img",{src:N.avatar,className:"w-12 h-12 rounded-full border-2 border-[#c29a67]/10 object-cover"}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("p",{className:"font-bold text-[#efebe9] group-hover:text-[#c29a67] transition-colors",children:N.name}),m.jsxs("p",{className:"text-xs text-[#a09a96]",children:["@",N.username]})]}),m.jsx("div",{className:"w-8 h-8 rounded-full border border-[#2c1a12] flex items-center justify-center group-hover:bg-[#c29a67] group-hover:border-[#c29a67] transition-all",children:y===N.id?m.jsx("div",{className:"w-4 h-4 border-2 border-[#efebe9] border-t-transparent rounded-full animate-spin"}):m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover:text-[#0e0d0c]",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]},N.id)),C.length===0&&m.jsx("p",{className:"text-center py-10 text-[#a09a96] italic",children:"No employees found matched your search."})]})}),m.jsx("div",{className:"p-6 bg-[#0e0d0c] border-t border-[#2c1a12]",children:m.jsxs("div",{className:"flex items-center gap-3 opacity-60 grayscale scale-95",children:[m.jsx("img",{src:r.avatar,className:"w-8 h-8 rounded-full"}),m.jsxs("p",{className:"text-xs text-[#a09a96] truncate",children:["Brewing: ",r.content.substring(0,40),"..."]})]})})]})})},vb=({achievement:r,isUnlocked:n=!0})=>{const[s,l]=Z.useState({x:50,y:50}),[c,d]=Z.useState(!1),[f,p]=Z.useState(!1),[g,y]=Z.useState("mouse"),[x,S]=Z.useState(!1),T=Z.useRef(null),C=Z.useRef({x:50,y:50}),N=Z.useRef(null);Z.useEffect(()=>{const V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),$="DeviceOrientationEvent"in window;console.log("Device detection:",{isMobile:V,hasGyro:$,userAgent:navigator.userAgent}),y(V&&$?"gyro":V?"touch":"mouse")},[]),Z.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[c]);const z=async()=>{if(console.log("Requesting gyroscope permission..."),typeof DeviceOrientationEvent.requestPermission=="function")try{const V=await DeviceOrientationEvent.requestPermission();return console.log("iOS permission result:",V),S(V==="granted"),V==="granted"}catch(V){return console.error("Gyroscope permission error:",V),!1}else return console.log("Android - granting permission"),S(!0),!0};Z.useEffect(()=>{if(!c||g!=="gyro"||!x)return;const V=$=>{console.log("Gyro event:",{beta:$.beta,gamma:$.gamma});const we=$.beta||0,Ee=$.gamma||0,wt=Math.max(-45,Math.min(45,we));let Ke=(Math.max(-45,Math.min(45,Ee))+45)/90*100,Kt=(wt+45)/90*100;const ot=.05;C.current.x+=(Ke-C.current.x)*ot,C.current.y+=(Kt-C.current.y)*ot,l({x:C.current.x,y:C.current.y})};return window.addEventListener("deviceorientation",V),()=>window.removeEventListener("deviceorientation",V)},[c,g,x]);const q=Z.useCallback(V=>{if(g!=="mouse"||!c||!T.current)return;const $=T.current.getBoundingClientRect(),we=(V.clientX-$.left)/$.width*100,Ee=(V.clientY-$.top)/$.height*100;l({x:we,y:Ee})},[g,c]),H=V=>{const $=V.touches[0];N.current={x:$.clientX,y:$.clientY,time:Date.now()}},G=async V=>{if(!N.current)return;const $=V.changedTouches[0],we=Math.abs($.clientX-N.current.x),Ee=Math.abs($.clientY-N.current.y),wt=Date.now()-N.current.time,ht=we<10&&Ee<10&&wt<300;console.log("Touch end:",{deltaX:we,deltaY:Ee,deltaTime:wt,isTap:ht}),ht&&(V.preventDefault(),V.stopPropagation(),c?(console.log("Flipping card, current state:",f),p(Ke=>!Ke)):(console.log("Expanding card..."),d(!0),g==="gyro"&&!x&&(console.log("Requesting permission after expansion..."),await z()))),N.current=null},B=async V=>{V.stopPropagation(),c?(console.log("Flipping card (mouse), current state:",f),p($=>!$)):(console.log("Expanding card (mouse)..."),d(!0))},X=V=>{V.stopPropagation(),V.preventDefault(),console.log("Closing card..."),d(!1),p(!1)},ue=V=>{switch(V){case"Legendary":return"text-amber-400 border-amber-500/50 bg-amber-500/10";case"Epic":return"text-purple-400 border-purple-500/50 bg-purple-500/10";case"Rare":return"text-sky-400 border-sky-500/50 bg-sky-500/10";default:return"text-slate-400 border-slate-700 bg-slate-800/50"}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:c?null:T,onClick:g==="mouse"?B:void 0,onTouchStart:g!=="mouse"?H:void 0,onTouchEnd:g!=="mouse"?G:void 0,className:`relative group cursor-pointer w-full aspect-[2/3] rounded-[32px] p-px 
                    transition-all duration-300 ease-out transform hover:-translate-y-2
                    ${n?"":"grayscale opacity-60"}
                    ${c?"opacity-0 pointer-events-none":"opacity-100"}
                `,children:[n&&m.jsx("div",{className:"absolute inset-0 rounded-[32px] transition-opacity duration-500 blur-2xl opacity-0 group-hover:opacity-30 pointer-events-none",style:{backgroundColor:r.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-4 mt-2",children:m.jsx("div",{className:"relative transform scale-90",children:m.jsx("div",{className:"relative drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:r.illustration})})}),m.jsx("div",{className:`absolute top-3 right-3 z-30 px-1.5 py-0.5 rounded-md border text-[8px] font-black uppercase tracking-widest ${ue(r.rarity.charAt(0).toUpperCase()+r.rarity.slice(1))}`,children:r.rarity}),m.jsxs("div",{className:"w-full p-5 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-base font-black text-white mb-1 tracking-tight leading-none uppercase truncate",children:r.name}),m.jsx("p",{className:"text-slate-400 text-[10px] leading-tight mb-3 font-medium min-h-[2.5em] line-clamp-2",children:r.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-800 to-transparent mb-3"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-slate-500 font-bold mb-0.5",children:r.metricLabel}),m.jsx("span",{className:"text-sm font-black text-white",children:r.metricValue})]}),m.jsx("div",{className:"px-2 py-1 rounded-lg border border-white/5 bg-white/5 backdrop-blur-md text-[8px] font-bold uppercase tracking-widest text-slate-400",children:n?`${r.id.substring(0,4)}`:"LOCKED"})]})]})]})]}),c&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",style:{perspective:"1000px"},children:[m.jsx("button",{onClick:g==="mouse"?X:void 0,onTouchEnd:g!=="mouse"?X:void 0,className:"absolute top-6 right-6 z-[60] w-10 h-10 rounded-full bg-white/10 border border-white/20 backdrop-blur-md flex items-center justify-center text-white hover:bg-white/20 transition-all",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{ref:c?T:null,onMouseMove:q,onClick:g==="mouse"?B:void 0,onTouchStart:g!=="mouse"?H:void 0,onTouchEnd:g!=="mouse"?G:void 0,className:"relative w-[85vw] max-w-[400px] aspect-[2/3] cursor-pointer",style:{transformStyle:"preserve-3d",transform:`
                                rotateX(${(s.y-50)/50*-15}deg)
                                rotateY(${(s.x-50)/50*15+(f?180:0)}deg)
                            `,transition:f?"transform 0.2s ease-out":"transform 0.1s ease-out"},children:[m.jsxs("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[m.jsx("div",{className:"absolute inset-0 rounded-[32px] blur-3xl opacity-40 pointer-events-none",style:{backgroundColor:r.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),n&&m.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-100 mix-blend-color-dodge",style:{background:`
                                                radial-gradient(
                                                    circle at ${s.x}% ${s.y}%, 
                                                    rgba(255, 255, 255, ${r.rarity==="legendary"?"0.6":"0.5"}) 0%, 
                                                    transparent 60%
                                                ),
                                                linear-gradient(
                                                    ${s.x+s.y}deg, 
                                                    transparent 0%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(255, 100, 200, 0.3)"} 15%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 200, 255, 0.3)"} 30%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.4)"} 45%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 255, 200, 0.3)"} 60%, 
                                                    ${r.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(200, 100, 255, 0.3)"} 75%, 
                                                    transparent 90%
                                                )
                                            `,backgroundSize:"150% 150%",transition:"background 0.15s ease-out"}}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-8 mt-4",children:m.jsxs("div",{className:"relative transform scale-110",children:[n&&m.jsx("div",{className:"absolute inset-0 blur-3xl opacity-20 bg-white"}),m.jsx("div",{className:"relative drop-shadow-[0_0_25px_rgba(255,255,255,0.2)]",children:r.illustration})]})}),m.jsx("div",{className:`absolute top-4 right-4 z-30 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${ue(r.rarity.charAt(0).toUpperCase()+r.rarity.slice(1))}`,children:r.rarity}),m.jsxs("div",{className:"w-full p-6 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-2 tracking-tight leading-none uppercase",children:r.name}),m.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-4 font-medium",children:r.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-700 to-transparent mb-4"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold mb-1",children:r.metricLabel}),m.jsx("span",{className:"text-lg font-black text-white",children:r.metricValue})]}),m.jsx("div",{className:"px-3 py-1.5 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP"})]})]}),n&&m.jsx("div",{className:"absolute inset-0 pointer-events-none z-30 opacity-30",style:{background:"linear-gradient(115deg, transparent 20%, white 48%, white 52%, transparent 80%)",backgroundSize:"200% 200%",backgroundPosition:`${s.x/100*200-50}%`}})]})]}),m.jsx("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col p-6 shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-20`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-4 tracking-tight uppercase",children:"Badge Details"}),m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Achievement Name"}),m.jsx("span",{className:"text-base font-bold text-white",children:r.name})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Description"}),m.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:r.description})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Rarity"}),m.jsx("span",{className:`text-sm font-bold ${r.rarity==="legendary"?"text-amber-400":r.rarity==="epic"?"text-purple-400":"text-sky-400"}`,children:r.rarity.toUpperCase()})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:r.metricLabel}),m.jsx("span",{className:"text-2xl font-black text-white",children:r.metricValue})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Badge ID"}),m.jsx("span",{className:"text-xs font-mono text-slate-400",children:r.id})]})]}),m.jsx("div",{className:"mt-4 px-3 py-2 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-center text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP BACK"})]})]})})]})]})]})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),q0=r=>{const n=bb(r);return n.charAt(0).toUpperCase()+n.slice(1)},im=(...r)=>r.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),_b=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Z.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:f,...p},g)=>Z.createElement("svg",{ref:g,...wb,width:n,height:n,stroke:r,strokeWidth:l?Number(s)*24/Number(n):s,className:im("lucide",c),...!d&&!_b(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,x])=>Z.createElement(y,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(r,n)=>{const s=Z.forwardRef(({className:l,...c},d)=>Z.createElement(xb,{ref:d,iconNode:n,className:im(`lucide-${yb(q0(r))}`,`lucide-${r}`,l),...c}));return s.displayName=q0(r),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Eb=rt("clapperboard",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],jb=rt("coffee",Tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ob=rt("crown",Ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],kb=rt("flame",Nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Rb=rt("gem",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zb=rt("heart",Ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Mb=rt("landmark",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Bb=rt("medal",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Hb=rt("message-square",qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Vb=rt("mic",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],Yb=rt("orbit",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Xb=rt("pen-tool",Kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Jb=rt("repeat",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ib=rt("smartphone",Zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Pb=rt("sparkles",Wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e1=rt("star",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],a1=rt("target",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],i1=rt("trophy",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],s1=rt("wind",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],o1=rt("zap",l1),ll=[{id:"first_brew",name:"First Brew",description:"Shared your first coffee moment",emoji:"",metricLabel:"Moment",metricValue:"1/1",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ve.createElement(jb,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalBrews>=1,rarity:"common"},{id:"social_butterfly",name:"Social Butterfly",description:"Received 5 sips on your brews",emoji:"",metricLabel:"Sips",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ve.createElement(s1,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalSips>=5,rarity:"common"},{id:"conversationalist",name:"Conversationalist",description:"Received 3 comments",emoji:"",metricLabel:"Replies",metricValue:"3",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ve.createElement(Hb,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalComments>=3,rarity:"common"},{id:"coffee_lover",name:"Coffee Lover",description:"Posted 5 brews",emoji:"",metricLabel:"Brews",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ve.createElement(zb,{className:"w-20 h-20 text-slate-300"}),requirement:r=>r.totalBrews>=5,rarity:"common"},{id:"rising_star",name:"Rising Star",description:"Received 25 sips",emoji:"",metricLabel:"Sips",metricValue:"25",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ve.createElement(e1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalSips>=25,rarity:"rare"},{id:"community_voice",name:"Community Voice",description:"Posted 10 brews",emoji:"",metricLabel:"Brews",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ve.createElement(Vb,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalBrews>=10,rarity:"rare"},{id:"crowd_pleaser",name:"Crowd Pleaser",description:"Received 10 comments",emoji:"",metricLabel:"Applause",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ve.createElement(Eb,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalComments>=10,rarity:"rare"},{id:"share_worthy",name:"Share Worthy",description:"Your brews were shared 5 times",emoji:"",metricLabel:"Echoes",metricValue:"5",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ve.createElement(Jb,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.sharesReceived>=5,rarity:"rare"},{id:"dedicated_barista",name:"Dedicated Barista",description:"Posted 20 brews",emoji:"",metricLabel:"Target",metricValue:"20",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ve.createElement(a1,{className:"w-20 h-20 text-sky-400"}),requirement:r=>r.totalBrews>=20,rarity:"rare"},{id:"espresso_expert",name:"Espresso Expert",description:"Received 50 sips",emoji:"",metricLabel:"Impact",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(i1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalSips>=50,rarity:"epic"},{id:"viral_brew",name:"Viral Brew",description:"Received 100 sips",emoji:"",metricLabel:"Heat",metricValue:"100+",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(kb,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalSips>=100,rarity:"epic"},{id:"engagement_master",name:"Engagement Master",description:"Received 25 comments",emoji:"",metricLabel:"Gems",metricValue:"25",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(Rb,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalComments>=25,rarity:"epic"},{id:"prolific_creator",name:"Prolific Creator",description:"Posted 50 brews",emoji:"",metricLabel:"Folios",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(Xb,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalBrews>=50,rarity:"epic"},{id:"influencer",name:"Influencer",description:"Your brews were shared 15 times",emoji:"",metricLabel:"Ping",metricValue:"15",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(Ib,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.sharesReceived>=15,rarity:"epic"},{id:"triple_threat",name:"Triple Threat",description:"30 brews, 75 sips, and 20 comments",emoji:"",metricLabel:"Power",metricValue:"3X",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ve.createElement(o1,{className:"w-20 h-20 text-purple-400"}),requirement:r=>r.totalBrews>=30&&r.totalSips>=75&&r.totalComments>=20,rarity:"epic"},{id:"coffee_legend",name:"Coffee Legend",description:"Received 200 sips",emoji:"",metricLabel:"Legacy",metricValue:"200+",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ve.createElement(Ob,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalSips>=200,rarity:"legendary"},{id:"master_barista",name:"Master Barista",description:"Posted 100 brews",emoji:"",metricLabel:"Honor",metricValue:"100",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ve.createElement(Bb,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=100,rarity:"legendary"},{id:"community_pillar",name:"Community Pillar",description:"75 brews, 150 sips, and 50 comments",emoji:"",metricLabel:"Status",metricValue:"ELIT",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ve.createElement(Mb,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=75&&r.totalSips>=150&&r.totalComments>=50,rarity:"legendary"},{id:"taste_maker",name:"Taste Maker",description:"Your brews were shared 30 times",emoji:"",metricLabel:"Spark",metricValue:"30",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ve.createElement(Pb,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.sharesReceived>=30,rarity:"legendary"},{id:"wavegram_elite",name:"Wavegram Elite",description:"100 brews, 250 sips, 75 comments, and 25 shares",emoji:"",metricLabel:"Cosmos",metricValue:"",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ve.createElement(Yb,{className:"w-20 h-20 text-amber-400"}),requirement:r=>r.totalBrews>=100&&r.totalSips>=250&&r.totalComments>=75&&r.sharesReceived>=25,rarity:"legendary"}],u1=r=>ll.filter(n=>n.requirement(r)),c1=()=>{const[r,n]=Z.useState(null),[s,l]=Z.useState(null),[c,d]=Z.useState([]),[f,p]=Z.useState(!0),[g,y]=Z.useState(ve.HOME),[x,S]=Z.useState(!1),[T,C]=Z.useState(null),[N,z]=Z.useState(null),[q,H]=Z.useState(null),[G,B]=Z.useState(""),[X,ue]=Z.useState([]),[V,$]=Z.useState(!1),[we,Ee]=Z.useState(null),[wt,ht]=Z.useState("brews"),[Ke,Kt]=Z.useState(!1),[ot,Tt]=Z.useState(0),[U,Y]=Z.useState(!1),[ee,Te]=Z.useState(0),[Ce,w]=Z.useState(parseInt(localStorage.getItem("lastViewedInteractions")||"0",10)),L=Ve.useRef(Ce),K=Ve.useRef(0);Z.useEffect(()=>{if(localStorage.getItem("bc_mock_session")==="training_team_active"){n({user:{id:"77777777-7777-7777-7777-777777777777"}}),l({id:"77777777-7777-7777-7777-777777777777",username:"twc_training",name:"TWC Training Team",avatar:"https://api.dicebear.com/7.x/identicon/svg?seed=training",verified:!0});return}_e.auth.getSession().then(({data:{session:fe}})=>{n(fe),fe&&Q(fe.user.id)});const{data:{subscription:he}}=_e.auth.onAuthStateChange((fe,me)=>{n(me),me?Q(me.user.id):l(null)});return()=>he.unsubscribe()},[]);const Q=async re=>{const{data:he,error:fe}=await _e.from("profiles").select("*").eq("id",re).single();fe?console.error("Error fetching profile:",fe):he&&l({id:he.id,username:he.username,name:he.full_name,avatar:he.avatar_url,verified:!0})},se=async()=>{Y(!0)},de=async()=>{localStorage.removeItem("bc_mock_session"),await _e.auth.signOut(),n(null),l(null),Y(!1)},je=re=>{y(ve.HOME),Ee(re),setTimeout(()=>{const he=document.getElementById(`post-${re}`);he&&he.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>Ee(null),3e3)},100)},Le=Z.useCallback(async(re=!1)=>{re||p(!0);const{data:he,error:fe}=await _e.from("posts").select(`
        *,
        profiles (
          full_name,
          username,
          avatar_url
        ),
        comments (
          id,
          content,
          created_at,
          user_id,
          avatar,
          username
        ),
        likes (user_id),
        shares (id, sender_id, receiver_id)
      `).order("created_at",{ascending:!1});if(fe)console.error("Error fetching posts:",fe),d(kp);else if(he){const me=he.map(Se=>{var ua;return{id:Se.id,userId:Se.user_id,username:((ua=Se.profiles)==null?void 0:ua.full_name)||Se.username||"Unknown Barista",avatar:Se.avatar,content:Se.content,image:Se.image,likes:Se.likes_count,shares:(Se.shares||[]).length,createdAt:new Date(Se.created_at).toLocaleDateString(),isLiked:(Se.likes||[]).some(St=>St.user_id===(s==null?void 0:s.id)),comments:Se.comments.map(St=>({id:St.id,userId:St.user_id,username:St.username,avatar:St.avatar,content:St.content,createdAt:new Date(St.created_at).toLocaleDateString(),likes:0}))}});d(me),Ut()}p(!1)},[s]);Z.useEffect(()=>{Le()},[Le]),Z.useEffect(()=>{if(!s)return;console.log("Setting up real-time subscriptions...");const re=_e.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},me=>{console.log("Posts change detected:",me),Le()}).subscribe(),he=_e.channel("comments-changes").on("postgres_changes",{event:"*",schema:"public",table:"comments"},me=>{console.log("Comments change detected:",me),Le()}).subscribe(),fe=_e.channel("likes-changes").on("postgres_changes",{event:"*",schema:"public",table:"likes"},me=>{console.log("Likes change detected:",me),Le()}).subscribe();return()=>{console.log("Cleaning up real-time subscriptions..."),re.unsubscribe(),he.unsubscribe(),fe.unsubscribe()}},[s,Le]),Z.useEffect(()=>{g===ve.POST&&(S(!0),y(ve.HOME)),g===ve.ACTIVITY&&Ut()},[g]);const Ge=async re=>{if(!s)return;const he=c.find(me=>me.id===re);if(!he)return;const fe=!he.isLiked;d(me=>me.map(Se=>Se.id===re?{...Se,isLiked:fe,likes:fe?Se.likes+1:Math.max(0,Se.likes-1)}:Se)),fe?(await _e.from("likes").insert({post_id:re,user_id:s.id}),await _e.rpc("increment_likes",{post_id_val:re})):(await _e.from("likes").delete().eq("post_id",re).eq("user_id",s.id),await _e.rpc("decrement_likes",{post_id_val:re}))},cn=async(re,he)=>{if(!s)return;const{error:fe}=await _e.from("posts").insert([{user_id:s.id,username:s.username,avatar:s.avatar,content:re,image:he,likes_count:0}]);fe?(console.error("FAILED_TO_CREATE_POST",fe),alert(`Failed to share your brew: ${fe.message}`)):(Le(),S(!1))},Mn=async(re,he)=>{if(!q||!s)return;const{error:fe}=await _e.from("posts").update({content:re,image:he||q.image}).eq("id",q.id);fe?(console.error("FAILED_TO_UPDATE_POST",fe),alert(`Failed to update your brew: ${fe.message}`)):(Le(),H(null))},Ln=async re=>{if(s&&window.confirm("Are you sure you want to delete this brew? This cannot be undone."))try{const{error:he}=await _e.from("shares").delete().eq("post_id",re);he&&console.warn("App: Error deleting shares (might be empty, ignoring):",he);const{error:fe}=await _e.from("likes").delete().eq("post_id",re);fe&&console.warn("App: Error deleting likes (might be empty, ignoring):",fe);const{error:me}=await _e.from("comments").delete().eq("post_id",re);me&&console.warn("App: Error deleting comments (might be empty, ignoring):",me);const{error:Se}=await _e.from("posts").delete().eq("id",re).eq("user_id",s.id);if(Se)throw Se;d(ua=>ua.filter(St=>St.id!==re)),Le(),Ut()}catch(he){console.error("FAILED_TO_DELETE_POST",he),alert(`Failed to delete your brew. Error: ${he.message}`)}},qr=async()=>{if(!T||!G.trim()||!s)return;const{error:re}=await _e.from("comments").insert([{post_id:T.id,user_id:s.id,username:s.username,avatar:s.avatar,content:G}]);re?(console.error("FAILED_TO_ADD_COMMENT",re),alert(`Failed to post your reply: ${re.message}`)):(B(""),C(null),Le(),Ut())},Ut=async()=>{if(s){$(!0);try{const{data:re,error:he}=await _e.from("posts").select("id, content").eq("user_id",s.id);if(he)throw he;if(!re||re.length===0){ue([]),$(!1);return}const fe=re.map(ie=>ie.id),me=re.reduce((ie,Ie)=>({...ie,[Ie.id]:Ie.content}),{}),{data:Se,error:ua}=await _e.from("shares").select("*").eq("receiver_id",s.id),ut=(Se||[]).map(ie=>ie.post_id).filter(ie=>!me[ie]);if(ut.length>0){const{data:ie}=await _e.from("posts").select("id, content").in("id",ut);(ie||[]).forEach(Ie=>{me[Ie.id]=Ie.content})}const{data:Di,error:Hr}=await _e.from("likes").select("*").in("post_id",fe),{data:ca,error:da}=await _e.from("comments").select("*").in("post_id",fe),ne=[...new Set([...(Di||[]).map(ie=>ie.user_id),...(ca||[]).map(ie=>ie.user_id),...(Se||[]).map(ie=>ie.sender_id)])];let ke={};if(ne.length>0){const{data:ie}=await _e.from("profiles").select("*").in("id",ne);ke=(ie||[]).reduce((Ie,Fe)=>({...Ie,[Fe.id]:Fe}),{})}const ha=[];let dn=0;const aa=(ie,Ie,Fe,ml)=>{if(Fe===s.id)return;const gl=!!ie.created_at,$r=new Date(ie.created_at||0);gl&&$r.getTime()>L.current&&dn++;const ft=ke[Fe];ha.push({id:`${Ie}-${ie.id}`,type:Ie,actorName:(ft==null?void 0:ft.full_name)||(ft==null?void 0:ft.username)||"A barista",actorUsername:(ft==null?void 0:ft.username)||"unknown",actorAvatar:(ft==null?void 0:ft.avatar_url)||`https://api.dicebear.com/7.x/identicon/svg?seed=${Fe}`,postContent:me[ie.post_id]||"your brew",postId:ie.post_id,timestamp:$r,content:ml})};(Se||[]).forEach(ie=>aa(ie,"share",ie.sender_id)),(Di||[]).forEach(ie=>aa(ie,"like",ie.user_id)),(ca||[]).forEach(ie=>aa(ie,"comment",ie.user_id,ie.content)),ue(ha.sort((ie,Ie)=>Ie.timestamp.getTime()-ie.timestamp.getTime())),g===ve.ACTIVITY?Te(0):Te(dn)}catch(re){console.error("FAILED_TO_FETCH_ACTIVITY",re)}finally{$(!1)}}},Ui=()=>{if(f&&g===ve.HOME)return m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium animate-pulse",children:"Frothing the milk..."})]})});switch(g){case ve.HOME:const re=ne=>{ne.currentTarget.scrollTop===0&&(K.current=ne.touches[0].clientY)},he=ne=>{if(ne.currentTarget.scrollTop===0&&K.current>0){const dn=ne.touches[0].clientY-K.current,aa=Math.max(0,Math.min(Math.log10(1+dn/100)*150,120));Tt(aa),dn>10&&ne.cancelable&&ne.preventDefault()}},fe=async ne=>{ot>70&&!Ke&&(Kt(!0),await Promise.all([Le(!0),Ut()]),setTimeout(()=>Kt(!1),800)),Tt(0),K.current=0};return m.jsxs("div",{className:"flex-1 flex flex-col items-center overflow-y-auto",onTouchStart:re,onTouchMove:he,onTouchEnd:fe,children:[m.jsx("div",{className:"w-full max-w-2xl flex justify-center overflow-hidden transition-all duration-300 ease-out",style:{height:Ke?"60px":`${ot}px`,opacity:Ke?1:Math.min(ot/80,1)},children:m.jsx("div",{className:"flex items-center gap-2 text-[#c29a67]",children:Ke?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-bold",children:"Refreshing..."})]}):ot>80?m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),m.jsx("span",{className:"text-sm font-bold",children:"Release to refresh"})]}):ot>0?m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),m.jsx("span",{className:"text-sm font-bold",children:"Pull to refresh"})]}):null})}),m.jsxs("div",{className:"p-6 pt-16 border-b border-[#2c1a12] flex items-center justify-between sticky top-0 bg-[#0e0d0c]/98 backdrop-blur-xl z-50 w-full max-w-2xl shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[m.jsx("h1",{className:"text-2xl font-black text-[#efebe9] tracking-tighter",children:"Daily Brews"}),m.jsx("div",{className:"px-3 py-1 bg-[#c29a67]/10 text-[#c29a67] rounded-full text-[10px] font-black uppercase tracking-widest border border-[#c29a67]/20",children:"Barista's Choice"})]}),m.jsxs("div",{className:"w-full max-w-2xl px-4 py-8 space-y-8 pb-32",children:[m.jsx(fb,{currentUser:s}),m.jsx("div",{className:"space-y-0",children:c.map(ne=>m.jsx("div",{id:`post-${ne.id}`,className:`transition-all duration-300 ${we===ne.id?"ring-2 ring-[#c29a67] ring-offset-2 ring-offset-[#0e0d0c] rounded-3xl":""}`,children:m.jsx(m0,{post:ne,isOwner:ne.userId===s.id,onLike:Ge,onComment:ke=>C(ke),onShare:ke=>z(ke),onEdit:ke=>H(ke),onDelete:Ln})},ne.id))})]})]});case ve.PROFILE:const me=c.filter(ne=>ne.userId===s.id),Se=me.length,ua=me.reduce((ne,ke)=>ne+(ke.likes||0),0),St=me.reduce((ne,ke)=>{var ha;return ne+(((ha=ke.comments)==null?void 0:ha.length)||0)},0),ut=me.reduce((ne,ke)=>ne+(ke.shares||0),0),ca=u1({totalBrews:Se,totalSips:ua,totalComments:St,totalShares:0,sharesReceived:ut}),da=ll.find(ne=>!ca.some(ke=>ke.id===ne.id));return m.jsx("div",{className:"flex-1 flex flex-col items-center",children:m.jsxs("div",{className:"w-full max-w-2xl px-4 py-12",children:[m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[#efebe9]",children:s.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[m.jsxs("span",{className:"text-[#a09a96]",children:["@",s.username]}),m.jsx("span",{className:"px-2 py-0.5 bg-[#c29a67]/10 text-[#c29a67] text-[10px] font-bold rounded-full border border-[#c29a67]/20 uppercase tracking-wider",children:"Verified Barista"})]})]}),m.jsx("img",{src:s.avatar,className:"w-20 h-20 rounded-full border-2 border-[#c29a67]/20"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[m.jsxs("div",{onClick:()=>ht("brews"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 ${wt==="brews"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:`text-xl font-bold ${wt==="brews"?"text-[#c29a67]":"text-[#efebe9]"}`,children:Se}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Brews"})]}),m.jsxs("div",{className:"bg-[#1a1817] p-4 rounded-2xl border border-[#2c1a12] text-center opacity-50 cursor-not-allowed",children:[m.jsx("div",{className:"text-xl font-bold text-[#efebe9]",children:ua}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Sips"})]}),m.jsxs("div",{onClick:()=>ht("badges"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 bg-gradient-to-br from-[#c29a67]/10 to-transparent ${wt==="badges"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:"text-xl font-bold text-[#c29a67]",children:ca.length}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Badges"})]})]}),wt==="badges"?m.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("h3",{className:"text-[#efebe9] font-bold mb-4 flex items-center gap-2",children:[m.jsx("span",{children:" Earned Achievements"}),m.jsxs("span",{className:"text-xs font-normal text-[#a09a96] bg-[#2c1a12] px-2 py-1 rounded-full",children:[ca.length," / ",ll.length]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:ll.map(ne=>{const ke=ca.some(ha=>ha.id===ne.id);return m.jsx("div",{className:"flex justify-center w-full",children:m.jsx("div",{className:"w-full max-w-[280px]",children:m.jsx(vb,{achievement:ne,isUnlocked:ke})})},ne.id)})}),da&&m.jsxs("div",{className:"mt-6 bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12] flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0e0d0c] border border-[#2c1a12] flex items-center justify-center opacity-50 text-2xl grayscale",children:da.emoji}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[#a09a96] text-xs uppercase font-bold tracking-widest mb-0.5",children:"Next Goal"}),m.jsx("p",{className:"text-[#efebe9] font-bold text-sm",children:da.name}),m.jsx("p",{className:"text-[#a09a96] text-xs",children:da.description})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-b border-[#2c1a12] flex mb-6",children:[m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#c29a67] border-b-2 border-[#c29a67]",children:"Your Brews"}),m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#a09a96]/50 cursor-not-allowed",children:"Sips"})]}),m.jsxs("div",{className:"space-y-6 w-full pb-32",children:[me.map(ne=>m.jsx(m0,{post:ne,isOwner:!0,onLike:Ge,onComment:ke=>C(ke),onShare:ke=>z(ke),onEdit:ke=>H(ke),onDelete:Ln},ne.id)),me.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-[#a09a96] mb-4",children:"You haven't brewed anything yet."}),m.jsx("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-[#c29a67] text-[#0e0d0c] font-bold rounded-xl hover:bg-[#d4aa7d] transition-colors",children:"Brew your first cup"})]})]})]})]})});case ve.ACTIVITY:return m.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[m.jsxs("div",{className:"p-6 pt-16 border-b border-[#2c1a12] flex items-center justify-between sticky top-0 bg-[#0e0d0c]/98 backdrop-blur-xl z-50 w-full max-w-2xl shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[m.jsx("h1",{className:"text-2xl font-black text-[#efebe9] tracking-tighter",children:"Interactions"}),m.jsx("div",{className:"px-3 py-1 bg-[#c29a67]/10 text-[#c29a67] rounded-full text-[10px] font-black uppercase tracking-widest border border-[#c29a67]/20",children:"Latest Taps"})]}),m.jsx("div",{className:"w-full max-w-2xl px-4 py-8 space-y-4 pb-32",children:V?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium",children:"Checking the office buzz..."})]}):X.length===0?m.jsx("div",{className:"text-center py-20 bg-[#1a1817]/30 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm",children:m.jsx("p",{className:"text-[#a09a96] font-medium italic",children:"No office buzz yet. Share a brew to get the conversation started! "})}):X.map(ne=>m.jsx("div",{onClick:()=>je(ne.postId),className:"bg-[#1a1817]/40 p-5 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm hover:border-[#c29a67]/30 transition-all group cursor-pointer active:scale-[0.98]",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:ne.actorAvatar,className:"w-12 h-12 rounded-2xl border border-[#2c1a12] shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("p",{className:"text-[#efebe9] font-bold text-sm truncate",children:[ne.actorName,m.jsx("span",{className:"text-[#a09a96] font-medium ml-2",children:ne.type==="like"?"sipped your brew":ne.type==="comment"?"replied to you":"shared a brew with you"})]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider shrink-0",children:ne.timestamp.toLocaleDateString()})]}),ne.type==="comment"&&m.jsxs("p",{className:"text-[#efebe9]/80 text-sm mb-3 line-clamp-2 bg-[#0e0d0c]/40 p-3 rounded-xl border border-[#2c1a12]/30 italic",children:['"',ne.content,'"']}),m.jsxs("p",{className:"text-[11px] text-[#a09a96] truncate",children:["On: ",m.jsx("span",{className:"text-[#c29a67]/70 italic",children:ne.postContent})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2 bg-[#2c1a12]/30 rounded-xl group-hover:bg-[#c29a67]/10 transition-colors",children:ne.type==="like"?m.jsx("svg",{className:"w-5 h-5 text-[#ff4b4b]",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):ne.type==="comment"?m.jsx("svg",{className:"w-5 h-5 text-[#c29a67]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}):m.jsx("svg",{className:"w-5 h-5 text-[#efebe9]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]})},ne.id))})]});default:return m.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-neutral-500",children:m.jsx("p",{className:"text-lg",children:"Coming soon..."})})}};if(!r||!s)return m.jsx(gb,{});return m.jsxs(Rp,{activeTab:g,setActiveTab:zi,onLogout:se,unreadCount:ee,children:[Ui(),x&&s&&m.jsx(B0,{user:s,onClose:()=>S(!1),onSubmit:cn}),q&&s&&m.jsx(B0,{user:s,initialData:{content:q.content,image:q.image},onClose:()=>H(null),onSubmit:Mn}),T&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-3xl border border-[#2c1a12] flex flex-col max-h-[90vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-[#2c1a12] flex items-center justify-between bg-[#1a1817]",children:[m.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Reply to Brew"}),m.jsx("button",{onClick:()=>C(null),className:"p-2 hover:bg-[#2c1a12] rounded-full transition-colors text-[#a09a96] hover:text-[#efebe9]",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-[#1a1817]",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:T.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-[#efebe9]",children:["@",T.username]}),m.jsx("div",{className:"mt-2 text-[#efebe9]/80 leading-relaxed",children:T.content})]})]}),m.jsxs("div",{className:"mt-8 flex gap-4",children:[m.jsx("img",{src:s.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsx("textarea",{autoFocus:!0,value:G,onChange:re=>B(re.target.value),placeholder:"Share your thoughts on this brew...",className:"flex-1 bg-transparent border-none focus:ring-0 text-[17px] resize-none min-h-[120px] p-0 placeholder-[#a09a96]/50 text-[#efebe9]"})]})]}),m.jsx("div",{className:"p-5 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsx("button",{onClick:qr,disabled:!G.trim(),className:"bg-[#efebe9] text-[#0e0d0c] font-black px-8 py-3 rounded-xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-lg active:scale-95",children:"Sip Together"})})]})}),N&&m.jsx(pb,{post:N,currentUser:s,onClose:()=>z(null)}),U&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-6 z-[100] animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-[#1a1817] w-full max-w-sm rounded-[2.5rem] border border-[#2c1a12] p-8 shadow-2xl overflow-hidden transform animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:m.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),m.jsx("h3",{className:"text-xl font-bold text-[#efebe9] mb-2 tracking-tight",children:"Closing the Lounge?"}),m.jsx("p",{className:"text-[#a09a96] text-sm leading-relaxed mb-8",children:"Are you sure you want to log out of your session? You'll need to sign back in to see the latest brews."}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{onClick:()=>Y(!1),className:"bg-[#2c1a12]/50 text-[#efebe9] font-bold py-4 rounded-2xl hover:bg-[#2c1a12] transition-all active:scale-95 border border-white/5",children:"Wait, stay"}),m.jsx("button",{onClick:de,className:"bg-red-500 text-white font-bold py-4 rounded-2xl hover:bg-red-600 transition-all active:scale-95 shadow-lg shadow-red-500/20",children:"Yes, logout"})]})]})})})]});function zi(re){if(re===ve.ACTIVITY){Te(0);const he=X.length>0?Math.max(...X.map(Se=>Se.timestamp.getTime())):0,fe=Date.now(),me=Math.max(fe,he);w(me),L.current=me,localStorage.setItem("lastViewedInteractions",me.toString())}y(re)}},rm=document.getElementById("root");if(!rm)throw new Error("Could not find root element to mount to");const d1=Np.createRoot(rm);d1.render(m.jsx(Ve.StrictMode,{children:m.jsx(c1,{})}));
