(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function F0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Uu={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Cp(){if(d0)return Ds;d0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:s,type:l,key:h,ref:c!==void 0?c:null,props:d}}return Ds.Fragment=n,Ds.jsx=i,Ds.jsxs=i,Ds}var h0;function Rp(){return h0||(h0=1,Uu.exports=Cp()),Uu.exports}var m=Rp(),Du={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Up(){if(f0)return de;f0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function N(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,z={};function H(E,q,K){this.props=E,this.context=q,this.refs=z,this.updater=K||T}H.prototype.isReactComponent={},H.prototype.setState=function(E,q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,q,"setState")},H.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function G(){}G.prototype=H.prototype;function B(E,q,K){this.props=E,this.context=q,this.refs=z,this.updater=K||T}var X=B.prototype=new G;X.constructor=B,C(X,H.prototype),X.isPureReactComponent=!0;var ue=Array.isArray;function V(){}var $={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function le(E,q,K){var I=K.ref;return{$$typeof:s,type:E,key:q,ref:I!==void 0?I:null,props:K}}function Be(E,q){return le(E.type,q,E.props)}function He(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Te(E){var q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return q[K]})}var Ke=/\/+/g;function lt(E,q){return typeof E=="object"&&E!==null&&E.key!=null?Te(""+E.key):q.toString(36)}function ot(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(V,V):(E.status="pending",E.then(function(q){E.status==="pending"&&(E.status="fulfilled",E.value=q)},function(q){E.status==="pending"&&(E.status="rejected",E.reason=q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,q,K,I,ce){var pe=typeof E;(pe==="undefined"||pe==="boolean")&&(E=null);var Ee=!1;if(E===null)Ee=!0;else switch(pe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(E.$$typeof){case s:case n:Ee=!0;break;case w:return Ee=E._init,U(Ee(E._payload),q,K,I,ce)}}if(Ee)return ce=ce(E),Ee=I===""?"."+lt(E,0):I,ue(ce)?(K="",Ee!=null&&(K=Ee.replace(Ke,"$&/")+"/"),U(ce,q,K,"",function(gn){return gn})):ce!=null&&(He(ce)&&(ce=Be(ce,K+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(Ke,"$&/")+"/")+Ee)),q.push(ce)),1;Ee=0;var dt=I===""?".":I+":";if(ue(E))for(var Je=0;Je<E.length;Je++)I=E[Je],pe=dt+lt(I,Je),Ee+=U(I,q,K,pe,ce);else if(Je=N(E),typeof Je=="function")for(E=Je.call(E),Je=0;!(I=E.next()).done;)I=I.value,pe=dt+lt(I,Je++),Ee+=U(I,q,K,pe,ce);else if(pe==="object"){if(typeof E.then=="function")return U(ot(E),q,K,I,ce);throw q=String(E),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(E,q,K){if(E==null)return E;var I=[],ce=0;return U(E,I,"","",function(pe){return q.call(K,pe,ce++)}),I}function te(E){if(E._status===-1){var q=E._result;q=q(),q.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=q)}if(E._status===1)return E._result.default;throw E._result}var ke=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Re={map:Y,forEach:function(E,q,K){Y(E,function(){q.apply(this,arguments)},K)},count:function(E){var q=0;return Y(E,function(){q++}),q},toArray:function(E){return Y(E,function(q){return q})||[]},only:function(E){if(!He(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return de.Activity=x,de.Children=Re,de.Component=H,de.Fragment=i,de.Profiler=c,de.PureComponent=B,de.StrictMode=l,de.Suspense=p,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,de.__COMPILER_RUNTIME={__proto__:null,c:function(E){return $.H.useMemoCache(E)}},de.cache=function(E){return function(){return E.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(E,q,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var I=C({},E.props),ce=E.key;if(q!=null)for(pe in q.key!==void 0&&(ce=""+q.key),q)!ne.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(I[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)I.children=K;else if(1<pe){for(var Ee=Array(pe),dt=0;dt<pe;dt++)Ee[dt]=arguments[dt+2];I.children=Ee}return le(E.type,ce,I)},de.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},de.createElement=function(E,q,K){var I,ce={},pe=null;if(q!=null)for(I in q.key!==void 0&&(pe=""+q.key),q)ne.call(q,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ce[I]=q[I]);var Ee=arguments.length-2;if(Ee===1)ce.children=K;else if(1<Ee){for(var dt=Array(Ee),Je=0;Je<Ee;Je++)dt[Je]=arguments[Je+2];ce.children=dt}if(E&&E.defaultProps)for(I in Ee=E.defaultProps,Ee)ce[I]===void 0&&(ce[I]=Ee[I]);return le(E,pe,ce)},de.createRef=function(){return{current:null}},de.forwardRef=function(E){return{$$typeof:g,render:E}},de.isValidElement=He,de.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:te}},de.memo=function(E,q){return{$$typeof:y,type:E,compare:q===void 0?null:q}},de.startTransition=function(E){var q=$.T,K={};$.T=K;try{var I=E(),ce=$.S;ce!==null&&ce(K,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(V,ke)}catch(pe){ke(pe)}finally{q!==null&&K.types!==null&&(q.types=K.types),$.T=q}},de.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},de.use=function(E){return $.H.use(E)},de.useActionState=function(E,q,K){return $.H.useActionState(E,q,K)},de.useCallback=function(E,q){return $.H.useCallback(E,q)},de.useContext=function(E){return $.H.useContext(E)},de.useDebugValue=function(){},de.useDeferredValue=function(E,q){return $.H.useDeferredValue(E,q)},de.useEffect=function(E,q){return $.H.useEffect(E,q)},de.useEffectEvent=function(E){return $.H.useEffectEvent(E)},de.useId=function(){return $.H.useId()},de.useImperativeHandle=function(E,q,K){return $.H.useImperativeHandle(E,q,K)},de.useInsertionEffect=function(E,q){return $.H.useInsertionEffect(E,q)},de.useLayoutEffect=function(E,q){return $.H.useLayoutEffect(E,q)},de.useMemo=function(E,q){return $.H.useMemo(E,q)},de.useOptimistic=function(E,q){return $.H.useOptimistic(E,q)},de.useReducer=function(E,q,K){return $.H.useReducer(E,q,K)},de.useRef=function(E){return $.H.useRef(E)},de.useState=function(E){return $.H.useState(E)},de.useSyncExternalStore=function(E,q,K){return $.H.useSyncExternalStore(E,q,K)},de.useTransition=function(){return $.H.useTransition()},de.version="19.2.3",de}var m0;function lc(){return m0||(m0=1,Du.exports=Up()),Du.exports}var J=lc();const Ye=F0(J);var zu={exports:{}},zs={},Mu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Dp(){return g0||(g0=1,(function(s){function n(U,Y){var te=U.length;U.push(Y);e:for(;0<te;){var ke=te-1>>>1,Re=U[ke];if(0<c(Re,Y))U[ke]=Y,U[te]=Re,te=ke;else break e}}function i(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var Y=U[0],te=U.pop();if(te!==Y){U[0]=te;e:for(var ke=0,Re=U.length,E=Re>>>1;ke<E;){var q=2*(ke+1)-1,K=U[q],I=q+1,ce=U[I];if(0>c(K,te))I<Re&&0>c(ce,K)?(U[ke]=ce,U[I]=te,ke=I):(U[ke]=K,U[q]=te,ke=q);else if(I<Re&&0>c(ce,te))U[ke]=ce,U[I]=te,ke=I;else break e}}return Y}function c(U,Y){var te=U.sortIndex-Y.sortIndex;return te!==0?te:U.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var p=[],y=[],w=1,x=null,_=3,N=!1,T=!1,C=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(U){for(var Y=i(y);Y!==null;){if(Y.callback===null)l(y);else if(Y.startTime<=U)l(y),Y.sortIndex=Y.expirationTime,n(p,Y);else break;Y=i(y)}}function ue(U){if(C=!1,X(U),!T)if(i(p)!==null)T=!0,V||(V=!0,Te());else{var Y=i(y);Y!==null&&ot(ue,Y.startTime-U)}}var V=!1,$=-1,ne=5,le=-1;function Be(){return z?!0:!(s.unstable_now()-le<ne)}function He(){if(z=!1,V){var U=s.unstable_now();le=U;var Y=!0;try{e:{T=!1,C&&(C=!1,G($),$=-1),N=!0;var te=_;try{t:{for(X(U),x=i(p);x!==null&&!(x.expirationTime>U&&Be());){var ke=x.callback;if(typeof ke=="function"){x.callback=null,_=x.priorityLevel;var Re=ke(x.expirationTime<=U);if(U=s.unstable_now(),typeof Re=="function"){x.callback=Re,X(U),Y=!0;break t}x===i(p)&&l(p),X(U)}else l(p);x=i(p)}if(x!==null)Y=!0;else{var E=i(y);E!==null&&ot(ue,E.startTime-U),Y=!1}}break e}finally{x=null,_=te,N=!1}Y=void 0}}finally{Y?Te():V=!1}}}var Te;if(typeof B=="function")Te=function(){B(He)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,lt=Ke.port2;Ke.port1.onmessage=He,Te=function(){lt.postMessage(null)}}else Te=function(){H(He,0)};function ot(U,Y){$=H(function(){U(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var te=_;_=Y;try{return U()}finally{_=te}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=_;_=U;try{return Y()}finally{_=te}},s.unstable_scheduleCallback=function(U,Y,te){var ke=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ke+te:ke):te=ke,U){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=te+Re,U={id:w++,callback:Y,priorityLevel:U,startTime:te,expirationTime:Re,sortIndex:-1},te>ke?(U.sortIndex=te,n(y,U),i(p)===null&&U===i(y)&&(C?(G($),$=-1):C=!0,ot(ue,te-ke))):(U.sortIndex=Re,n(p,U),T||N||(T=!0,V||(V=!0,Te()))),U},s.unstable_shouldYield=Be,s.unstable_wrapCallback=function(U){var Y=_;return function(){var te=_;_=Y;try{return U.apply(this,arguments)}finally{_=te}}}})(Lu)),Lu}var p0;function zp(){return p0||(p0=1,Mu.exports=Dp()),Mu.exports}var Bu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function Mp(){if(v0)return Et;v0=1;var s=lc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:p,containerInfo:y,implementation:w}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Et.createPortal=function(p,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,w)},Et.flushSync=function(p){var y=h.T,w=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=y,l.p=w,l.d.f()}},Et.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},Et.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Et.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var w=y.as,x=g(w,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:N}):w==="script"&&l.d.X(p,{crossOrigin:x,integrity:_,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Et.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=g(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},Et.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=g(w,y.crossOrigin);l.d.L(p,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Et.preloadModule=function(p,y){if(typeof p=="string")if(y){var w=g(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},Et.requestFormReset=function(p){l.d.r(p)},Et.unstable_batchedUpdates=function(p,y){return p(y)},Et.useFormState=function(p,y,w){return h.H.useFormState(p,y,w)},Et.useFormStatus=function(){return h.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var y0;function Lp(){if(y0)return Bu.exports;y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Bu.exports=Mp(),Bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Bp(){if(b0)return zs;b0=1;var s=zp(),n=lc(),i=Lp();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==r.return)a=o,r=u;else{for(var f=!1,v=o.child;v;){if(v===a){f=!0,a=o,r=u;break}if(v===r){f=!0,r=o,a=u;break}v=v.sibling}if(!f){for(v=u.child;v;){if(v===a){f=!0,a=u,r=o;break}if(v===r){f=!0,r=u,a=o;break}v=v.sibling}if(!f)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Symbol.for("react.client.reference");function lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case V:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case B:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:lt(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return lt(e(t))}catch{}}return null}var ot=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ke=[],Re=-1;function E(e){return{current:e}}function q(e){0>Re||(e.current=ke[Re],ke[Re]=null,Re--)}function K(e,t){Re++,ke[Re]=e.current,e.current=t}var I=E(null),ce=E(null),pe=E(null),Ee=E(null);function dt(e,t){switch(K(pe,t),K(ce,e),K(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Df(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Df(t),e=zf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(I),K(I,e)}function Je(){q(I),q(ce),q(pe)}function gn(e){e.memoizedState!==null&&K(Ee,e);var t=I.current,a=zf(t,e.type);t!==a&&(K(ce,e),K(I,a))}function Hn(e){ce.current===e&&(q(I),q(ce)),Ee.current===e&&(q(Ee),ks._currentValue=te)}var $n,jt;function ha(e){if($n===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);$n=t&&t[1]||"",jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+e+jt}var Hr=!1;function $r(e,t){if(!e||Hr)return"";Hr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(R){var k=R}Reflect.construct(e,[],L)}else{try{L.call()}catch(R){k=R}e.call(L.prototype)}}else{try{throw Error()}catch(R){k=R}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(R){if(R&&k&&typeof R.stack=="string")return[R.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),f=u[0],v=u[1];if(f&&v){var b=f.split(`
`),O=v.split(`
`);for(o=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(r===b.length||o===O.length)for(r=b.length-1,o=O.length-1;1<=r&&0<=o&&b[r]!==O[o];)o--;for(;1<=r&&0<=o;r--,o--)if(b[r]!==O[o]){if(r!==1||o!==1)do if(r--,o--,0>o||b[r]!==O[o]){var D=`
`+b[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=o);break}}}finally{Hr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ha(a):""}function Xs(e,t){switch(e.tag){case 26:case 27:case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return e.child!==t&&t!==null?ha("Suspense Fallback"):ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return ha("Activity");default:return""}}function Js(e){try{var t="",a=null;do t+=Xs(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ba=Object.prototype.hasOwnProperty,Vr=s.unstable_scheduleCallback,Gr=s.unstable_cancelCallback,bl=s.unstable_shouldYield,F=s.unstable_requestPaint,ee=s.unstable_now,ye=s.unstable_getCurrentPriorityLevel,Ae=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,mt=s.unstable_NormalPriority,xt=s.unstable_LowPriority,Ha=s.unstable_IdlePriority,Vn=s.log,pn=s.unstable_setDisableYieldValue,Lt=null,St=null;function P(e){if(typeof Vn=="function"&&pn(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Lt,e)}catch{}}var oe=Math.clz32?Math.clz32:ma,At=Math.log,fa=Math.LN2;function ma(e){return e>>>=0,e===0?32:31-(At(e)/fa|0)|0}var he=256,et=262144,Ot=4194304;function It(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gn(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~u,r!==0?o=It(r):(f&=v,f!==0?o=It(f):a||(a=v&~e,a!==0&&(o=It(a))))):(v=r&~u,v!==0?o=It(v):f!==0?o=It(f):a||(a=r&~e,a!==0&&(o=It(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function $a(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var e=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),e}function wl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bm(e,t,a,r,o,u){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,O=e.hiddenUpdates;for(a=f&~a;0<a;){var D=31-oe(a),L=1<<D;v[D]=0,b[D]=-1;var k=O[D];if(k!==null)for(O[D]=null,D=0;D<k.length;D++){var R=k[D];R!==null&&(R.lane&=-536870913)}a&=~L}r!==0&&gc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function gc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-oe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function pc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-oe(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function vc(e,t){var a=t&-t;return a=(a&42)!==0?1:_l(a),(a&(e.suspendedLanes|t))!==0?0:a}function _l(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function bc(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var Va=Math.random().toString(36).slice(2),gt="__reactFiber$"+Va,kt="__reactProps$"+Va,Yn="__reactContainer$"+Va,Sl="__reactEvents$"+Va,wm="__reactListeners$"+Va,_m="__reactHandles$"+Va,wc="__reactResources$"+Va,Kr="__reactMarker$"+Va;function El(e){delete e[gt],delete e[kt],delete e[Sl],delete e[wm],delete e[_m]}function Kn(e){var t=e[gt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Yn]||a[gt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vf(e);e!==null;){if(a=e[gt])return a;e=Vf(e)}return t}e=a,a=e.parentNode}return null}function Xn(e){if(e=e[gt]||e[Yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Jn(e){var t=e[wc];return t||(t=e[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Kr]=!0}var _c=new Set,xc={};function vn(e,t){Qn(e,t),Qn(e+"Capture",t)}function Qn(e,t){for(xc[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var xm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Ec={};function Sm(e){return ba.call(Ec,e)?!0:ba.call(Sc,e)?!1:xm.test(e)?Ec[e]=!0:(Sc[e]=!0,!1)}function Qs(e,t,a){if(Sm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Is(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function wa(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){if(!e._valueTracker){var t=jc(e)?"checked":"value";e._valueTracker=Em(e,t,""+e[t])}}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=jc(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jm=/[\n"\\]/g;function Pt(e){return e.replace(jm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tl(e,t,a,r,o,u,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Al(e,f,Zt(t)):a!=null?Al(e,f,Zt(a)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Zt(v):e.removeAttribute("name")}function Ac(e,t,a,r,o,u,f,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){jl(e);return}a=a!=null?""+Zt(a):"",t=t!=null?""+Zt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),jl(e)}function Al(e,t,a){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function In(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Zt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Oc(e,t,a){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Zt(a):""}function Nc(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(ot(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Zt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),jl(e)}function Zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Tm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Tm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Cc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&kc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&kc(e,u,t[u])}function Ol(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(e){return Om.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _a(){}var Nl=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pn=null,Wn=null;function Rc(e){var t=Xn(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[kt]||null;if(!o)throw Error(l(90));Tl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Tc(r)}break e;case"textarea":Oc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&In(e,!!a.multiple,t,!1)}}}var Cl=!1;function Uc(e,t,a){if(Cl)return e(t,a);Cl=!0;try{var r=e(t);return r}finally{if(Cl=!1,(Pn!==null||Wn!==null)&&(Bi(),Pn&&(t=Pn,e=Wn,Wn=Pn=null,Rc(t),e)))for(t=0;t<e.length;t++)Rc(e[t])}}function Jr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[kt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=!1;if(xa)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Rl=!1}var Ga=null,Ul=null,Ws=null;function Dc(){if(Ws)return Ws;var e,t=Ul,a=t.length,r,o="value"in Ga?Ga.value:Ga.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(r=1;r<=f&&t[a-r]===o[u-r];r++);return Ws=o.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function zc(){return!1}function Ct(e){function t(a,r,o,u,f){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ei:zc,this.isPropagationStopped=zc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Ct(yn),Ir=x({},yn,{view:0,detail:0}),Nm=Ct(Ir),Dl,zl,Zr,ai=x({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(Dl=e.screenX-Zr.screenX,zl=e.screenY-Zr.screenY):zl=Dl=0,Zr=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Mc=Ct(ai),km=x({},ai,{dataTransfer:0}),Cm=Ct(km),Rm=x({},Ir,{relatedTarget:0}),Ml=Ct(Rm),Um=x({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=Ct(Um),zm=x({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mm=Ct(zm),Lm=x({},yn,{data:0}),Lc=Ct(Lm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hm[e])?!!t[e]:!1}function Ll(){return $m}var Vm=x({},Ir,{key:function(e){if(e.key){var t=Bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=Ct(Vm),Ym=x({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=Ct(Ym),Km=x({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Xm=Ct(Km),Jm=x({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=Ct(Jm),Im=x({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=Ct(Im),Pm=x({},yn,{newState:0,oldState:0}),Wm=Ct(Pm),Fm=[9,13,27,32],Bl=xa&&"CompositionEvent"in window,Pr=null;xa&&"documentMode"in document&&(Pr=document.documentMode);var eg=xa&&"TextEvent"in window&&!Pr,qc=xa&&(!Bl||Pr&&8<Pr&&11>=Pr),Hc=" ",$c=!1;function Vc(e,t){switch(e){case"keyup":return Fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function tg(e,t){switch(e){case"compositionend":return Gc(t);case"keypress":return t.which!==32?null:($c=!0,Hc);case"textInput":return e=t.data,e===Hc&&$c?null:e;default:return null}}function ag(e,t){if(Fn)return e==="compositionend"||!Bl&&Vc(e,t)?(e=Dc(),Ws=Ul=Ga=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ng[e.type]:t==="textarea"}function Kc(e,t,a,r){Pn?Wn?Wn.push(r):Wn=[r]:Pn=r,t=Ki(t,"onChange"),0<t.length&&(a=new ti("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Wr=null,Fr=null;function rg(e){Of(e,0)}function ni(e){var t=Xr(e);if(Tc(t))return e}function Xc(e,t){if(e==="change")return t}var Jc=!1;if(xa){var ql;if(xa){var Hl="oninput"in document;if(!Hl){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Hl=typeof Qc.oninput=="function"}ql=Hl}else ql=!1;Jc=ql&&(!document.documentMode||9<document.documentMode)}function Ic(){Wr&&(Wr.detachEvent("onpropertychange",Zc),Fr=Wr=null)}function Zc(e){if(e.propertyName==="value"&&ni(Fr)){var t=[];Kc(t,Fr,e,kl(e)),Uc(rg,t)}}function sg(e,t,a){e==="focusin"?(Ic(),Wr=t,Fr=a,Wr.attachEvent("onpropertychange",Zc)):e==="focusout"&&Ic()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(Fr)}function lg(e,t){if(e==="click")return ni(t)}function og(e,t){if(e==="input"||e==="change")return ni(t)}function ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:ug;function es(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!ba.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wc(e,t){var a=Pc(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pc(a)}}function Fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zs(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cg=xa&&"documentMode"in document&&11>=document.documentMode,er=null,Vl=null,ts=null,Gl=!1;function td(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gl||er==null||er!==Zs(r)||(r=er,"selectionStart"in r&&$l(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&es(ts,r)||(ts=r,r=Ki(Vl,"onSelect"),0<r.length&&(t=new ti("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=er)))}function bn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var tr={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionrun:bn("Transition","TransitionRun"),transitionstart:bn("Transition","TransitionStart"),transitioncancel:bn("Transition","TransitionCancel"),transitionend:bn("Transition","TransitionEnd")},Yl={},ad={};xa&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function wn(e){if(Yl[e])return Yl[e];if(!tr[e])return e;var t=tr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ad)return Yl[e]=t[a];return e}var nd=wn("animationend"),rd=wn("animationiteration"),sd=wn("animationstart"),dg=wn("transitionrun"),hg=wn("transitionstart"),fg=wn("transitioncancel"),id=wn("transitionend"),ld=new Map,Kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kl.push("scrollEnd");function ia(e,t){ld.set(e,t),vn(t,[e])}var ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],ar=0,Xl=0;function si(){for(var e=ar,t=Xl=ar=0;t<e;){var a=Wt[t];Wt[t++]=null;var r=Wt[t];Wt[t++]=null;var o=Wt[t];Wt[t++]=null;var u=Wt[t];if(Wt[t++]=null,r!==null&&o!==null){var f=r.pending;f===null?o.next=o:(o.next=f.next,f.next=o),r.pending=o}u!==0&&od(a,o,u)}}function ii(e,t,a,r){Wt[ar++]=e,Wt[ar++]=t,Wt[ar++]=a,Wt[ar++]=r,Xl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Jl(e,t,a,r){return ii(e,t,a,r),li(e)}function _n(e,t){return ii(e,null,null,t),li(e)}function od(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-oe(a),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),u):null}function li(e){if(50<Ss)throw Ss=0,nu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nr={};function mg(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,a,r){return new mg(e,t,a,r)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,t){var a=e.alternate;return a===null?(a=qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oi(e,t,a,r,o,u){var f=0;if(r=e,typeof e=="function")Ql(e)&&(f=1);else if(typeof e=="string")f=bp(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=qt(31,a,t,o),e.elementType=le,e.lanes=u,e;case C:return xn(a.children,o,u,t);case z:f=8,o|=24;break;case H:return e=qt(12,a,t,o|2),e.elementType=H,e.lanes=u,e;case ue:return e=qt(13,a,t,o),e.elementType=ue,e.lanes=u,e;case V:return e=qt(19,a,t,o),e.elementType=V,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:f=10;break e;case G:f=9;break e;case X:f=11;break e;case $:f=14;break e;case ne:f=16,r=null;break e}f=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=qt(f,a,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function xn(e,t,a,r){return e=qt(7,e,r,t),e.lanes=a,e}function Il(e,t,a){return e=qt(6,e,null,t),e.lanes=a,e}function cd(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Zl(e,t,a){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dd=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var a=dd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Js(t)},dd.set(e,t),t)}return{value:e,source:t,stack:Js(t)}}var rr=[],sr=0,ui=null,as=0,ea=[],ta=0,Ya=null,ga=1,pa="";function Ea(e,t){rr[sr++]=as,rr[sr++]=ui,ui=e,as=t}function hd(e,t,a){ea[ta++]=ga,ea[ta++]=pa,ea[ta++]=Ya,Ya=e;var r=ga;e=pa;var o=32-oe(r)-1;r&=~(1<<o),a+=1;var u=32-oe(t)+o;if(30<u){var f=o-o%5;u=(r&(1<<f)-1).toString(32),r>>=f,o-=f,ga=1<<32-oe(t)+o|a<<o|r,pa=u+e}else ga=1<<u|a<<o|r,pa=e}function Pl(e){e.return!==null&&(Ea(e,1),hd(e,1,0))}function Wl(e){for(;e===ui;)ui=rr[--sr],rr[sr]=null,as=rr[--sr],rr[sr]=null;for(;e===Ya;)Ya=ea[--ta],ea[ta]=null,pa=ea[--ta],ea[ta]=null,ga=ea[--ta],ea[ta]=null}function fd(e,t){ea[ta++]=ga,ea[ta++]=pa,ea[ta++]=Ya,ga=t.id,pa=t.overflow,Ya=e}var pt=null,Ve=null,je=!1,Ka=null,aa=!1,Fl=Error(l(519));function Xa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ns(Ft(t,e)),Fl}function md(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[gt]=e,t[kt]=r,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<js.length;a++)_e(js[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Ac(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Nc(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||Rf(t.textContent,a)?(r.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),r.onScroll!=null&&_e("scroll",t),r.onScrollEnd!=null&&_e("scrollend",t),r.onClick!=null&&(t.onclick=_a),t=!0):t=!1,t||Xa(e,!0)}function gd(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:pt=pt.return}}function ir(e){if(e!==pt)return!1;if(!je)return gd(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yu(e.type,e.memoizedProps)),a=!a),a&&Ve&&Xa(e),gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=$f(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=$f(e)}else t===27?(t=Ve,ln(e.type)?(e=Su,Su=null,Ve=e):Ve=t):Ve=pt?ra(e.stateNode.nextSibling):null;return!0}function Sn(){Ve=pt=null,je=!1}function eo(){var e=Ka;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),Ka=null),e}function ns(e){Ka===null?Ka=[e]:Ka.push(e)}var to=E(null),En=null,ja=null;function Ja(e,t,a){K(to,t._currentValue),t._currentValue=a}function Ta(e){e._currentValue=to.current,q(to)}function ao(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function no(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var b=0;b<t.length;b++)if(v.context===t[b]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),ao(u.return,a,e),r||(f=null);break e}u=v.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(l(341));f.lanes|=a,u=f.alternate,u!==null&&(u.lanes|=a),ao(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function lr(e,t,a,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var v=o.type;Bt(o.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(o===Ee.current){if(f=o.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ks):e=[ks])}o=o.return}e!==null&&no(t,e,a,r),t.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jn(e){En=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return pd(En,e)}function di(e,t){return En===null&&jn(e),pd(e,t)}function pd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ja===null){if(e===null)throw Error(l(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return a}var gg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},pg=s.unstable_scheduleCallback,vg=s.unstable_NormalPriority,tt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new gg,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&pg(vg,function(){e.controller.abort()})}var ss=null,so=0,or=0,ur=null;function yg(e,t){if(ss===null){var a=ss=[];so=0,or=uu(),ur={status:"pending",value:void 0,then:function(r){a.push(r)}}}return so++,t.then(vd,vd),t}function vd(){if(--so===0&&ss!==null){ur!==null&&(ur.status="fulfilled");var e=ss;ss=null,or=0,ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bg(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var yd=U.S;U.S=function(e,t){tf=ee(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yg(e,t),yd!==null&&yd(e,t)};var Tn=E(null);function io(){var e=Tn.current;return e!==null?e:qe.pooledCache}function hi(e,t){t===null?K(Tn,Tn.current):K(Tn,t.pool)}function bd(){var e=io();return e===null?null:{parent:tt._currentValue,pool:e}}var cr=Error(l(460)),lo=Error(l(474)),fi=Error(l(542)),mi={then:function(){}};function wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _d(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(_a,_a),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sd(e),e;default:if(typeof t.status=="string")t.then(_a,_a);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sd(e),e}throw On=t,cr}}function An(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(On=a,cr):a}}var On=null;function xd(){if(On===null)throw Error(l(459));var e=On;return On=null,e}function Sd(e){if(e===cr||e===fi)throw Error(l(483))}var dr=null,is=0;function gi(e){var t=is;return is+=1,dr===null&&(dr=[]),_d(dr,e,t)}function ls(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pi(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ed(e){function t(j,S){if(e){var A=j.deletions;A===null?(j.deletions=[S],j.flags|=16):A.push(S)}}function a(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function r(j){for(var S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function o(j,S){return j=Sa(j,S),j.index=0,j.sibling=null,j}function u(j,S,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<S?(j.flags|=67108866,S):A):(j.flags|=67108866,S)):(j.flags|=1048576,S)}function f(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function v(j,S,A,M){return S===null||S.tag!==6?(S=Il(A,j.mode,M),S.return=j,S):(S=o(S,A),S.return=j,S)}function b(j,S,A,M){var ae=A.type;return ae===C?D(j,S,A.props.children,M,A.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&An(ae)===S.type)?(S=o(S,A.props),ls(S,A),S.return=j,S):(S=oi(A.type,A.key,A.props,null,j.mode,M),ls(S,A),S.return=j,S)}function O(j,S,A,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Zl(A,j.mode,M),S.return=j,S):(S=o(S,A.children||[]),S.return=j,S)}function D(j,S,A,M,ae){return S===null||S.tag!==7?(S=xn(A,j.mode,M,ae),S.return=j,S):(S=o(S,A),S.return=j,S)}function L(j,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Il(""+S,j.mode,A),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case N:return A=oi(S.type,S.key,S.props,null,j.mode,A),ls(A,S),A.return=j,A;case T:return S=Zl(S,j.mode,A),S.return=j,S;case ne:return S=An(S),L(j,S,A)}if(ot(S)||Te(S))return S=xn(S,j.mode,A,null),S.return=j,S;if(typeof S.then=="function")return L(j,gi(S),A);if(S.$$typeof===B)return L(j,di(j,S),A);pi(j,S)}return null}function k(j,S,A,M){var ae=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ae!==null?null:v(j,S,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===ae?b(j,S,A,M):null;case T:return A.key===ae?O(j,S,A,M):null;case ne:return A=An(A),k(j,S,A,M)}if(ot(A)||Te(A))return ae!==null?null:D(j,S,A,M,null);if(typeof A.then=="function")return k(j,S,gi(A),M);if(A.$$typeof===B)return k(j,S,di(j,A),M);pi(j,A)}return null}function R(j,S,A,M,ae){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return j=j.get(A)||null,v(S,j,""+M,ae);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return j=j.get(M.key===null?A:M.key)||null,b(S,j,M,ae);case T:return j=j.get(M.key===null?A:M.key)||null,O(S,j,M,ae);case ne:return M=An(M),R(j,S,A,M,ae)}if(ot(M)||Te(M))return j=j.get(A)||null,D(S,j,M,ae,null);if(typeof M.then=="function")return R(j,S,A,gi(M),ae);if(M.$$typeof===B)return R(j,S,A,di(S,M),ae);pi(S,M)}return null}function Q(j,S,A,M){for(var ae=null,Oe=null,Z=S,me=S=0,Se=null;Z!==null&&me<A.length;me++){Z.index>me?(Se=Z,Z=null):Se=Z.sibling;var Ne=k(j,Z,A[me],M);if(Ne===null){Z===null&&(Z=Se);break}e&&Z&&Ne.alternate===null&&t(j,Z),S=u(Ne,S,me),Oe===null?ae=Ne:Oe.sibling=Ne,Oe=Ne,Z=Se}if(me===A.length)return a(j,Z),je&&Ea(j,me),ae;if(Z===null){for(;me<A.length;me++)Z=L(j,A[me],M),Z!==null&&(S=u(Z,S,me),Oe===null?ae=Z:Oe.sibling=Z,Oe=Z);return je&&Ea(j,me),ae}for(Z=r(Z);me<A.length;me++)Se=R(Z,j,me,A[me],M),Se!==null&&(e&&Se.alternate!==null&&Z.delete(Se.key===null?me:Se.key),S=u(Se,S,me),Oe===null?ae=Se:Oe.sibling=Se,Oe=Se);return e&&Z.forEach(function(hn){return t(j,hn)}),je&&Ea(j,me),ae}function re(j,S,A,M){if(A==null)throw Error(l(151));for(var ae=null,Oe=null,Z=S,me=S=0,Se=null,Ne=A.next();Z!==null&&!Ne.done;me++,Ne=A.next()){Z.index>me?(Se=Z,Z=null):Se=Z.sibling;var hn=k(j,Z,Ne.value,M);if(hn===null){Z===null&&(Z=Se);break}e&&Z&&hn.alternate===null&&t(j,Z),S=u(hn,S,me),Oe===null?ae=hn:Oe.sibling=hn,Oe=hn,Z=Se}if(Ne.done)return a(j,Z),je&&Ea(j,me),ae;if(Z===null){for(;!Ne.done;me++,Ne=A.next())Ne=L(j,Ne.value,M),Ne!==null&&(S=u(Ne,S,me),Oe===null?ae=Ne:Oe.sibling=Ne,Oe=Ne);return je&&Ea(j,me),ae}for(Z=r(Z);!Ne.done;me++,Ne=A.next())Ne=R(Z,j,me,Ne.value,M),Ne!==null&&(e&&Ne.alternate!==null&&Z.delete(Ne.key===null?me:Ne.key),S=u(Ne,S,me),Oe===null?ae=Ne:Oe.sibling=Ne,Oe=Ne);return e&&Z.forEach(function(kp){return t(j,kp)}),je&&Ea(j,me),ae}function Le(j,S,A,M){if(typeof A=="object"&&A!==null&&A.type===C&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var ae=A.key;S!==null;){if(S.key===ae){if(ae=A.type,ae===C){if(S.tag===7){a(j,S.sibling),M=o(S,A.props.children),M.return=j,j=M;break e}}else if(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&An(ae)===S.type){a(j,S.sibling),M=o(S,A.props),ls(M,A),M.return=j,j=M;break e}a(j,S);break}else t(j,S);S=S.sibling}A.type===C?(M=xn(A.props.children,j.mode,M,A.key),M.return=j,j=M):(M=oi(A.type,A.key,A.props,null,j.mode,M),ls(M,A),M.return=j,j=M)}return f(j);case T:e:{for(ae=A.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(j,S.sibling),M=o(S,A.children||[]),M.return=j,j=M;break e}else{a(j,S);break}else t(j,S);S=S.sibling}M=Zl(A,j.mode,M),M.return=j,j=M}return f(j);case ne:return A=An(A),Le(j,S,A,M)}if(ot(A))return Q(j,S,A,M);if(Te(A)){if(ae=Te(A),typeof ae!="function")throw Error(l(150));return A=ae.call(A),re(j,S,A,M)}if(typeof A.then=="function")return Le(j,S,gi(A),M);if(A.$$typeof===B)return Le(j,S,di(j,A),M);pi(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(j,S.sibling),M=o(S,A),M.return=j,j=M):(a(j,S),M=Il(A,j.mode,M),M.return=j,j=M),f(j)):a(j,S)}return function(j,S,A,M){try{is=0;var ae=Le(j,S,A,M);return dr=null,ae}catch(Z){if(Z===cr||Z===fi)throw Z;var Oe=qt(29,Z,null,j.mode);return Oe.lanes=M,Oe.return=j,Oe}finally{}}}var Nn=Ed(!0),jd=Ed(!1),Qa=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=li(e),od(e,null,a),t}return ii(e,r,t,a),li(e)}function os(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,pc(e,a)}}function co(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ho=!1;function us(){if(ho){var e=ur;if(e!==null)throw e}}function cs(e,t,a,r){ho=!1;var o=e.updateQueue;Qa=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var b=v,O=b.next;b.next=null,f===null?u=O:f.next=O,f=b;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==f&&(v===null?D.firstBaseUpdate=O:v.next=O,D.lastBaseUpdate=b))}if(u!==null){var L=o.baseState;f=0,D=O=b=null,v=u;do{var k=v.lane&-536870913,R=k!==v.lane;if(R?(xe&k)===k:(r&k)===k){k!==0&&k===or&&(ho=!0),D!==null&&(D=D.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Q=e,re=v;k=t;var Le=a;switch(re.tag){case 1:if(Q=re.payload,typeof Q=="function"){L=Q.call(Le,L,k);break e}L=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=re.payload,k=typeof Q=="function"?Q.call(Le,L,k):Q,k==null)break e;L=x({},L,k);break e;case 2:Qa=!0}}k=v.callback,k!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[k]:R.push(k))}else R={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(O=D=R,b=L):D=D.next=R,f|=k;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;R=v,v=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);D===null&&(b=L),o.baseState=b,o.firstBaseUpdate=O,o.lastBaseUpdate=D,u===null&&(o.shared.lanes=0),tn|=f,e.lanes=f,e.memoizedState=L}}function Td(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ad(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Td(a[e],t)}var hr=E(null),vi=E(0);function Od(e,t){e=za,K(vi,e),K(hr,t),za=e|t.baseLanes}function fo(){K(vi,za),K(hr,hr.current)}function mo(){za=vi.current,q(hr),q(vi)}var Ht=E(null),na=null;function Pa(e){var t=e.alternate;K(We,We.current&1),K(Ht,e),na===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(na=e)}function go(e){K(We,We.current),K(Ht,e),na===null&&(na=e)}function Nd(e){e.tag===22?(K(We,We.current),K(Ht,e),na===null&&(na=e)):Wa()}function Wa(){K(We,We.current),K(Ht,Ht.current)}function $t(e){q(Ht),na===e&&(na=null),q(We)}var We=E(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_u(a)||xu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=0,fe=null,ze=null,at=null,bi=!1,fr=!1,kn=!1,wi=0,ds=0,mr=null,wg=0;function Ie(){throw Error(l(321))}function po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function vo(e,t,a,r,o,u){return Aa=u,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?hh:Ro,kn=!1,u=a(r,o),kn=!1,fr&&(u=Cd(t,a,r,o)),kd(e),u}function kd(e){U.H=ms;var t=ze!==null&&ze.next!==null;if(Aa=0,at=ze=fe=null,bi=!1,ds=0,mr=null,t)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&ci(e)&&(nt=!0))}function Cd(e,t,a,r){fe=e;var o=0;do{if(fr&&(mr=null),ds=0,fr=!1,25<=o)throw Error(l(301));if(o+=1,at=ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=fh,u=t(a,r)}while(fr);return u}function _g(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?hs(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(fe.flags|=1024),t}function yo(){var e=wi!==0;return wi=0,e}function bo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function wo(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}Aa=0,at=ze=fe=null,fr=!1,ds=wi=0,mr=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?fe.memoizedState=at=e:at=at.next=e,at}function Fe(){if(ze===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=at===null?fe.memoizedState:at.next;if(t!==null)at=t,ze=e;else{if(e===null)throw fe.alternate===null?Error(l(467)):Error(l(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},at===null?fe.memoizedState=at=e:at=at.next=e}return at}function _i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hs(e){var t=ds;return ds+=1,mr===null&&(mr=[]),e=_d(mr,e,t),t=fe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?hh:Ro),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hs(e);if(e.$$typeof===B)return vt(e)}throw Error(l(438,String(e)))}function _o(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_i(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=Be;return t.index++,a}function Oa(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=Fe();return xo(t,ze,e)}function xo(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=f=null,b=null,O=t,D=!1;do{var L=O.lane&-536870913;if(L!==O.lane?(xe&L)===L:(Aa&L)===L){var k=O.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),L===or&&(D=!0);else if((Aa&k)===k){O=O.next,k===or&&(D=!0);continue}else L={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=L,f=u):b=b.next=L,fe.lanes|=k,tn|=k;L=O.action,kn&&a(u,L),u=O.hasEagerState?O.eagerState:a(u,L)}else k={lane:L,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=k,f=u):b=b.next=k,fe.lanes|=L,tn|=L;O=O.next}while(O!==null&&O!==t);if(b===null?f=u:b.next=v,!Bt(u,e.memoizedState)&&(nt=!0,D&&(a=ur,a!==null)))throw a;e.memoizedState=u,e.baseState=f,e.baseQueue=b,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function So(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);Bt(u,t.memoizedState)||(nt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,r]}function Rd(e,t,a){var r=fe,o=Fe(),u=je;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var f=!Bt((ze||o).memoizedState,a);if(f&&(o.memoizedState=a,nt=!0),o=o.queue,To(zd.bind(null,r,o,e),[e]),o.getSnapshot!==t||f||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,gr(9,{destroy:void 0},Dd.bind(null,r,o,a,t),null),qe===null)throw Error(l(349));u||(Aa&127)!==0||Ud(r,t,a)}return a}function Ud(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=_i(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Dd(e,t,a,r){t.value=a,t.getSnapshot=r,Md(t)&&Ld(e)}function zd(e,t,a){return a(function(){Md(t)&&Ld(e)})}function Md(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Ld(e){var t=_n(e,2);t!==null&&Mt(t,e,2)}function Eo(e){var t=Tt();if(typeof e=="function"){var a=e;if(e=a(),kn){P(!0);try{a()}finally{P(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t}function Bd(e,t,a,r){return e.baseState=a,xo(e,ze,typeof r=="function"?r:Oa)}function xg(e,t,a,r,o){if(Ti(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};U.T!==null?a(!0):u.isTransition=!1,r(u),a=t.pending,a===null?(u.next=t.pending=u,qd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function qd(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=U.T,f={};U.T=f;try{var v=a(o,r),b=U.S;b!==null&&b(f,v),Hd(e,t,v)}catch(O){jo(e,t,O)}finally{u!==null&&f.types!==null&&(u.types=f.types),U.T=u}}else try{u=a(o,r),Hd(e,t,u)}catch(O){jo(e,t,O)}}function Hd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){$d(e,t,r)},function(r){return jo(e,t,r)}):$d(e,t,a)}function $d(e,t,a){t.status="fulfilled",t.value=a,Vd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,qd(e,a)))}function jo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Vd(t),t=t.next;while(t!==r)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gd(e,t){return t}function Yd(e,t){if(je){var a=qe.formState;if(a!==null){e:{var r=fe;if(je){if(Ve){t:{for(var o=Ve,u=aa;o.nodeType!==8;){if(!u){o=null;break t}if(o=ra(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ve=ra(o.nextSibling),r=o.data==="F!";break e}}Xa(r)}r=!1}r&&(t=a[0])}}return a=Tt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:t},a.queue=r,a=uh.bind(null,fe,r),r.dispatch=a,r=Eo(!1),u=Co.bind(null,fe,!1,r.queue),r=Tt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=xg.bind(null,fe,o,u,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function Kd(e){var t=Fe();return Xd(t,ze,e)}function Xd(e,t,a){if(t=xo(e,t,Gd)[0],e=Si(Oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=hs(t)}catch(f){throw f===cr?fi:f}else r=t;t=Fe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,gr(9,{destroy:void 0},Sg.bind(null,o,a),null)),[r,u,e]}function Sg(e,t){e.action=t}function Jd(e){var t=Fe(),a=ze;if(a!==null)return Xd(t,a,e);Fe(),t=t.memoizedState,a=Fe();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function gr(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=fe.updateQueue,t===null&&(t=_i(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Qd(){return Fe().memoizedState}function Ei(e,t,a,r){var o=Tt();fe.flags|=e,o.memoizedState=gr(1|t,{destroy:void 0},a,r===void 0?null:r)}function ji(e,t,a,r){var o=Fe();r=r===void 0?null:r;var u=o.memoizedState.inst;ze!==null&&r!==null&&po(r,ze.memoizedState.deps)?o.memoizedState=gr(t,u,a,r):(fe.flags|=e,o.memoizedState=gr(1|t,u,a,r))}function Id(e,t){Ei(8390656,8,e,t)}function To(e,t){ji(2048,8,e,t)}function Eg(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=_i(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Zd(e){var t=Fe().memoizedState;return Eg({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Pd(e,t){return ji(4,2,e,t)}function Wd(e,t){return ji(4,4,e,t)}function Fd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eh(e,t,a){a=a!=null?a.concat([e]):null,ji(4,4,Fd.bind(null,t,e),a)}function Ao(){}function th(e,t){var a=Fe();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&po(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function ah(e,t){var a=Fe();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&po(t,r[1]))return r[0];if(r=e(),kn){P(!0);try{e()}finally{P(!1)}}return a.memoizedState=[r,t],r}function Oo(e,t,a){return a===void 0||(Aa&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=nf(),fe.lanes|=e,tn|=e,a)}function nh(e,t,a,r){return Bt(a,t)?a:hr.current!==null?(e=Oo(e,a,r),Bt(e,t)||(nt=!0),e):(Aa&42)===0||(Aa&1073741824)!==0&&(xe&261930)===0?(nt=!0,e.memoizedState=a):(e=nf(),fe.lanes|=e,tn|=e,t)}function rh(e,t,a,r,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var f=U.T,v={};U.T=v,Co(e,!1,t,a);try{var b=o(),O=U.S;if(O!==null&&O(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=bg(b,r);fs(e,t,D,Yt(e))}else fs(e,t,r,Yt(e))}catch(L){fs(e,t,{then:function(){},status:"rejected",reason:L},Yt())}finally{Y.p=u,f!==null&&v.types!==null&&(f.types=v.types),U.T=f}}function jg(){}function No(e,t,a,r){if(e.tag!==5)throw Error(l(476));var o=sh(e).queue;rh(e,o,t,te,a===null?jg:function(){return ih(e),a(r)})}function sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ih(e){var t=sh(e);t.next===null&&(t=e.alternate.memoizedState),fs(e,t.next.queue,{},Yt())}function ko(){return vt(ks)}function lh(){return Fe().memoizedState}function oh(){return Fe().memoizedState}function Tg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Yt();e=Ia(a);var r=Za(t,e,a);r!==null&&(Mt(r,t,a),os(r,t,a)),t={cache:ro()},e.payload=t;return}t=t.return}}function Ag(e,t,a){var r=Yt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ti(e)?ch(t,a):(a=Jl(e,t,a,r),a!==null&&(Mt(a,e,r),dh(a,t,r)))}function uh(e,t,a){var r=Yt();fs(e,t,a,r)}function fs(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ti(e))ch(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,v=u(f,a);if(o.hasEagerState=!0,o.eagerState=v,Bt(v,f))return ii(e,t,o,0),qe===null&&si(),!1}catch{}finally{}if(a=Jl(e,t,o,r),a!==null)return Mt(a,e,r),dh(a,t,r),!0}return!1}function Co(e,t,a,r){if(r={lane:2,revertLane:uu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ti(e)){if(t)throw Error(l(479))}else t=Jl(e,a,r,2),t!==null&&Mt(t,e,2)}function Ti(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function ch(e,t){fr=bi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function dh(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,pc(e,a)}}var ms={readContext:vt,use:xi,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};ms.useEffectEvent=Ie;var hh={readContext:vt,use:xi,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Id,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ei(4194308,4,Fd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){Ei(4,2,e,t)},useMemo:function(e,t){var a=Tt();t=t===void 0?null:t;var r=e();if(kn){P(!0);try{e()}finally{P(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=Tt();if(a!==void 0){var o=a(t);if(kn){P(!0);try{a(t)}finally{P(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Ag.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Eo(e);var t=e.queue,a=uh.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ao,useDeferredValue:function(e,t){var a=Tt();return Oo(a,e,t)},useTransition:function(){var e=Eo(!1);return e=rh.bind(null,fe,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=fe,o=Tt();if(je){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),qe===null)throw Error(l(349));(xe&127)!==0||Ud(r,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Id(zd.bind(null,r,u,e),[e]),r.flags|=2048,gr(9,{destroy:void 0},Dd.bind(null,r,u,a,t),null),a},useId:function(){var e=Tt(),t=qe.identifierPrefix;if(je){var a=pa,r=ga;a=(r&~(1<<32-oe(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=wi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=wg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ko,useFormState:Yd,useActionState:Yd,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Co.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:_o,useCacheRefresh:function(){return Tt().memoizedState=Tg.bind(null,fe)},useEffectEvent:function(e){var t=Tt(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Ro={readContext:vt,use:xi,useCallback:th,useContext:vt,useEffect:To,useImperativeHandle:eh,useInsertionEffect:Pd,useLayoutEffect:Wd,useMemo:ah,useReducer:Si,useRef:Qd,useState:function(){return Si(Oa)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=Fe();return nh(a,ze.memoizedState,e,t)},useTransition:function(){var e=Si(Oa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:hs(e),t]},useSyncExternalStore:Rd,useId:lh,useHostTransitionStatus:ko,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var a=Fe();return Bd(a,ze,e,t)},useMemoCache:_o,useCacheRefresh:oh};Ro.useEffectEvent=Zd;var fh={readContext:vt,use:xi,useCallback:th,useContext:vt,useEffect:To,useImperativeHandle:eh,useInsertionEffect:Pd,useLayoutEffect:Wd,useMemo:ah,useReducer:So,useRef:Qd,useState:function(){return So(Oa)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=Fe();return ze===null?Oo(a,e,t):nh(a,ze.memoizedState,e,t)},useTransition:function(){var e=So(Oa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:hs(e),t]},useSyncExternalStore:Rd,useId:lh,useHostTransitionStatus:ko,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=Fe();return ze!==null?Bd(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_o,useCacheRefresh:oh};fh.useEffectEvent=Zd;function Uo(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Do={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Yt(),o=Ia(r);o.payload=t,a!=null&&(o.callback=a),t=Za(e,o,r),t!==null&&(Mt(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Yt(),o=Ia(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Za(e,o,r),t!==null&&(Mt(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Yt(),r=Ia(a);r.tag=2,t!=null&&(r.callback=t),t=Za(e,r,a),t!==null&&(Mt(t,e,a),os(t,e,a))}};function mh(e,t,a,r,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,f):t.prototype&&t.prototype.isPureReactComponent?!es(a,r)||!es(o,u):!0}function gh(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function ph(e){ri(e)}function vh(e){console.error(e)}function yh(e){ri(e)}function Ai(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function bh(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zo(e,t,a){return a=Ia(a),a.tag=3,a.payload={element:null},a.callback=function(){Ai(e,t)},a}function wh(e){return e=Ia(e),e.tag=3,e}function _h(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){bh(t,a,r)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){bh(t,a,r),typeof o!="function"&&(an===null?an=new Set([this]):an.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function Og(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&lr(t,a,o,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return na===null?qi():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===mi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),iu(e,r,o)),!1;case 22:return a.flags|=65536,r===mi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),iu(e,r,o)),!1}throw Error(l(435,a.tag))}return iu(e,r,o),qi(),!1}if(je)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Fl&&(e=Error(l(422),{cause:r}),ns(Ft(e,a)))):(r!==Fl&&(t=Error(l(423),{cause:r}),ns(Ft(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Ft(r,a),o=zo(e.stateNode,r,o),co(e,o),Ze!==4&&(Ze=2)),!1;var u=Error(l(520),{cause:r});if(u=Ft(u,a),xs===null?xs=[u]:xs.push(u),Ze!==4&&(Ze=2),t===null)return!0;r=Ft(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=zo(a.stateNode,r,e),co(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(an===null||!an.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=wh(o),_h(o,e,a,r),co(a,o),!1}a=a.return}while(a!==null);return!1}var Mo=Error(l(461)),nt=!1;function yt(e,t,a,r){t.child=e===null?jd(t,null,a,r):Nn(t,e.child,a,r)}function xh(e,t,a,r,o){a=a.render;var u=t.ref;if("ref"in r){var f={};for(var v in r)v!=="ref"&&(f[v]=r[v])}else f=r;return jn(t),r=vo(e,t,a,f,u,o),v=yo(),e!==null&&!nt?(bo(e,t,o),Na(e,t,o)):(je&&v&&Pl(t),t.flags|=1,yt(e,t,r,o),t.child)}function Sh(e,t,a,r,o){if(e===null){var u=a.type;return typeof u=="function"&&!Ql(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Eh(e,t,u,r,o)):(e=oi(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Yo(e,o)){var f=u.memoizedProps;if(a=a.compare,a=a!==null?a:es,a(f,r)&&e.ref===t.ref)return Na(e,t,o)}return t.flags|=1,e=Sa(u,r),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,a,r,o){if(e!==null){var u=e.memoizedProps;if(es(u,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=u,Yo(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Na(e,t,o)}return Lo(e,t,a,r,o)}function jh(e,t,a,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Th(e,t,u,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hi(t,u!==null?u.cachePool:null),u!==null?Od(t,u):fo(),Nd(t);else return r=t.lanes=536870912,Th(e,t,u!==null?u.baseLanes|a:a,a,r)}else u!==null?(hi(t,u.cachePool),Od(t,u),Wa(),t.memoizedState=null):(e!==null&&hi(t,null),fo(),Wa());return yt(e,t,o,a),t.child}function gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Th(e,t,a,r,o){var u=io();return u=u===null?null:{parent:tt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&hi(t,null),fo(),Nd(t),e!==null&&lr(e,t,r,!0),t.childLanes=o,null}function Oi(e,t){return t=ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ah(e,t,a){return Nn(t,e.child,null,a),e=Oi(t,t.pendingProps),e.flags|=2,$t(t),t.memoizedState=null,e}function Ng(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(r.mode==="hidden")return e=Oi(t,r),t.lanes=536870912,gs(null,e);if(go(t),(e=Ve)?(e=Hf(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:ga,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},a=cd(e),a.return=t,t.child=a,pt=t,Ve=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return Oi(t,r)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(go(t),o)if(t.flags&256)t.flags&=-257,t=Ah(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(nt||lr(e,t,a,!1),o=(a&e.childLanes)!==0,nt||o){if(r=qe,r!==null&&(f=vc(r,a),f!==0&&f!==u.retryLane))throw u.retryLane=f,_n(e,f),Mt(r,e,f),Mo;qi(),t=Ah(e,t,a)}else e=u.treeContext,Ve=ra(f.nextSibling),pt=t,je=!0,Ka=null,aa=!1,e!==null&&fd(t,e),t=Oi(t,r),t.flags|=4096;return t}return e=Sa(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,r,o){return jn(t),a=vo(e,t,a,r,void 0,o),r=yo(),e!==null&&!nt?(bo(e,t,o),Na(e,t,o)):(je&&r&&Pl(t),t.flags|=1,yt(e,t,a,o),t.child)}function Oh(e,t,a,r,o,u){return jn(t),t.updateQueue=null,a=Cd(t,r,a,o),kd(e),r=yo(),e!==null&&!nt?(bo(e,t,u),Na(e,t,u)):(je&&r&&Pl(t),t.flags|=1,yt(e,t,a,u),t.child)}function Nh(e,t,a,r,o){if(jn(t),t.stateNode===null){var u=nr,f=a.contextType;typeof f=="object"&&f!==null&&(u=vt(f)),u=new a(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Do,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},oo(t),f=a.contextType,u.context=typeof f=="object"&&f!==null?vt(f):nr,u.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(Uo(t,a,f,r),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Do.enqueueReplaceState(u,u.state,null),cs(t,r,u,o),us(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,b=Cn(a,v);u.props=b;var O=u.context,D=a.contextType;f=nr,typeof D=="object"&&D!==null&&(f=vt(D));var L=a.getDerivedStateFromProps;D=typeof L=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,D||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||O!==f)&&gh(t,u,r,f),Qa=!1;var k=t.memoizedState;u.state=k,cs(t,r,u,o),us(),O=t.memoizedState,v||k!==O||Qa?(typeof L=="function"&&(Uo(t,a,L,r),O=t.memoizedState),(b=Qa||mh(t,a,b,r,k,O,f))?(D||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=O),u.props=r,u.state=O,u.context=f,r=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,uo(e,t),f=t.memoizedProps,D=Cn(a,f),u.props=D,L=t.pendingProps,k=u.context,O=a.contextType,b=nr,typeof O=="object"&&O!==null&&(b=vt(O)),v=a.getDerivedStateFromProps,(O=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==L||k!==b)&&gh(t,u,r,b),Qa=!1,k=t.memoizedState,u.state=k,cs(t,r,u,o),us();var R=t.memoizedState;f!==L||k!==R||Qa||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof v=="function"&&(Uo(t,a,v,r),R=t.memoizedState),(D=Qa||mh(t,a,D,r,k,R,b)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(O||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=b,r=D):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Ni(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Nn(t,e.child,null,o),t.child=Nn(t,null,a,o)):yt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Na(e,t,o),e}function kh(e,t,a,r){return Sn(),t.flags|=256,yt(e,t,a,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:bd()}}function Ho(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Gt),e}function Ch(e,t,a){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Pa(t):Wa(),(e=Ve)?(e=Hf(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:ga,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},a=cd(e),a.return=t,t.child=a,pt=t,Ve=null)):e=null,e===null)throw Xa(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Wa(),o=t.mode,v=ki({mode:"hidden",children:v},o),r=xn(r,o,a,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=qo(a),r.childLanes=Ho(e,f,a),t.memoizedState=Bo,gs(null,r)):(Pa(t),$o(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(u)t.flags&256?(Pa(t),t.flags&=-257,t=Vo(e,t,a)):t.memoizedState!==null?(Wa(),t.child=e.child,t.flags|=128,t=null):(Wa(),v=r.fallback,o=t.mode,r=ki({mode:"visible",children:r.children},o),v=xn(v,o,a,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,Nn(t,e.child,null,a),r=t.child,r.memoizedState=qo(a),r.childLanes=Ho(e,f,a),t.memoizedState=Bo,t=gs(null,r));else if(Pa(t),xu(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var O=f.dgst;f=O,r=Error(l(419)),r.stack="",r.digest=f,ns({value:r,source:null,stack:null}),t=Vo(e,t,a)}else if(nt||lr(e,t,a,!1),f=(a&e.childLanes)!==0,nt||f){if(f=qe,f!==null&&(r=vc(f,a),r!==0&&r!==b.retryLane))throw b.retryLane=r,_n(e,r),Mt(f,e,r),Mo;_u(v)||qi(),t=Vo(e,t,a)}else _u(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ve=ra(v.nextSibling),pt=t,je=!0,Ka=null,aa=!1,e!==null&&fd(t,e),t=$o(t,r.children),t.flags|=4096);return t}return o?(Wa(),v=r.fallback,o=t.mode,b=e.child,O=b.sibling,r=Sa(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,O!==null?v=Sa(O,v):(v=xn(v,o,a,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,gs(null,r),r=t.child,v=e.child.memoizedState,v===null?v=qo(a):(o=v.cachePool,o!==null?(b=tt._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=bd(),v={baseLanes:v.baseLanes|a,cachePool:o}),r.memoizedState=v,r.childLanes=Ho(e,f,a),t.memoizedState=Bo,gs(e.child,r)):(Pa(t),a=e.child,e=a.sibling,a=Sa(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function $o(e,t){return t=ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ki(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Vo(e,t,a){return Nn(t,e.child,null,a),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rh(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ao(e.return,t,a)}function Go(e,t,a,r,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=a,f.tailMode=o,f.treeForkCount=u)}function Uh(e,t,a){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var f=We.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,K(We,f),yt(e,t,r,a),r=je?as:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,a,t);else if(e.tag===19)Rh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Go(t,!1,o,a,u,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Go(t,!0,a,null,u,r);break;case"together":Go(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Na(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(lr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function kg(e,t,a){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),Ja(t,tt,e.memoizedState.cache),Sn();break;case 27:case 5:gn(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ch(e,t,a):(Pa(t),e=Na(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(lr(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return Uh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(We,We.current),r)break;return null;case 22:return t.lanes=0,jh(e,t,a,t.pendingProps);case 24:Ja(t,tt,e.memoizedState.cache)}return Na(e,t,a)}function Dh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return nt=!1,kg(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,je&&(t.flags&1048576)!==0&&hd(t,as,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=An(t.elementType),t.type=e,typeof e=="function")Ql(e)?(r=Cn(e,r),t.tag=1,t=Nh(null,t,e,r,a)):(t.tag=0,t=Lo(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=xh(null,t,e,r,a);break e}else if(o===$){t.tag=14,t=Sh(null,t,e,r,a);break e}}throw t=lt(e)||e,Error(l(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=Cn(r,t.pendingProps),Nh(e,t,r,o,a);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,uo(e,t),cs(t,r,null,a);var f=t.memoizedState;if(r=f.cache,Ja(t,tt,r),r!==u.cache&&no(t,[tt],a,!0),us(),r=f.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=kh(e,t,r,a);break e}else if(r!==o){o=Ft(Error(l(424)),t),ns(o),t=kh(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=ra(e.firstChild),pt=t,je=!0,Ka=null,aa=!0,a=jd(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sn(),r===o){t=Na(e,t,a);break e}yt(e,t,r,a)}t=t.child}return t;case 26:return Ni(e,t),e===null?(a=Xf(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,r=Xi(pe.current).createElement(a),r[gt]=t,r[kt]=e,bt(r,a,e),ht(r),t.stateNode=r):t.memoizedState=Xf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gn(t),e===null&&je&&(r=t.stateNode=Gf(t.type,t.pendingProps,pe.current),pt=t,aa=!0,o=Ve,ln(t.type)?(Su=o,Ve=ra(r.firstChild)):Ve=o),yt(e,t,t.pendingProps.children,a),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=r=Ve)&&(r=ip(r,t.type,t.pendingProps,aa),r!==null?(t.stateNode=r,pt=t,Ve=ra(r.firstChild),aa=!1,o=!0):o=!1),o||Xa(t)),gn(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,r=u.children,yu(o,u)?r=null:f!==null&&yu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=vo(e,t,_g,null,null,a),ks._currentValue=o),Ni(e,t),yt(e,t,r,a),t.child;case 6:return e===null&&je&&((e=a=Ve)&&(a=lp(a,t.pendingProps,aa),a!==null?(t.stateNode=a,pt=t,Ve=null,e=!0):e=!1),e||Xa(t)),null;case 13:return Ch(e,t,a);case 4:return dt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nn(t,null,r,a):yt(e,t,r,a),t.child;case 11:return xh(e,t,t.type,t.pendingProps,a);case 7:return yt(e,t,t.pendingProps,a),t.child;case 8:return yt(e,t,t.pendingProps.children,a),t.child;case 12:return yt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Ja(t,t.type,r.value),yt(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,jn(t),o=vt(o),r=r(o),t.flags|=1,yt(e,t,r,a),t.child;case 14:return Sh(e,t,t.type,t.pendingProps,a);case 15:return Eh(e,t,t.type,t.pendingProps,a);case 19:return Uh(e,t,a);case 31:return Ng(e,t,a);case 22:return jh(e,t,a,t.pendingProps);case 24:return jn(t),r=vt(tt),e===null?(o=io(),o===null&&(o=qe,u=ro(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:r,cache:o},oo(t),Ja(t,tt,o)):((e.lanes&a)!==0&&(uo(e,t),cs(t,null,null,a),us()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ja(t,tt,r)):(r=u.cache,Ja(t,tt,r),r!==o.cache&&no(t,[tt],a,!0))),yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ka(e){e.flags|=4}function Ko(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(of())e.flags|=8192;else throw On=mi,lo}else e.flags&=-16777217}function zh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pf(t))if(of())e.flags|=8192;else throw On=mi,lo}function Ci(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mc():536870912,e.lanes|=t,br|=t)}function ps(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Cg(e,t,a){var r=t.pendingProps;switch(Wl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ta(tt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ir(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,eo())),Ge(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ka(t),u!==null?(Ge(t),zh(t,u)):(Ge(t),Ko(t,o,null,r,a))):u?u!==e.memoizedState?(ka(t),Ge(t),zh(t,u)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ka(t),Ge(t),Ko(t,o,e,r,a)),null;case 27:if(Hn(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ge(t),null}e=I.current,ir(t)?md(t):(e=Gf(o,r,a),t.stateNode=e,ka(t))}return Ge(t),null;case 5:if(Hn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ge(t),null}if(u=I.current,ir(t))md(t);else{var f=Xi(pe.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?f.createElement(o,{is:r.is}):f.createElement(o)}}u[gt]=t,u[kt]=r;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(bt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ka(t)}}return Ge(t),Ko(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=pe.current,ir(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=pt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[gt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Rf(e.nodeValue,a)),e||Xa(t,!0)}else e=Xi(e).createTextNode(r),e[gt]=t,t.stateNode=e}return Ge(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=ir(t),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[gt]=t}else Sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else a=eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?($t(t),t):($t(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ge(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ir(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[gt]=t}else Sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else o=eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?($t(t),t):($t(t),null)}return $t(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ci(t,t.updateQueue),Ge(t),null);case 4:return Je(),e===null&&fu(t.stateNode.containerInfo),Ge(t),null;case 10:return Ta(t.type),Ge(t),null;case 19:if(q(We),r=t.memoizedState,r===null)return Ge(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)ps(r,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yi(e),u!==null){for(t.flags|=128,ps(r,!1),e=u.updateQueue,t.updateQueue=e,Ci(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ud(a,e),a=a.sibling;return K(We,We.current&1|2),je&&Ea(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&ee()>Mi&&(t.flags|=128,o=!0,ps(r,!1),t.lanes=4194304)}else{if(!o)if(e=yi(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ci(t,e),ps(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!je)return Ge(t),null}else 2*ee()-r.renderingStartTime>Mi&&a!==536870912&&(t.flags|=128,o=!0,ps(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ee(),e.sibling=null,a=We.current,K(We,o?a&1|2:a&1),je&&Ea(t,r.treeForkCount),e):(Ge(t),null);case 22:case 23:return $t(t),mo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),a=t.updateQueue,a!==null&&Ci(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&q(Tn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(tt),Ge(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Rg(e,t){switch(Wl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(tt),Je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hn(t),null;case 31:if(t.memoizedState!==null){if($t(t),t.alternate===null)throw Error(l(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(We),null;case 4:return Je(),null;case 10:return Ta(t.type),null;case 22:case 23:return $t(t),mo(),e!==null&&q(Tn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(tt),null;case 25:return null;default:return null}}function Mh(e,t){switch(Wl(t),t.tag){case 3:Ta(tt),Je();break;case 26:case 27:case 5:Hn(t);break;case 4:Je();break;case 31:t.memoizedState!==null&&$t(t);break;case 13:$t(t);break;case 19:q(We);break;case 10:Ta(t.type);break;case 22:case 23:$t(t),mo(),e!==null&&q(Tn);break;case 24:Ta(tt)}}function vs(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var u=a.create,f=a.inst;r=u(),f.destroy=r}a=a.next}while(a!==o)}}catch(v){De(t,t.return,v)}}function Fa(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var f=r.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,o=t;var b=a,O=v;try{O()}catch(D){De(o,b,D)}}}r=r.next}while(r!==u)}}catch(D){De(t,t.return,D)}}function Lh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ad(t,a)}catch(r){De(e,e.return,r)}}}function Bh(e,t,a){a.props=Cn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){De(e,t,r)}}function ys(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){De(e,t,o)}}function va(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){De(e,t,o)}else a.current=null}function qh(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){De(e,e.return,o)}}function Xo(e,t,a){try{var r=e.stateNode;ep(r,e.type,a,t),r[kt]=t}catch(o){De(e,e.return,o)}}function Hh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ln(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ln(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=_a));else if(r!==4&&(r===27&&ln(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Qo(e,t,a),e=e.sibling;e!==null;)Qo(e,t,a),e=e.sibling}function Ri(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&ln(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ri(e,t,a),e=e.sibling;e!==null;)Ri(e,t,a),e=e.sibling}function $h(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,r,a),t[gt]=e,t[kt]=a}catch(u){De(e,e.return,u)}}var Ca=!1,rt=!1,Io=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ug(e,t){if(e=e.containerInfo,pu=Fi,e=ed(e),$l(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var f=0,v=-1,b=-1,O=0,D=0,L=e,k=null;t:for(;;){for(var R;L!==a||o!==0&&L.nodeType!==3||(v=f+o),L!==u||r!==0&&L.nodeType!==3||(b=f+r),L.nodeType===3&&(f+=L.nodeValue.length),(R=L.firstChild)!==null;)k=L,L=R;for(;;){if(L===e)break t;if(k===a&&++O===o&&(v=f),k===u&&++D===r&&(b=f),(R=L.nextSibling)!==null)break;L=k,k=L.parentNode}L=R}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(vu={focusedElem:e,selectionRange:a},Fi=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var Q=Cn(a.type,o);e=r.getSnapshotBeforeUpdate(Q,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(re){De(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function Gh(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),r&4&&vs(5,a);break;case 1:if(Ua(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){De(a,a.return,f)}else{var o=Cn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){De(a,a.return,f)}}r&64&&Lh(a),r&512&&ys(a,a.return);break;case 3:if(Ua(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ad(e,t)}catch(f){De(a,a.return,f)}}break;case 27:t===null&&r&4&&$h(a);case 26:case 5:Ua(e,a),t===null&&r&4&&qh(a),r&512&&ys(a,a.return);break;case 12:Ua(e,a);break;case 31:Ua(e,a),r&4&&Xh(e,a);break;case 13:Ua(e,a),r&4&&Jh(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Vg.bind(null,a),op(e,a))));break;case 22:if(r=a.memoizedState!==null||Ca,!r){t=t!==null&&t.memoizedState!==null||rt,o=Ca;var u=rt;Ca=r,(rt=t)&&!u?Da(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),Ca=o,rt=u}break;case 30:break;default:Ua(e,a)}}function Yh(e){var t=e.alternate;t!==null&&(e.alternate=null,Yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&El(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Rt=!1;function Ra(e,t,a){for(a=a.child;a!==null;)Kh(e,t,a),a=a.sibling}function Kh(e,t,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Lt,a)}catch{}switch(a.tag){case 26:rt||va(a,t),Ra(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||va(a,t);var r=Xe,o=Rt;ln(a.type)&&(Xe=a.stateNode,Rt=!1),Ra(e,t,a),As(a.stateNode),Xe=r,Rt=o;break;case 5:rt||va(a,t);case 6:if(r=Xe,o=Rt,Xe=null,Ra(e,t,a),Xe=r,Rt=o,Xe!==null)if(Rt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(u){De(a,t,u)}else try{Xe.removeChild(a.stateNode)}catch(u){De(a,t,u)}break;case 18:Xe!==null&&(Rt?(e=Xe,Bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ar(e)):Bf(Xe,a.stateNode));break;case 4:r=Xe,o=Rt,Xe=a.stateNode.containerInfo,Rt=!0,Ra(e,t,a),Xe=r,Rt=o;break;case 0:case 11:case 14:case 15:Fa(2,a,t),rt||Fa(4,a,t),Ra(e,t,a);break;case 1:rt||(va(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Bh(a,t,r)),Ra(e,t,a);break;case 21:Ra(e,t,a);break;case 22:rt=(r=rt)||a.memoizedState!==null,Ra(e,t,a),rt=r;break;default:Ra(e,t,a)}}function Xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(a){De(t,t.return,a)}}}function Jh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(a){De(t,t.return,a)}}function Dg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vh),t;default:throw Error(l(435,e.tag))}}function Ui(e,t){var a=Dg(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=Gg.bind(null,e,r);r.then(o,o)}})}function Ut(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],u=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(ln(v.type)){Xe=v.stateNode,Rt=!1;break e}break;case 5:Xe=v.stateNode,Rt=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,Rt=!0;break e}v=v.return}if(Xe===null)throw Error(l(160));Kh(u,f,o),Xe=null,Rt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qh(t,e),t=t.sibling}var la=null;function Qh(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),Dt(e),r&4&&(Fa(3,e,e.return),vs(3,e),Fa(5,e,e.return));break;case 1:Ut(t,e),Dt(e),r&512&&(rt||a===null||va(a,a.return)),r&64&&Ca&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=la;if(Ut(t,e),Dt(e),r&512&&(rt||a===null||va(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Kr]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),bt(u,r,a),u[gt]=e,ht(u),r=u;break e;case"link":var f=If("link","href",o).get(r+(a.href||""));if(f){for(var v=0;v<f.length;v++)if(u=f[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(v,1);break t}}u=o.createElement(r),bt(u,r,a),o.head.appendChild(u);break;case"meta":if(f=If("meta","content",o).get(r+(a.content||""))){for(v=0;v<f.length;v++)if(u=f[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(v,1);break t}}u=o.createElement(r),bt(u,r,a),o.head.appendChild(u);break;default:throw Error(l(468,r))}u[gt]=e,ht(u),r=u}e.stateNode=r}else Zf(o,e.type,e.stateNode);else e.stateNode=Qf(o,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?Zf(o,e.type,e.stateNode):Qf(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(t,e),Dt(e),r&512&&(rt||a===null||va(a,a.return)),a!==null&&r&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(t,e),Dt(e),r&512&&(rt||a===null||va(a,a.return)),e.flags&32){o=e.stateNode;try{Zn(o,"")}catch(Q){De(e,e.return,Q)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Xo(e,o,a!==null?a.memoizedProps:o)),r&1024&&(Io=!0);break;case 6:if(Ut(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Q){De(e,e.return,Q)}}break;case 3:if(Ii=null,o=la,la=Ji(t.containerInfo),Ut(t,e),la=o,Dt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(Q){De(e,e.return,Q)}Io&&(Io=!1,Ih(e));break;case 4:r=la,la=Ji(e.stateNode.containerInfo),Ut(t,e),Dt(e),la=r;break;case 12:Ut(t,e),Dt(e);break;case 31:Ut(t,e),Dt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ui(e,r)));break;case 13:Ut(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zi=ee()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ui(e,r)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,O=Ca,D=rt;if(Ca=O||o,rt=D||b,Ut(t,e),rt=D,Ca=O,Dt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||Ca||rt||Rn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(u=b.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=b.stateNode;var L=b.memoizedProps.style,k=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(Q){De(b,b.return,Q)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(Q){De(b,b.return,Q)}}}else if(t.tag===18){if(a===null){b=t;try{var R=b.stateNode;o?qf(R,!0):qf(b.stateNode,!1)}catch(Q){De(b,b.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ui(e,a))));break;case 19:Ut(t,e),Dt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ui(e,r)));break;case 30:break;case 21:break;default:Ut(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Hh(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Jo(e);Ri(e,u,o);break;case 5:var f=a.stateNode;a.flags&32&&(Zn(f,""),a.flags&=-33);var v=Jo(e);Ri(e,v,f);break;case 3:case 4:var b=a.stateNode.containerInfo,O=Jo(e);Qo(e,O,b);break;default:throw Error(l(161))}}catch(D){De(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ih(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ih(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gh(e,t.alternate,t),t=t.sibling}function Rn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fa(4,t,t.return),Rn(t);break;case 1:va(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Bh(t,t.return,a),Rn(t);break;case 27:As(t.stateNode);case 26:case 5:va(t,t.return),Rn(t);break;case 22:t.memoizedState===null&&Rn(t);break;case 30:Rn(t);break;default:Rn(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:Da(o,u,a),vs(4,u);break;case 1:if(Da(o,u,a),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){De(r,r.return,O)}if(r=u,o=r.updateQueue,o!==null){var v=r.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)Td(b[o],v)}catch(O){De(r,r.return,O)}}a&&f&64&&Lh(u),ys(u,u.return);break;case 27:$h(u);case 26:case 5:Da(o,u,a),a&&r===null&&f&4&&qh(u),ys(u,u.return);break;case 12:Da(o,u,a);break;case 31:Da(o,u,a),a&&f&4&&Xh(o,u);break;case 13:Da(o,u,a),a&&f&4&&Jh(o,u);break;case 22:u.memoizedState===null&&Da(o,u,a),ys(u,u.return);break;case 30:break;default:Da(o,u,a)}t=t.sibling}}function Zo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rs(a))}function Po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function oa(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zh(e,t,a,r),t=t.sibling}function Zh(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:oa(e,t,a,r),o&2048&&vs(9,t);break;case 1:oa(e,t,a,r);break;case 3:oa(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(o&2048){oa(e,t,a,r),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,v=u.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){De(t,t.return,b)}}else oa(e,t,a,r);break;case 31:oa(e,t,a,r);break;case 13:oa(e,t,a,r);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?oa(e,t,a,r):bs(e,t):u._visibility&2?oa(e,t,a,r):(u._visibility|=2,pr(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Zo(f,t);break;case 24:oa(e,t,a,r),o&2048&&Po(t.alternate,t);break;default:oa(e,t,a,r)}}function pr(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,v=a,b=r,O=f.flags;switch(f.tag){case 0:case 11:case 15:pr(u,f,v,b,o),vs(8,f);break;case 23:break;case 22:var D=f.stateNode;f.memoizedState!==null?D._visibility&2?pr(u,f,v,b,o):bs(u,f):(D._visibility|=2,pr(u,f,v,b,o)),o&&O&2048&&Zo(f.alternate,f);break;case 24:pr(u,f,v,b,o),o&&O&2048&&Po(f.alternate,f);break;default:pr(u,f,v,b,o)}t=t.sibling}}function bs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:bs(a,r),o&2048&&Zo(r.alternate,r);break;case 24:bs(a,r),o&2048&&Po(r.alternate,r);break;default:bs(a,r)}t=t.sibling}}var ws=8192;function vr(e,t,a){if(e.subtreeFlags&ws)for(e=e.child;e!==null;)Ph(e,t,a),e=e.sibling}function Ph(e,t,a){switch(e.tag){case 26:vr(e,t,a),e.flags&ws&&e.memoizedState!==null&&wp(a,la,e.memoizedState,e.memoizedProps);break;case 5:vr(e,t,a);break;case 3:case 4:var r=la;la=Ji(e.stateNode.containerInfo),vr(e,t,a),la=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=ws,ws=16777216,vr(e,t,a),ws=r):vr(e,t,a));break;default:vr(e,t,a)}}function Wh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ft=r,ef(r,e)}Wh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fh(e),e=e.sibling}function Fh(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&Fa(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Di(e)):_s(e);break;default:_s(e)}}function Di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ft=r,ef(r,e)}Wh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fa(8,t,t.return),Di(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Di(t));break;default:Di(t)}e=e.sibling}}function ef(e,t){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Fa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rs(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ft=r;else e:for(a=e;ft!==null;){r=ft;var o=r.sibling,u=r.return;if(Yh(r),r===a){ft=null;break e}if(o!==null){o.return=u,ft=o;break e}ft=u}}}var zg={getCacheForType:function(e){var t=vt(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(tt).controller.signal}},Mg=typeof WeakMap=="function"?WeakMap:Map,Ce=0,qe=null,we=null,xe=0,Ue=0,Vt=null,en=!1,yr=!1,Wo=!1,za=0,Ze=0,tn=0,Un=0,Fo=0,Gt=0,br=0,xs=null,zt=null,eu=!1,zi=0,tf=0,Mi=1/0,Li=null,an=null,ut=0,nn=null,wr=null,Ma=0,tu=0,au=null,af=null,Ss=0,nu=null;function Yt(){return(Ce&2)!==0&&xe!==0?xe&-xe:U.T!==null?uu():yc()}function nf(){if(Gt===0)if((xe&536870912)===0||je){var e=et;et<<=1,(et&3932160)===0&&(et=262144),Gt=e}else Gt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),Gt}function Mt(e,t,a){(e===qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(_r(e,0),rn(e,xe,Gt,!1)),Yr(e,a),((Ce&2)===0||e!==qe)&&(e===qe&&((Ce&2)===0&&(Un|=a),Ze===4&&rn(e,xe,Gt,!1)),ya(e))}function rf(e,t,a){if((Ce&6)!==0)throw Error(l(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||$a(e,t),o=r?qg(e,t):su(e,t,!0),u=r;do{if(o===0){yr&&!r&&rn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Lg(a)){o=su(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;o=xs;var b=v.current.memoizedState.isDehydrated;if(b&&(_r(v,f).flags|=256),f=su(v,f,!1),f!==2){if(Wo&&!b){v.errorRecoveryDisabledLanes|=u,Un|=u,o=4;break e}u=zt,zt=o,u!==null&&(zt===null?zt=u:zt.push.apply(zt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){_r(e,0),rn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:rn(r,t,Gt,!en);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=zi+300-ee(),10<o)){if(rn(r,t,Gt,!en),Gn(r,0,!0)!==0)break e;Ma=t,r.timeoutHandle=Mf(sf.bind(null,r,a,zt,Li,eu,t,Gt,Un,br,en,u,"Throttled",-0,0),o);break e}sf(r,a,zt,Li,eu,t,Gt,Un,br,en,u,null,-0,0)}}break}while(!0);ya(e)}function sf(e,t,a,r,o,u,f,v,b,O,D,L,k,R){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_a},Ph(t,u,L);var Q=(u&62914560)===u?zi-ee():(u&4194048)===u?tf-ee():0;if(Q=_p(L,Q),Q!==null){Ma=u,e.cancelPendingCommit=Q(mf.bind(null,e,t,u,a,r,o,f,v,b,D,L,null,k,R)),rn(e,u,f,!O);return}}mf(e,t,u,a,r,o,f,v,b)}function Lg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],u=o.getSnapshot;o=o.value;try{if(!Bt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t,a,r){t&=~Fo,t&=~Un,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-oe(o),f=1<<u;r[u]=-1,o&=~f}a!==0&&gc(e,a,t)}function Bi(){return(Ce&6)===0?(Es(0),!1):!0}function ru(){if(we!==null){if(Ue===0)var e=we.return;else e=we,ja=En=null,wo(e),dr=null,is=0,e=we;for(;e!==null;)Mh(e.alternate,e),e=e.return;we=null}}function _r(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,np(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ma=0,ru(),qe=e,we=a=Sa(e.current,null),xe=t,Ue=0,Vt=null,en=!1,yr=$a(e,t),Wo=!1,br=Gt=Fo=Un=tn=Ze=0,zt=xs=null,eu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-oe(r),u=1<<o;t|=e[o],r&=~u}return za=t,si(),a}function lf(e,t){fe=null,U.H=ms,t===cr||t===fi?(t=xd(),Ue=3):t===lo?(t=xd(),Ue=4):Ue=t===Mo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,we===null&&(Ze=1,Ai(e,Ft(t,e.current)))}function of(){var e=Ht.current;return e===null?!0:(xe&4194048)===xe?na===null:(xe&62914560)===xe||(xe&536870912)!==0?e===na:!1}function uf(){var e=U.H;return U.H=ms,e===null?ms:e}function cf(){var e=U.A;return U.A=zg,e}function qi(){Ze=4,en||(xe&4194048)!==xe&&Ht.current!==null||(yr=!0),(tn&134217727)===0&&(Un&134217727)===0||qe===null||rn(qe,xe,Gt,!1)}function su(e,t,a){var r=Ce;Ce|=2;var o=uf(),u=cf();(qe!==e||xe!==t)&&(Li=null,_r(e,t)),t=!1;var f=Ze;e:do try{if(Ue!==0&&we!==null){var v=we,b=Vt;switch(Ue){case 8:ru(),f=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var O=Ue;if(Ue=0,Vt=null,xr(e,v,b,O),a&&yr){f=0;break e}break;default:O=Ue,Ue=0,Vt=null,xr(e,v,b,O)}}Bg(),f=Ze;break}catch(D){lf(e,D)}while(!0);return t&&e.shellSuspendCounter++,ja=En=null,Ce=r,U.H=o,U.A=u,we===null&&(qe=null,xe=0,si()),f}function Bg(){for(;we!==null;)df(we)}function qg(e,t){var a=Ce;Ce|=2;var r=uf(),o=cf();qe!==e||xe!==t?(Li=null,Mi=ee()+500,_r(e,t)):yr=$a(e,t);e:do try{if(Ue!==0&&we!==null){t=we;var u=Vt;t:switch(Ue){case 1:Ue=0,Vt=null,xr(e,t,u,1);break;case 2:case 9:if(wd(u)){Ue=0,Vt=null,hf(t);break}t=function(){Ue!==2&&Ue!==9||qe!==e||(Ue=7),ya(e)},u.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:wd(u)?(Ue=0,Vt=null,hf(t)):(Ue=0,Vt=null,xr(e,t,u,7));break;case 5:var f=null;switch(we.tag){case 26:f=we.memoizedState;case 5:case 27:var v=we;if(f?Pf(f):v.stateNode.complete){Ue=0,Vt=null;var b=v.sibling;if(b!==null)we=b;else{var O=v.return;O!==null?(we=O,Hi(O)):we=null}break t}}Ue=0,Vt=null,xr(e,t,u,5);break;case 6:Ue=0,Vt=null,xr(e,t,u,6);break;case 8:ru(),Ze=6;break e;default:throw Error(l(462))}}Hg();break}catch(D){lf(e,D)}while(!0);return ja=En=null,U.H=r,U.A=o,Ce=a,we!==null?0:(qe=null,xe=0,si(),Ze)}function Hg(){for(;we!==null&&!bl();)df(we)}function df(e){var t=Dh(e.alternate,e,za);e.memoizedProps=e.pendingProps,t===null?Hi(e):we=t}function hf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Oh(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Oh(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:wo(t);default:Mh(a,t),t=we=ud(t,za),t=Dh(a,t,za)}e.memoizedProps=e.pendingProps,t===null?Hi(e):we=t}function xr(e,t,a,r){ja=En=null,wo(t),dr=null,is=0;var o=t.return;try{if(Og(e,o,t,a,xe)){Ze=1,Ai(e,Ft(a,e.current)),we=null;return}}catch(u){if(o!==null)throw we=o,u;Ze=1,Ai(e,Ft(a,e.current)),we=null;return}t.flags&32768?(je||r===1?e=!0:yr||(xe&536870912)!==0?e=!1:(en=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ht.current,r!==null&&r.tag===13&&(r.flags|=16384))),ff(t,e)):Hi(t)}function Hi(e){var t=e;do{if((t.flags&32768)!==0){ff(t,en);return}e=t.return;var a=Cg(t.alternate,t,za);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ze===0&&(Ze=5)}function ff(e,t){do{var a=Rg(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ze=6,we=null}function mf(e,t,a,r,o,u,f,v,b){e.cancelPendingCommit=null;do $i();while(ut!==0);if((Ce&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Xl,bm(e,a,u,f,v,b),e===qe&&(we=qe=null,xe=0),wr=t,nn=e,Ma=a,tu=u,au=o,af=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yg(mt,function(){return bf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,o=Y.p,Y.p=2,f=Ce,Ce|=4;try{Ug(e,t,a)}finally{Ce=f,Y.p=o,U.T=r}}ut=1,gf(),pf(),vf()}}function gf(){if(ut===1){ut=0;var e=nn,t=wr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=Y.p;Y.p=2;var o=Ce;Ce|=4;try{Qh(t,e);var u=vu,f=ed(e.containerInfo),v=u.focusedElem,b=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&Fc(v.ownerDocument.documentElement,v)){if(b!==null&&$l(v)){var O=b.start,D=b.end;if(D===void 0&&(D=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(D,v.value.length);else{var L=v.ownerDocument||document,k=L&&L.defaultView||window;if(k.getSelection){var R=k.getSelection(),Q=v.textContent.length,re=Math.min(b.start,Q),Le=b.end===void 0?re:Math.min(b.end,Q);!R.extend&&re>Le&&(f=Le,Le=re,re=f);var j=Wc(v,re),S=Wc(v,Le);if(j&&S&&(R.rangeCount!==1||R.anchorNode!==j.node||R.anchorOffset!==j.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var A=L.createRange();A.setStart(j.node,j.offset),R.removeAllRanges(),re>Le?(R.addRange(A),R.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),R.addRange(A))}}}}for(L=[],R=v;R=R.parentNode;)R.nodeType===1&&L.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var M=L[v];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Fi=!!pu,vu=pu=null}finally{Ce=o,Y.p=r,U.T=a}}e.current=t,ut=2}}function pf(){if(ut===2){ut=0;var e=nn,t=wr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=Y.p;Y.p=2;var o=Ce;Ce|=4;try{Gh(e,t.alternate,t)}finally{Ce=o,Y.p=r,U.T=a}}ut=3}}function vf(){if(ut===4||ut===3){ut=0,F();var e=nn,t=wr,a=Ma,r=af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,wr=nn=null,yf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(an=null),xl(a),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Lt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=U.T,o=Y.p,Y.p=2,U.T=null;try{for(var u=e.onRecoverableError,f=0;f<r.length;f++){var v=r[f];u(v.value,{componentStack:v.stack})}}finally{U.T=t,Y.p=o}}(Ma&3)!==0&&$i(),ya(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===nu?Ss++:(Ss=0,nu=e):Ss=0,Es(0)}}function yf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function $i(){return gf(),pf(),vf(),bf()}function bf(){if(ut!==5)return!1;var e=nn,t=tu;tu=0;var a=xl(Ma),r=U.T,o=Y.p;try{Y.p=32>a?32:a,U.T=null,a=au,au=null;var u=nn,f=Ma;if(ut=0,wr=nn=null,Ma=0,(Ce&6)!==0)throw Error(l(331));var v=Ce;if(Ce|=4,Fh(u.current),Zh(u,u.current,f,a),Ce=v,Es(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Lt,u)}catch{}return!0}finally{Y.p=o,U.T=r,yf(e,t)}}function wf(e,t,a){t=Ft(a,t),t=zo(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(Yr(e,2),ya(e))}function De(e,t,a){if(e.tag===3)wf(e,e,a);else for(;t!==null;){if(t.tag===3){wf(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){e=Ft(a,e),a=wh(2),r=Za(t,a,2),r!==null&&(_h(a,r,t,e),Yr(r,2),ya(r));break}}t=t.return}}function iu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Mg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(Wo=!0,o.add(a),e=$g.bind(null,e,t,a),t.then(e,e))}function $g(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(xe&a)===a&&(Ze===4||Ze===3&&(xe&62914560)===xe&&300>ee()-zi?(Ce&2)===0&&_r(e,0):Fo|=a,br===xe&&(br=0)),ya(e)}function _f(e,t){t===0&&(t=mc()),e=_n(e,t),e!==null&&(Yr(e,t),ya(e))}function Vg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_f(e,a)}function Gg(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),_f(e,a)}function Yg(e,t){return Vr(e,t)}var Vi=null,Sr=null,lu=!1,Gi=!1,ou=!1,sn=0;function ya(e){e!==Sr&&e.next===null&&(Sr===null?Vi=Sr=e:Sr=Sr.next=e),Gi=!0,lu||(lu=!0,Xg())}function Es(e,t){if(!ou&&Gi){ou=!0;do for(var a=!1,r=Vi;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var f=r.suspendedLanes,v=r.pingedLanes;u=(1<<31-oe(42|e)+1)-1,u&=o&~(f&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,jf(r,u))}else u=xe,u=Gn(r,r===qe?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||$a(r,u)||(a=!0,jf(r,u));r=r.next}while(a);ou=!1}}function Kg(){xf()}function xf(){Gi=lu=!1;var e=0;sn!==0&&ap()&&(e=sn);for(var t=ee(),a=null,r=Vi;r!==null;){var o=r.next,u=Sf(r,t);u===0?(r.next=null,a===null?Vi=o:a.next=o,o===null&&(Sr=a)):(a=r,(e!==0||(u&3)!==0)&&(Gi=!0)),r=o}ut!==0&&ut!==5||Es(e),sn!==0&&(sn=0)}function Sf(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-oe(u),v=1<<f,b=o[f];b===-1?((v&a)===0||(v&r)!==0)&&(o[f]=Nt(v,t)):b<=t&&(e.expiredLanes|=v),u&=~v}if(t=qe,a=xe,a=Gn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Gr(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$a(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Gr(r),xl(a)){case 2:case 8:a=be;break;case 32:a=mt;break;case 268435456:a=Ha;break;default:a=mt}return r=Ef.bind(null,e),a=Vr(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Gr(r),e.callbackPriority=2,e.callbackNode=null,2}function Ef(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($i()&&e.callbackNode!==a)return null;var r=xe;return r=Gn(e,e===qe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(rf(e,r,t),Sf(e,ee()),e.callbackNode!=null&&e.callbackNode===a?Ef.bind(null,e):null)}function jf(e,t){if($i())return null;rf(e,t,!0)}function Xg(){rp(function(){(Ce&6)!==0?Vr(Ae,Kg):xf()})}function uu(){if(sn===0){var e=or;e===0&&(e=he,he<<=1,(he&261888)===0&&(he=256)),sn=e}return sn}function Tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ps(""+e)}function Af(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jg(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var u=Tf((o[kt]||null).action),f=r.submitter;f&&(t=(t=f[kt]||null)?Tf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var v=new ti("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(sn!==0){var b=f?Af(o,f):new FormData(o);No(a,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(v.preventDefault(),b=f?Af(o,f):new FormData(o),No(a,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var cu=0;cu<Kl.length;cu++){var du=Kl[cu],Qg=du.toLowerCase(),Ig=du[0].toUpperCase()+du.slice(1);ia(Qg,"on"+Ig)}ia(nd,"onAnimationEnd"),ia(rd,"onAnimationIteration"),ia(sd,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(dg,"onTransitionRun"),ia(hg,"onTransitionStart"),ia(fg,"onTransitionCancel"),ia(id,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(js));function Of(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var f=r.length-1;0<=f;f--){var v=r[f],b=v.instance,O=v.currentTarget;if(v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=O;try{u(o)}catch(D){ri(D)}o.currentTarget=null,u=b}else for(f=0;f<r.length;f++){if(v=r[f],b=v.instance,O=v.currentTarget,v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=O;try{u(o)}catch(D){ri(D)}o.currentTarget=null,u=b}}}}function _e(e,t){var a=t[Sl];a===void 0&&(a=t[Sl]=new Set);var r=e+"__bubble";a.has(r)||(Nf(t,e,2,!1),a.add(r))}function hu(e,t,a){var r=0;t&&(r|=4),Nf(a,e,r,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[Yi]){e[Yi]=!0,_c.forEach(function(a){a!=="selectionchange"&&(Zg.has(a)||hu(a,!1,e),hu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,hu("selectionchange",!1,t))}}function Nf(e,t,a,r){switch(r0(t)){case 2:var o=Ep;break;case 8:o=jp;break;default:o=Ou}a=o.bind(null,t,a,e),o=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function mu(e,t,a,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var v=r.stateNode.containerInfo;if(v===o)break;if(f===4)for(f=r.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;v!==null;){if(f=Kn(v),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){r=u=f;continue e}v=v.parentNode}}r=r.return}Uc(function(){var O=u,D=kl(a),L=[];e:{var k=ld.get(e);if(k!==void 0){var R=ti,Q=e;switch(e){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":R=Gm;break;case"focusin":Q="focus",R=Ml;break;case"focusout":Q="blur",R=Ml;break;case"beforeblur":case"afterblur":R=Ml;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Xm;break;case nd:case rd:case sd:R=Dm;break;case id:R=Qm;break;case"scroll":case"scrollend":R=Nm;break;case"wheel":R=Zm;break;case"copy":case"cut":case"paste":R=Mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Bc;break;case"toggle":case"beforetoggle":R=Wm}var re=(t&4)!==0,Le=!re&&(e==="scroll"||e==="scrollend"),j=re?k!==null?k+"Capture":null:k;re=[];for(var S=O,A;S!==null;){var M=S;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||j===null||(M=Jr(S,j),M!=null&&re.push(Ts(S,M,A))),Le)break;S=S.return}0<re.length&&(k=new R(k,Q,null,a,D),L.push({event:k,listeners:re}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",k&&a!==Nl&&(Q=a.relatedTarget||a.fromElement)&&(Kn(Q)||Q[Yn]))break e;if((R||k)&&(k=D.window===D?D:(k=D.ownerDocument)?k.defaultView||k.parentWindow:window,R?(Q=a.relatedTarget||a.toElement,R=O,Q=Q?Kn(Q):null,Q!==null&&(Le=d(Q),re=Q.tag,Q!==Le||re!==5&&re!==27&&re!==6)&&(Q=null)):(R=null,Q=O),R!==Q)){if(re=Mc,M="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=Bc,M="onPointerLeave",j="onPointerEnter",S="pointer"),Le=R==null?k:Xr(R),A=Q==null?k:Xr(Q),k=new re(M,S+"leave",R,a,D),k.target=Le,k.relatedTarget=A,M=null,Kn(D)===O&&(re=new re(j,S+"enter",Q,a,D),re.target=A,re.relatedTarget=Le,M=re),Le=M,R&&Q)t:{for(re=Pg,j=R,S=Q,A=0,M=j;M;M=re(M))A++;M=0;for(var ae=S;ae;ae=re(ae))M++;for(;0<A-M;)j=re(j),A--;for(;0<M-A;)S=re(S),M--;for(;A--;){if(j===S||S!==null&&j===S.alternate){re=j;break t}j=re(j),S=re(S)}re=null}else re=null;R!==null&&kf(L,k,R,re,!1),Q!==null&&Le!==null&&kf(L,Le,Q,re,!0)}}e:{if(k=O?Xr(O):window,R=k.nodeName&&k.nodeName.toLowerCase(),R==="select"||R==="input"&&k.type==="file")var Oe=Xc;else if(Yc(k))if(Jc)Oe=og;else{Oe=ig;var Z=sg}else R=k.nodeName,!R||R.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Ol(O.elementType)&&(Oe=Xc):Oe=lg;if(Oe&&(Oe=Oe(e,O))){Kc(L,Oe,a,D);break e}Z&&Z(e,k,O),e==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&Al(k,"number",k.value)}switch(Z=O?Xr(O):window,e){case"focusin":(Yc(Z)||Z.contentEditable==="true")&&(er=Z,Vl=O,ts=null);break;case"focusout":ts=Vl=er=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,td(L,a,D);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":td(L,a,D)}var me;if(Bl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fn?Vc(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(qc&&a.locale!=="ko"&&(Fn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fn&&(me=Dc()):(Ga=D,Ul="value"in Ga?Ga.value:Ga.textContent,Fn=!0)),Z=Ki(O,Se),0<Z.length&&(Se=new Lc(Se,e,null,a,D),L.push({event:Se,listeners:Z}),me?Se.data=me:(me=Gc(a),me!==null&&(Se.data=me)))),(me=eg?tg(e,a):ag(e,a))&&(Se=Ki(O,"onBeforeInput"),0<Se.length&&(Z=new Lc("onBeforeInput","beforeinput",null,a,D),L.push({event:Z,listeners:Se}),Z.data=me)),Jg(L,e,O,a,D)}Of(L,t)})}function Ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ki(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Jr(e,a),o!=null&&r.unshift(Ts(e,o,u)),o=Jr(e,t),o!=null&&r.push(Ts(e,o,u))),e.tag===3)return r;e=e.return}return[]}function Pg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kf(e,t,a,r,o){for(var u=t._reactName,f=[];a!==null&&a!==r;){var v=a,b=v.alternate,O=v.stateNode;if(v=v.tag,b!==null&&b===r)break;v!==5&&v!==26&&v!==27||O===null||(b=O,o?(O=Jr(a,u),O!=null&&f.unshift(Ts(a,O,b))):o||(O=Jr(a,u),O!=null&&f.push(Ts(a,O,b)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Wg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(Wg,`
`).replace(Fg,"")}function Rf(e,t){return t=Cf(t),Cf(e)===t}function Me(e,t,a,r,o,u){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Zn(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Zn(e,""+r);break;case"className":Is(e,"class",r);break;case"tabIndex":Is(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(e,a,r);break;case"style":Cc(e,r,u);break;case"data":if(t!=="object"){Is(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ps(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",o.name,o,null),Me(e,t,"formEncType",o.formEncType,o,null),Me(e,t,"formMethod",o.formMethod,o,null),Me(e,t,"formTarget",o.formTarget,o,null)):(Me(e,t,"encType",o.encType,o,null),Me(e,t,"method",o.method,o,null),Me(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ps(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=_a);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Ps(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Qs(e,"popover",r);break;case"xlinkActuate":wa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":wa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":wa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":wa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":wa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":wa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":wa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":wa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":wa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Qs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Am.get(a)||a,Qs(e,a,r))}}function gu(e,t,a,r,o,u){switch(a){case"style":Cc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Zn(e,r):(typeof r=="number"||typeof r=="bigint")&&Zn(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[kt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Qs(e,a,r)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var f=a[u];if(f!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Me(e,t,u,f,a,null)}}o&&Me(e,t,"srcSet",a.srcSet,a,null),r&&Me(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var v=u=f=o=null,b=null,O=null;for(r in a)if(a.hasOwnProperty(r)){var D=a[r];if(D!=null)switch(r){case"name":o=D;break;case"type":f=D;break;case"checked":b=D;break;case"defaultChecked":O=D;break;case"value":u=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Me(e,t,r,D,a,null)}}Ac(e,u,v,b,O,f,o,!1);return;case"select":_e("invalid",e),r=f=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":f=v;break;case"multiple":r=v;default:Me(e,t,o,v,a,null)}t=u,a=f,e.multiple=!!r,t!=null?In(e,!!r,t,!1):a!=null&&In(e,!!r,a,!0);return;case"textarea":_e("invalid",e),u=o=r=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":r=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Me(e,t,f,v,a,null)}Nc(e,r,o,u);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(r=a[b],r!=null))switch(b){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Me(e,t,b,r,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<js.length;r++)_e(js[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(r=a[O],r!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Me(e,t,O,r,a,null)}return;default:if(Ol(t)){for(D in a)a.hasOwnProperty(D)&&(r=a[D],r!==void 0&&gu(e,t,D,r,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(r=a[v],r!=null&&Me(e,t,v,r,a,null))}function ep(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,v=null,b=null,O=null,D=null;for(R in a){var L=a[R];if(a.hasOwnProperty(R)&&L!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":b=L;default:r.hasOwnProperty(R)||Me(e,t,R,null,r,L)}}for(var k in r){var R=r[k];if(L=a[k],r.hasOwnProperty(k)&&(R!=null||L!=null))switch(k){case"type":u=R;break;case"name":o=R;break;case"checked":O=R;break;case"defaultChecked":D=R;break;case"value":f=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:R!==L&&Me(e,t,k,R,r,L)}}Tl(e,f,v,b,O,D,u,o);return;case"select":R=f=v=k=null;for(u in a)if(b=a[u],a.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":R=b;default:r.hasOwnProperty(u)||Me(e,t,u,null,r,b)}for(o in r)if(u=r[o],b=a[o],r.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":k=u;break;case"defaultValue":v=u;break;case"multiple":f=u;default:u!==b&&Me(e,t,o,u,r,b)}t=v,a=f,r=R,k!=null?In(e,!!a,k,!1):!!r!=!!a&&(t!=null?In(e,!!a,t,!0):In(e,!!a,a?[]:"",!1));return;case"textarea":R=k=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Me(e,t,v,null,r,o)}for(f in r)if(o=r[f],u=a[f],r.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":k=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Me(e,t,f,o,r,u)}Oc(e,k,R);return;case"option":for(var Q in a)if(k=a[Q],a.hasOwnProperty(Q)&&k!=null&&!r.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Me(e,t,Q,null,r,k)}for(b in r)if(k=r[b],R=a[b],r.hasOwnProperty(b)&&k!==R&&(k!=null||R!=null))switch(b){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Me(e,t,b,k,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)k=a[re],a.hasOwnProperty(re)&&k!=null&&!r.hasOwnProperty(re)&&Me(e,t,re,null,r,k);for(O in r)if(k=r[O],R=a[O],r.hasOwnProperty(O)&&k!==R&&(k!=null||R!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:Me(e,t,O,k,r,R)}return;default:if(Ol(t)){for(var Le in a)k=a[Le],a.hasOwnProperty(Le)&&k!==void 0&&!r.hasOwnProperty(Le)&&gu(e,t,Le,void 0,r,k);for(D in r)k=r[D],R=a[D],!r.hasOwnProperty(D)||k===R||k===void 0&&R===void 0||gu(e,t,D,k,r,R);return}}for(var j in a)k=a[j],a.hasOwnProperty(j)&&k!=null&&!r.hasOwnProperty(j)&&Me(e,t,j,null,r,k);for(L in r)k=r[L],R=a[L],!r.hasOwnProperty(L)||k===R||k==null&&R==null||Me(e,t,L,k,r,R)}function Uf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],u=o.transferSize,f=o.initiatorType,v=o.duration;if(u&&v&&Uf(f)){for(f=0,v=o.responseEnd,r+=1;r<a.length;r++){var b=a[r],O=b.startTime;if(O>v)break;var D=b.transferSize,L=b.initiatorType;D&&Uf(L)&&(b=b.responseEnd,f+=D*(b<v?1:(v-O)/(b-O)))}if(--r,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,vu=null;function Xi(e){return e.nodeType===9?e:e.ownerDocument}function Df(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function ap(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var Mf=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(sp)}:Mf;function sp(e){setTimeout(function(){throw e})}function ln(e){return e==="head"}function Bf(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),Ar(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")As(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,As(a);for(var u=a.firstChild;u;){var f=u.nextSibling,v=u.nodeName;u[Kr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=f}}else a==="body"&&As(e.ownerDocument.body);a=o}while(a);Ar(t)}function qf(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wu(a),El(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ip(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Kr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ra(e.nextSibling),e===null)break}return null}function lp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ra(e.nextSibling),e===null))return null;return e}function Hf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ra(e.nextSibling),e===null))return null;return e}function _u(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function op(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Su=null;function $f(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ra(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Gf(e,t,a){switch(t=Xi(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function As(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);El(e)}var sa=new Map,Yf=new Set;function Ji(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var La=Y.d;Y.d={f:up,r:cp,D:dp,C:hp,L:fp,m:mp,X:pp,S:gp,M:vp};function up(){var e=La.f(),t=Bi();return e||t}function cp(e){var t=Xn(e);t!==null&&t.tag===5&&t.type==="form"?ih(t):La.r(e)}var Er=typeof document>"u"?null:document;function Kf(e,t,a){var r=Er;if(r&&typeof t=="string"&&t){var o=Pt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Yf.has(o)||(Yf.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),bt(t,"link",e),ht(t),r.head.appendChild(t)))}}function dp(e){La.D(e),Kf("dns-prefetch",e,null)}function hp(e,t){La.C(e,t),Kf("preconnect",e,t)}function fp(e,t,a){La.L(e,t,a);var r=Er;if(r&&e&&t){var o='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Pt(a.imageSizes)+'"]')):o+='[href="'+Pt(e)+'"]';var u=o;switch(t){case"style":u=jr(e);break;case"script":u=Tr(e)}sa.has(u)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),sa.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Os(u))||t==="script"&&r.querySelector(Ns(u))||(t=r.createElement("link"),bt(t,"link",e),ht(t),r.head.appendChild(t)))}}function mp(e,t){La.m(e,t);var a=Er;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Pt(r)+'"][href="'+Pt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Tr(e)}if(!sa.has(u)&&(e=x({rel:"modulepreload",href:e},t),sa.set(u,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ns(u)))return}r=a.createElement("link"),bt(r,"link",e),ht(r),a.head.appendChild(r)}}}function gp(e,t,a){La.S(e,t,a);var r=Er;if(r&&e){var o=Jn(r).hoistableStyles,u=jr(e);t=t||"default";var f=o.get(u);if(!f){var v={loading:0,preload:null};if(f=r.querySelector(Os(u)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=sa.get(u))&&Eu(e,a);var b=f=r.createElement("link");ht(b),bt(b,"link",e),b._p=new Promise(function(O,D){b.onload=O,b.onerror=D}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qi(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:v},o.set(u,f)}}}function pp(e,t){La.X(e,t);var a=Er;if(a&&e){var r=Jn(a).hoistableScripts,o=Tr(e),u=r.get(o);u||(u=a.querySelector(Ns(o)),u||(e=x({src:e,async:!0},t),(t=sa.get(o))&&ju(e,t),u=a.createElement("script"),ht(u),bt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function vp(e,t){La.M(e,t);var a=Er;if(a&&e){var r=Jn(a).hoistableScripts,o=Tr(e),u=r.get(o);u||(u=a.querySelector(Ns(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=sa.get(o))&&ju(e,t),u=a.createElement("script"),ht(u),bt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Xf(e,t,a,r){var o=(o=pe.current)?Ji(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=jr(a.href),a=Jn(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=jr(a.href);var u=Jn(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(Os(e)))&&!u._p&&(f.instance=u,f.state.loading=5),sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sa.set(e,a),u||yp(o,e,a,f.state))),t&&r===null)throw Error(l(528,""));return f}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tr(a),a=Jn(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function jr(e){return'href="'+Pt(e)+'"'}function Os(e){return'link[rel="stylesheet"]['+e+"]"}function Jf(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function yp(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),bt(t,"link",a),ht(t),e.head.appendChild(t))}function Tr(e){return'[src="'+Pt(e)+'"]'}function Ns(e){return"script[async]"+e}function Qf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(r)return t.instance=r,ht(r),r;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ht(r),bt(r,"style",o),Qi(r,a.precedence,e),t.instance=r;case"stylesheet":o=jr(a.href);var u=e.querySelector(Os(o));if(u)return t.state.loading|=4,t.instance=u,ht(u),u;r=Jf(a),(o=sa.get(o))&&Eu(r,o),u=(e.ownerDocument||e).createElement("link"),ht(u);var f=u;return f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),bt(u,"link",r),t.state.loading|=4,Qi(u,a.precedence,e),t.instance=u;case"script":return u=Tr(a.src),(o=e.querySelector(Ns(u)))?(t.instance=o,ht(o),o):(r=a,(o=sa.get(u))&&(r=x({},a),ju(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),bt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Qi(r,a.precedence,e));return t.instance}function Qi(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,f=0;f<r.length;f++){var v=r[f];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ii=null;function If(e,t,a){if(Ii===null){var r=new Map,o=Ii=new Map;o.set(a,r)}else o=Ii,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Kr]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var v=r.get(f);v?v.push(u):r.set(f,[u])}}return r}function Zf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function bp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wp(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=jr(r.href),u=t.querySelector(Os(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ht(u);return}u=t.ownerDocument||t,r=Jf(r),(o=sa.get(o))&&Eu(r,o),u=u.createElement("link"),ht(u);var f=u;f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),bt(u,"link",r),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Tu=0;function _p(e,t){return e.stylesheets&&e.count===0&&Wi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Tu===0&&(Tu=62500*tp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Tu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pi=null;function Wi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pi=new Map,t.forEach(xp,e),Pi=null,Zi.call(e))}function xp(e,t){if(!(t.state.loading&4)){var a=Pi.get(e);if(a)var r=a.get(null);else{a=new Map,Pi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),r=f)}r&&a.set(null,r)}o=t.instance,f=o.getAttribute("data-precedence"),u=a.get(f)||r,u===r&&a.set(null,o),a.set(f,o),this.count++,r=Zi.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ks={$$typeof:B,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Sp(e,t,a,r,o,u,f,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.hiddenUpdates=wl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Wf(e,t,a,r,o,u,f,v,b,O,D,L){return e=new Sp(e,t,a,f,b,O,D,L,v),t=1,u===!0&&(t|=24),u=qt(3,null,null,t),e.current=u,u.stateNode=e,t=ro(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:t},oo(u),e}function Ff(e){return e?(e=nr,e):nr}function e0(e,t,a,r,o,u){o=Ff(o),r.context===null?r.context=o:r.pendingContext=o,r=Ia(t),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=Za(e,r,t),a!==null&&(Mt(a,e,t),os(a,e,t))}function t0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Au(e,t){t0(e,t),(e=e.alternate)&&t0(e,t)}function a0(e){if(e.tag===13||e.tag===31){var t=_n(e,67108864);t!==null&&Mt(t,e,67108864),Au(e,67108864)}}function n0(e){if(e.tag===13||e.tag===31){var t=Yt();t=_l(t);var a=_n(e,t);a!==null&&Mt(a,e,t),Au(e,t)}}var Fi=!0;function Ep(e,t,a,r){var o=U.T;U.T=null;var u=Y.p;try{Y.p=2,Ou(e,t,a,r)}finally{Y.p=u,U.T=o}}function jp(e,t,a,r){var o=U.T;U.T=null;var u=Y.p;try{Y.p=8,Ou(e,t,a,r)}finally{Y.p=u,U.T=o}}function Ou(e,t,a,r){if(Fi){var o=Nu(r);if(o===null)mu(e,t,r,el,a),s0(e,r);else if(Ap(o,e,t,a,r))r.stopPropagation();else if(s0(e,r),t&4&&-1<Tp.indexOf(e)){for(;o!==null;){var u=Xn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=It(u.pendingLanes);if(f!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var b=1<<31-oe(f);v.entanglements[1]|=b,f&=~b}ya(u),(Ce&6)===0&&(Mi=ee()+500,Es(0))}}break;case 31:case 13:v=_n(u,2),v!==null&&Mt(v,u,2),Bi(),Au(u,2)}if(u=Nu(r),u===null&&mu(e,t,r,el,a),u===o)break;o=u}o!==null&&r.stopPropagation()}else mu(e,t,r,null,a)}}function Nu(e){return e=kl(e),ku(e)}var el=null;function ku(e){if(el=null,e=Kn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return el=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case Ae:return 2;case be:return 8;case mt:case xt:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var Cu=!1,on=null,un=null,cn=null,Cs=new Map,Rs=new Map,dn=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function Us(e,t,a,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Xn(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ap(e,t,a,r,o){switch(t){case"focusin":return on=Us(on,e,t,a,r,o),!0;case"dragenter":return un=Us(un,e,t,a,r,o),!0;case"mouseover":return cn=Us(cn,e,t,a,r,o),!0;case"pointerover":var u=o.pointerId;return Cs.set(u,Us(Cs.get(u)||null,e,t,a,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Rs.set(u,Us(Rs.get(u)||null,e,t,a,r,o)),!0}return!1}function i0(e){var t=Kn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,bc(e.priority,function(){n0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,bc(e.priority,function(){n0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Nl=r,a.target.dispatchEvent(r),Nl=null}else return t=Xn(a),t!==null&&a0(t),e.blockedOn=a,!1;t.shift()}return!0}function l0(e,t,a){tl(e)&&a.delete(t)}function Op(){Cu=!1,on!==null&&tl(on)&&(on=null),un!==null&&tl(un)&&(un=null),cn!==null&&tl(cn)&&(cn=null),Cs.forEach(l0),Rs.forEach(l0)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Op)))}var nl=null;function o0(e){nl!==e&&(nl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nl===e&&(nl=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(ku(r||a)===null)continue;break}var u=Xn(a);u!==null&&(e.splice(t,3),t-=3,No(u,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function Ar(e){function t(b){return al(b,e)}on!==null&&al(on,e),un!==null&&al(un,e),cn!==null&&al(cn,e),Cs.forEach(t),Rs.forEach(t);for(var a=0;a<dn.length;a++){var r=dn[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<dn.length&&(a=dn[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&dn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],u=a[r+1],f=o[kt]||null;if(typeof u=="function")f||o0(a);else if(f){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[kt]||null)v=f.formAction;else if(ku(o)!==null)continue}else v=f.action;typeof v=="function"?a[r+1]=v:(a.splice(r,3),r-=3),o0(a)}}}function u0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ru(e){this._internalRoot=e}rl.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Yt();e0(a,r,e,t,null,null)},rl.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e0(e.current,2,null,e,null,null),Bi(),t[Yn]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<dn.length&&t!==0&&t<dn[a].priority;a++);dn.splice(a,0,e),a===0&&i0(e)}};var c0=n.version;if(c0!=="19.2.3")throw Error(l(527,c0,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Np={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Lt=sl.inject(Np),St=sl}catch{}}return zs.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,r="",o=ph,u=vh,f=yh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Wf(e,1,!1,null,null,a,r,null,o,u,f,u0),e[Yn]=t.current,fu(e),new Ru(t)},zs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var r=!1,o="",u=ph,f=vh,v=yh,b=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Wf(e,1,!0,t,a??null,r,o,b,u,f,v,u0),t.context=Ff(null),a=t.current,r=Yt(),r=_l(r),o=Ia(r),o.callback=null,Za(a,o,r),a=r,t.current.lanes=a,Yr(t,a),ya(t),e[Yn]=t.current,fu(e),new rl(t)},zs.version="19.2.3",zs}var w0;function qp(){if(w0)return zu.exports;w0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),zu.exports=Bp(),zu.exports}var Hp=qp();const $p=F0(Hp),Vp=[{id:"p1",userId:"twc_official",username:"barista_pro",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&h=200&auto=format&fit=crop",content:"Just perfected the art of the perfect pour-over. The notes of blueberry and dark chocolate in this Ethiopian Yirgacheffe are absolutely stunning!  #ThirdWaveCoffee #Wavegram",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=800&h=500&auto=format&fit=crop",likes:85,shares:12,createdAt:"45m",comments:[{id:"c1",userId:"u3",username:"coffee_lover_99",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&h=200&auto=format&fit=crop",content:"Drop the recipe and grind size please!",createdAt:"30m",likes:5}]},{id:"p2",userId:"u4",username:"morning_ritual",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&h=200&auto=format&fit=crop",content:"Nothing beats a fresh batch of cold brew on a sunny morning. Steeping for 18 hours makes all the difference. Who else is a fan of long steeps? ",likes:156,shares:24,createdAt:"3h",comments:[]},{id:"p3",userId:"u5",username:"barista_hq",avatar:"https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=200&h=200&auto=format&fit=crop",content:"Our new seasonal beans are finally here! Direct from a small farm in Costa Rica. Expect honey-like sweetness and a silky body. ",image:"https://images.unsplash.com/photo-1442154421459-335190013233?q=80&w=800&h=500&auto=format&fit=crop",likes:210,shares:45,createdAt:"5h",comments:[]}],Xt={Home:({active:s})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:s?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Search:({active:s})=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:s?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Post:()=>m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Heart:({active:s})=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:s?"#ed4956":"none",stroke:s?"#ed4956":"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Comment:()=>m.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Share:()=>m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),More:()=>m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Verified:()=>m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#1d9bf0",stroke:"white",strokeWidth:"1",children:[m.jsx("path",{d:"M12 2L15.09 5.26L19.47 4.53L20.2 8.91L23.46 12L20.2 15.09L19.47 19.47L15.09 20.2L12 23.46L8.91 20.2L4.53 19.47L3.8 15.09L0.54 12L3.8 8.91L4.53 4.53L8.91 5.26L12 2Z"}),m.jsx("path",{d:"M9 12L11 14L15 10",stroke:"white",strokeWidth:"2",fill:"none"})]})};var ge=(s=>(s.HOME="home",s.SEARCH="search",s.POST="post",s.ACTIVITY="activity",s.PROFILE="profile",s))(ge||{});const Gp=""+new URL("logo-evTblqn5.png",import.meta.url).href,Yp=({children:s,activeTab:n,setActiveTab:i,onLogout:l,unreadCount:c=0})=>m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] text-[#efebe9] flex flex-col md:flex-row justify-center pt-[max(env(safe-area-inset-top),1.5rem)]",children:[m.jsxs("nav",{className:"hidden md:flex flex-col items-center py-6 w-20 fixed left-0 top-0 bottom-0 bg-[#0e0d0c] z-20 border-r border-[#2c1a12] pt-safe",children:[m.jsx("div",{className:"mb-10 cursor-pointer group px-4 mt-4",onClick:()=>i(ge.HOME),children:m.jsx("img",{src:Gp,alt:"Wavegram",className:"w-full h-auto object-contain group-hover:scale-110 transition-transform duration-300"})}),m.jsxs("div",{className:"flex flex-col gap-8 flex-1",children:[m.jsx("button",{onClick:()=>i(ge.HOME),className:`${n===ge.HOME?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Xt.Home,{active:n===ge.HOME})}),m.jsx("button",{onClick:()=>i(ge.SEARCH),className:`${n===ge.SEARCH?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Xt.Search,{active:n===ge.SEARCH})}),m.jsx("button",{onClick:()=>i(ge.POST),className:`${n===ge.POST?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsx(Xt.Post,{})}),m.jsxs("button",{onClick:()=>i(ge.ACTIVITY),className:`${n===ge.ACTIVITY?"text-white":"text-neutral-500"} hover:text-white transition-colors relative`,children:[m.jsx(Xt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>i(ge.PROFILE),className:`${n===ge.PROFILE?"text-white":"text-neutral-500"} hover:text-white transition-colors`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),m.jsx("button",{onClick:l,className:"mt-auto mb-6 p-3 text-neutral-500 hover:text-red-400 transition-colors transform hover:scale-110",title:"Sign Out",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),m.jsx("main",{className:"w-full max-w-[640px] border-x border-[#2c1a12] pb-20 md:pb-0 min-h-screen bg-[#0e0d0c]",children:s}),m.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#0e0d0c]/95 backdrop-blur-md border-t border-[#2c1a12] h-16 flex justify-around items-center z-20 px-4",children:[m.jsx("button",{onClick:()=>i(ge.HOME),className:`${n===ge.HOME?"text-white":"text-neutral-500"}`,children:m.jsx(Xt.Home,{active:n===ge.HOME})}),m.jsx("button",{onClick:()=>i(ge.SEARCH),className:`${n===ge.SEARCH?"text-white":"text-neutral-500"}`,children:m.jsx(Xt.Search,{active:n===ge.SEARCH})}),m.jsx("button",{onClick:()=>i(ge.POST),className:`${n===ge.POST?"text-white":"text-neutral-500"}`,children:m.jsx(Xt.Post,{})}),m.jsxs("button",{onClick:()=>i(ge.ACTIVITY),className:`${n===ge.ACTIVITY?"text-white":"text-neutral-500"} relative`,children:[m.jsx(Xt.Heart,{}),c>0&&m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0e0d0c]"})]}),m.jsx("button",{onClick:()=>i(ge.PROFILE),className:`${n===ge.PROFILE?"text-white":"text-neutral-500"}`,children:m.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-red-400",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),_0=({post:s,isOwner:n,onLike:i,onComment:l,onShare:c,onEdit:d,onDelete:h,onUserClick:g})=>{const[p,y]=Ye.useState(!1),[w,x]=Ye.useState(!1);return m.jsx("div",{className:"border-b border-[#2c1a12] p-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("img",{src:s.avatar,alt:s.username,onClick:()=>g==null?void 0:g(s.userId),className:"w-12 h-12 rounded-full object-cover border-2 border-[#c29a67]/20 shadow-lg cursor-pointer hover:border-[#c29a67] transition-colors"}),s.comments.length>0&&m.jsx("div",{className:"w-[2px] grow bg-[#2c1a12] rounded-full my-1"}),s.comments.length>0&&m.jsx("div",{className:"flex -space-x-4 mt-1",children:s.comments.slice(0,2).map((_,N)=>m.jsx("img",{src:_.avatar,className:"w-5 h-5 rounded-full border-2 border-[#0e0d0c]"},N))})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{onClick:()=>g==null?void 0:g(s.userId),className:"font-bold text-[16px] text-[#efebe9] hover:text-[#c29a67] transition-colors cursor-pointer tracking-tight",children:s.username}),m.jsx(Xt.Verified,{}),m.jsx("span",{className:"text-[#a09a96] text-xs font-medium uppercase tracking-wider ml-1",children:s.createdAt})]}),n&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>x(!w),className:"text-[#a09a96] hover:text-[#c29a67] transition-colors p-1",children:m.jsx(Xt.More,{})}),w&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>x(!1)}),m.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#1a1817] border border-[#2c1a12] rounded-2xl shadow-2xl overflow-hidden z-40 backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200",children:[m.jsxs("button",{onClick:()=>{x(!1),d==null||d(s)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#efebe9] hover:bg-[#c29a67]/10 hover:text-[#c29a67] transition-colors flex items-center gap-3",children:[m.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit Brew"]}),m.jsxs("button",{onClick:_=>{_.stopPropagation(),x(!1),h==null||h(s.id)},className:"w-full px-6 py-4 text-left text-sm font-bold text-[#ff4b4b] hover:bg-[#ff4b4b]/10 transition-colors flex items-center gap-3 border-t border-[#2c1a12]",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Brew"]})]})]})]})]}),m.jsx("p",{className:"text-[15px] leading-relaxed mb-3 whitespace-pre-wrap",children:s.content}),s.image&&m.jsx("div",{className:"rounded-xl overflow-hidden border border-[#2c1a12] mb-4 bg-[#0e0d0c]",children:m.jsx("img",{src:s.image,alt:"post content",className:"w-full object-contain max-h-[500px]"})}),m.jsxs("div",{className:"flex items-center gap-5 text-neutral-400 mt-1",children:[m.jsx("button",{onClick:()=>i(s.id),className:`flex items-center gap-1.5 transition-transform active:scale-90 ${s.isLiked?"text-[#ed4956]":"hover:text-white"}`,children:m.jsx(Xt.Heart,{active:s.isLiked})}),m.jsx("button",{onClick:()=>l(s),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Xt.Comment,{})}),m.jsx("button",{onClick:()=>c(s),className:"flex items-center gap-1.5 hover:text-white",children:m.jsx(Xt.Share,{})})]}),m.jsxs("div",{className:"mt-3 text-[14px] text-neutral-500 flex items-center gap-2",children:[s.likes>0&&m.jsxs("span",{children:[s.likes," likes"]}),s.likes>0&&s.comments.length>0&&m.jsx("span",{children:""}),s.comments.length>0&&m.jsxs("button",{onClick:()=>y(!p),className:"hover:text-[#c29a67] transition-colors flex items-center gap-1 font-medium",children:[s.comments.length," ",s.comments.length===1?"reply":"replies",m.jsx("svg",{className:`w-3 h-3 transition-transform duration-300 ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})]})]}),s.comments.length>0&&p&&m.jsx("div",{className:"mt-6 space-y-4 border-l-2 border-[#2c1a12] ml-2 pl-6 animate-in slide-in-from-top-4 duration-300",children:s.comments.map(_=>m.jsxs("div",{className:"bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12]/50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("img",{src:_.avatar,className:"w-6 h-6 rounded-full"}),m.jsxs("span",{className:"font-bold text-xs text-[#efebe9]",children:["@",_.username]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider",children:_.createdAt})]}),m.jsx("p",{className:"text-sm text-[#efebe9]/90 leading-relaxed",children:_.content})]},_.id))})]})]})})};function gl(s,n){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(i[l[c]]=s[l[c]]);return i}function Kp(s,n,i,l){function c(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function g(w){try{y(l.next(w))}catch(x){h(x)}}function p(w){try{y(l.throw(w))}catch(x){h(x)}}function y(w){w.done?d(w.value):c(w.value).then(g,p)}y((l=l.apply(s,n||[])).next())})}const Xp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class oc extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class Jp extends oc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class x0 extends oc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class S0 extends oc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Iu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Iu||(Iu={}));class Qp{constructor(n,{headers:i={},customFetch:l,region:c=Iu.Any}={}){this.url=n,this.headers=i,this.region=c,this.fetch=Xp(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Kp(this,arguments,void 0,function*(i,l={}){var c;let d,h;try{const{headers:g,method:p,body:y,signal:w,timeout:x}=l;let _={},{region:N}=l;N||(N=this.region);const T=new URL(`${this.url}/${i}`);N&&N!=="any"&&(_["x-region"]=N,T.searchParams.set("forceFunctionRegion",N));let C;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=y):typeof y=="string"?(_["Content-Type"]="text/plain",C=y):typeof FormData<"u"&&y instanceof FormData?C=y:(_["Content-Type"]="application/json",C=JSON.stringify(y)):C=y;let z=w;x&&(h=new AbortController,d=setTimeout(()=>h.abort(),x),w?(z=h.signal,w.addEventListener("abort",()=>h.abort())):z=h.signal);const H=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),g),body:C,signal:z}).catch(ue=>{throw new Jp(ue)}),G=H.headers.get("x-relay-error");if(G&&G==="true")throw new x0(H);if(!H.ok)throw new S0(H);let B=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return B==="application/json"?X=yield H.json():B==="application/octet-stream"||B==="application/pdf"?X=yield H.blob():B==="text/event-stream"?X=H:B==="multipart/form-data"?X=yield H.formData():X=yield H.text(),{data:X,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof S0||g instanceof x0?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var Ip=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Zp=class{constructor(s){var n,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,g=null,p=null,y=d.status,w=d.statusText;if(d.ok){var x,_;if(i.method!=="HEAD"){var N;const H=await d.text();H===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((N=i.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?g=H:g=JSON.parse(H))}const C=(x=i.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),z=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");C&&z&&z.length>1&&(p=parseInt(z[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var T;const C=await d.text();try{h=JSON.parse(C),Array.isArray(h)&&d.status===404&&(g=[],h=null,y=200,w="OK")}catch{d.status===404&&C===""?(y=204,w="No Content"):h={message:C}}if(h&&i.isMaybeSingle&&(!(h==null||(T=h.details)===null||T===void 0)&&T.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&i.shouldThrowOnError)throw new Ip(h)}return{error:h,data:g,count:p,status:y,statusText:w}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let g="";const p=d==null?void 0:d.cause;if(p){var y,w,x,_;const T=(y=p==null?void 0:p.message)!==null&&y!==void 0?y:"",C=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";g=`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,g+=`

Caused by: ${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"Error"}: ${T}`,C&&(g+=` (${C})`),p!=null&&p.stack&&(g+=`
${p.stack}`)}else{var N;g=(N=d==null?void 0:d.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},Pp=class extends Zp{select(s){let n=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const g=[s?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const E0=new RegExp("[,()]");var Dr=class extends Pp{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&E0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&E0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${c}fts${d}.${n}`),this}match(s){return Object.entries(s).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(s,n,i){return this.url.searchParams.append(s,`not.${n}.${i}`),this}or(s,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,i){return this.url.searchParams.append(s,`${n}.${i}`),this}},Wp=class{constructor(s,{headers:n={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=i,this.fetch=l}select(s,n){const{head:i=!1,count:l}=n??{},c=i?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new Dr({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:i=!0}={}){var l;const c="POST";if(n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Dr({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new Dr({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:n}={}){var i;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Dr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var n;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new Dr({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Fp=class em{constructor(n,{headers:i={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Wp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new em(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:c=!1,count:d}={}){var h;let g;const p=new URL(`${this.url}/rpc/${n}`);let y;l||c?(g=l?"HEAD":"GET",Object.entries(i).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{p.searchParams.append(x,_)})):(g="POST",y=i);const w=new Headers(this.headers);return d&&w.set("Prefer",`count=${d}`),new Dr({method:g,url:p,headers:w,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class ev{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const tv="2.89.0",av=`realtime-js/${tv}`,tm="1.0.0",nv="2.0.0",j0=tm,Zu=1e4,rv=1e3,sv=100;var fn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(fn||(fn={}));var ct;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(ct||(ct={}));var da;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(da||(da={}));var Pu;(function(s){s.websocket="websocket"})(Pu||(Pu={}));var Ln;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Ln||(Ln={}));class iv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,i,l){var c,d;const h=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,w=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+h.length+y.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(N),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,p.length),T.setUint8(C++,g.length),T.setUint8(C++,h.length),T.setUint8(C++,y.length),T.setUint8(C++,x.length),T.setUint8(C++,i),Array.from(p,H=>T.setUint8(C++,H.charCodeAt(0))),Array.from(g,H=>T.setUint8(C++,H.charCodeAt(0))),Array.from(h,H=>T.setUint8(C++,H.charCodeAt(0))),Array.from(y,H=>T.setUint8(C++,H.charCodeAt(0))),Array.from(x,H=>T.setUint8(C++,H.charCodeAt(0)));var z=new Uint8Array(N.byteLength+l.byteLength);return z.set(new Uint8Array(N),0),z.set(new Uint8Array(l),N.byteLength),z.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,d,h,g,p]=l;return i({join_ref:c,ref:d,topic:h,event:g,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,c)}}_decodeUserBroadcast(n,i,l){const c=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),g=i.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(n.slice(p,p+c));p=p+c;const w=l.decode(n.slice(p,p+d));p=p+d;const x=l.decode(n.slice(p,p+h));p=p+h;const _=n.slice(p,n.byteLength),N=g===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,T={type:this.BROADCAST_EVENT,event:w,payload:N};return h>0&&(T.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class am{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})($e||($e={}));const T0=(s,n,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=lv(h,s,n,c),d),{}):{}},lv=(s,n,i,l)=>{const c=n.find(g=>g.name===s),d=c==null?void 0:c.type,h=i[s];return d&&!l.includes(d)?nm(d,h):Wu(h)},nm=(s,n)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return dv(n,i)}switch(s){case $e.bool:return ov(n);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return uv(n);case $e.json:case $e.jsonb:return cv(n);case $e.timestamp:return hv(n);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Wu(n);default:return Wu(n)}},Wu=s=>s,ov=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},uv=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},cv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},dv=(s,n)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let d;const h=s.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>nm(n,g))}return s},hv=s=>typeof s=="string"?s.replace(" ","T"):s,rm=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class qu{constructor(n,i,l={},c=Zu){this.channel=n,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var A0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(A0||(A0={}));class Ls{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,c,d,h),this.pendingDiffs.forEach(p=>{this.state=Ls.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ls.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,c){const d=this.cloneDeep(n),h=this.transformState(i),g={},p={};return this.map(d,(y,w)=>{h[y]||(p[y]=w)}),this.map(h,(y,w)=>{const x=d[y];if(x){const _=w.map(z=>z.presence_ref),N=x.map(z=>z.presence_ref),T=w.filter(z=>N.indexOf(z.presence_ref)<0),C=x.filter(z=>_.indexOf(z.presence_ref)<0);T.length>0&&(g[y]=T),C.length>0&&(p[y]=C)}else g[y]=w}),this.syncDiff(d,{joins:g,leaves:p},l,c)}static syncDiff(n,i,l,c){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(g,p)=>{var y;const w=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(p),w.length>0){const x=n[g].map(N=>N.presence_ref),_=w.filter(N=>x.indexOf(N.presence_ref)<0);n[g].unshift(..._)}l(g,w,p)}),this.map(h,(g,p)=>{let y=n[g];if(!y)return;const w=p.map(x=>x.presence_ref);y=y.filter(x=>w.indexOf(x.presence_ref)<0),n[g]=y,c(g,y,p),y.length===0&&delete n[g]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const c=n[l];return"metas"in c?i[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=c,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(O0||(O0={}));var Bs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Bs||(Bs={}));var Ba;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ba||(Ba={}));class Lr{constructor(n,i={config:{}},l){var c,d;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,da.join,this.params,this.timeout),this.rejoinTimer=new am(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new Ls(this),this.broadcastEndpointURL=rm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(N=>N.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[Bs.PRESENCE]&&this.bindings[Bs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},_={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:w}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>n==null?void 0:n(Ba.CHANNEL_ERROR,N)),this._onClose(()=>n==null?void 0:n(Ba.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:N})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n==null||n(Ba.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,z=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,H=[];for(let G=0;G<z;G++){const B=C[G],{filter:{event:X,schema:ue,table:V,filter:$}}=B,ne=N&&N[G];if(ne&&ne.event===X&&Lr.isFilterValueEqual(ne.schema,ue)&&Lr.isFilterValueEqual(ne.table,V)&&Lr.isFilterValueEqual(ne.filter,$))H.push(Object.assign(Object.assign({},B),{id:ne.id}));else{this.unsubscribe(),this.state=ct.errored,n==null||n(Ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,n&&n(Ba.SUBSCRIBED);return}}).receive("error",N=>{this.state=ct.errored,n==null||n(Ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===ct.joined&&n===Bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,p;const y=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ct.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new qu(this,da.leave,{},n),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),h}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new qu(this,n,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>sv){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var c,d;const h=n.toLocaleLowerCase(),{close:g,error:p,leave:y,join:w}=da;if(l&&[g,p,y,w].indexOf(h)>=0&&l!==this._joinRef())return;let _=this._onMessage(h,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var T,C,z;return((T=N.filter)===null||T===void 0?void 0:T.event)==="*"||((z=(C=N.filter)===null||C===void 0?void 0:C.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===h}).map(N=>N.callback(_,l)):(d=this.bindings[h])===null||d===void 0||d.filter(N=>{var T,C,z,H,G,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const X=N.id,ue=(T=N.filter)===null||T===void 0?void 0:T.event;return X&&((C=i.ids)===null||C===void 0?void 0:C.includes(X))&&(ue==="*"||(ue==null?void 0:ue.toLocaleLowerCase())===((z=i.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const X=(G=(H=N==null?void 0:N.filter)===null||H===void 0?void 0:H.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return X==="*"||X===((B=i==null?void 0:i.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:C,table:z,commit_timestamp:H,type:G,errors:B}=T;_=Object.assign(Object.assign({},{schema:C,table:z,commit_timestamp:H,eventType:G,new:{},old:{},errors:B}),this._getPayloadRecords(T))}N.callback(_,l)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const c=n.toLocaleLowerCase(),d={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Lr.isEqual(c.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(da.close,{},n)}_onError(n){this._on(da.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=T0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=T0(n.columns,n.old_record)),i}}const Hu=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fv=[1e3,2e3,5e3,1e4],mv=1e4,gv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pv{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zu,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hu,this.ref=0,this.reconnectTimer=null,this.vsn=j0,this.logger=Hu,this.conn=null,this.sendBuffer=[],this.serializer=new iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=i==null?void 0:i.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Pu.websocket}`,this.httpEndpoint=rm(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ev.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Ln.Connecting;case fn.open:return Ln.Open;case fn.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Lr(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:l,payload:c,ref:d}=n,h=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${i} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(rv,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:h}=i,g=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${l} ${c} ${g}`.trim(),d),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(da.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${n}${l}${c}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([gv],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const d={access_token:i,version:av};i&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(da.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new am(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,c,d,h,g,p,y,w,x,_,N;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Zu,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:il.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:Hu,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:j0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n==null?void 0:n.reconnectAfterMs)!==null&&y!==void 0?y:(T=>fv[T-1]||mv),this.vsn){case tm:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:((T,C)=>C(JSON.stringify(T))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((T,C)=>C(JSON.parse(T)));break;case nv:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(N=n==null?void 0:n.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var qs=class extends Error{constructor(s,n){var i;super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vv(s,n,i){const l=new URL(n,s);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function yv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function bv(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:d,headers:h}){const g=vv(s.baseUrl,l,c),p=await yv(s.auth),y=await n(g,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...h},body:d?JSON.stringify(d):void 0}),w=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),_=x&&w?JSON.parse(w):w;if(!y.ok){const N=x?_:void 0,T=N==null?void 0:N.error;throw new qs((T==null?void 0:T.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:N})}return{status:y.status,headers:y.headers,data:_}}}}function ll(s){return s.join("")}var wv=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:ll(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const i={namespace:s.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(s.namespace)}`}),!0}catch(n){if(n instanceof qs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(i){if(i instanceof qs&&i.status===409)return;throw i}}};function Or(s){return s.join("")}var _v=class{constructor(s,n="",i){this.client=s,this.prefix=n,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(s,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Or(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(i){if(i instanceof qs&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(i){if(i instanceof qs&&i.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw i}}},xv=class{constructor(s){var l;let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=bv({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(l=s.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new wv(this.client,n),this.tableOps=new _v(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},pl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Qe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Sv=class extends pl{constructor(s,n,i){super(s),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fu=class extends pl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const uc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Ev=()=>Response,ec=s=>{if(Array.isArray(s))return s.map(i=>ec(i));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=ec(l)}),n},jv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Tv=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Hs(s){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hs(s)}function Av(s,n){if(Hs(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Hs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Ov(s){var n=Av(s,"string");return Hs(n)=="symbol"?n:n+""}function Nv(s,n,i){return(n=Ov(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function N0(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function ie(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?N0(Object(i),!0).forEach(function(l){Nv(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):N0(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const $u=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},kv=async(s,n,i)=>{s instanceof await Ev()&&!(i!=null&&i.noResolveJson)?s.json().then(l=>{const c=s.status||500,d=(l==null?void 0:l.statusCode)||c+"";n(new Sv($u(l),c,d))}).catch(l=>{n(new Fu($u(l),l))}):n(new Fu($u(s),s))},Cv=(s,n,i,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"||!l?c:(jv(l)?(c.headers=ie({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,n!=null&&n.duplex&&(c.duplex=n.duplex),ie(ie({},c),i))};async function Ks(s,n,i,l,c,d){return new Promise((h,g)=>{s(i,Cv(n,l,c,d)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>kv(p,g,l))})}async function $s(s,n,i,l){return Ks(s,"GET",n,i,l)}async function ca(s,n,i,l,c){return Ks(s,"POST",n,l,c,i)}async function tc(s,n,i,l,c){return Ks(s,"PUT",n,l,c,i)}async function Rv(s,n,i,l){return Ks(s,"HEAD",n,ie(ie({},i),{},{noResolveJson:!0}),l)}async function cc(s,n,i,l,c){return Ks(s,"DELETE",n,l,c,i)}var Uv=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}};let sm;sm=Symbol.toStringTag;var Dv=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[sm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Uv(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}};const zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Mv=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=i,this.fetch=uc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,i,l){var c=this;try{let d;const h=ie(ie({},k0),l);let g=ie(ie({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=i,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(g=ie(ie({},g),l.headers));const y=c._removeEmptyFolders(n),w=c._getFinalPath(y),x=await(s=="PUT"?tc:ca)(c.fetch,`${c.url}/object/${w}`,d,ie({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}}async upload(s,n,i){return this.uploadOrUpdate("POST",s,n,i)}async uploadToSignedUrl(s,n,i,l){var c=this;const d=c._removeEmptyFolders(s),h=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${h}`);g.searchParams.set("token",n);try{let p;const y=ie({upsert:k0.upsert},l),w=ie(ie({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",y.cacheControl)):(p=i,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType),{data:{path:d,fullPath:(await tc(c.fetch,g.toString(),p,{headers:w})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Qe(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(s,n){var i=this;try{let l=i._getFinalPath(s);const c=ie({},i.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await ca(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(i.url+d.url),g=h.searchParams.get("token");if(!g)throw new pl("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:g},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async update(s,n,i){return this.uploadOrUpdate("PUT",s,n,i)}async move(s,n,i){var l=this;try{return{data:await ca(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async copy(s,n,i){var l=this;try{return{data:{path:(await ca(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUrl(s,n,i){var l=this;try{let c=l._getFinalPath(s),d=await ca(l.fetch,`${l.url}/object/sign/${c}`,ie({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:l.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUrls(s,n,i){var l=this;try{const c=await ca(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>ie(ie({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}download(s,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(s),h=()=>$s(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Dv(h,this.shouldThrowOnError)}async info(s){var n=this;const i=n._getFinalPath(s);try{return{data:ec(await $s(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const i=n._getFinalPath(s);try{return await Rv(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l)&&l instanceof Fu){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const i=this._getFinalPath(s),l=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&l.push(h);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}async remove(s){var n=this;try{return{data:await cc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async list(s,n,i){var l=this;try{const c=ie(ie(ie({},zv),n),{},{prefix:s||""});return{data:await ca(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async listV2(s,n){var i=this;try{const l=ie({},s);return{data:await ca(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const im="2.89.0",lm={"X-Client-Info":`storage-js/${im}`};var Lv=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1;const c=new URL(s);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ie(ie({},lm),n),this.fetch=uc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const i=n.listBucketOptionsToQueryString(s);return{data:await $s(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await $s(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createBucket(s,n={public:!1}){var i=this;try{return{data:await ca(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var i=this;try{return{data:await tc(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await ca(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await cc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Bv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},lm),n),this.fetch=uc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await ca(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listBuckets(s){var n=this;try{const i=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&i.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&i.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&i.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&i.set("sortOrder",s.sortOrder),s!=null&&s.search&&i.set("search",s.search);const l=i.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await $s(n.fetch,c,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await cc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}from(s){var n=this;if(!Tv(s))throw new pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new xv({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const dc={"X-Client-Info":`storage-js/${im}`,"Content-Type":"application/json"};var om=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Jt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Vu=class extends om{constructor(s,n,i){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qv=class extends om{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const hc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Hv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},C0=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),$v=async(s,n,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(i!=null&&i.noResolveJson)){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";n(new Vu(C0(d),l,h))}).catch(()=>{const d=l+"";n(new Vu(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";n(new Vu(c.statusText||`HTTP ${l} error`,l,d))}}else n(new qv(C0(s),s))},Vv=(s,n,i,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return l?(Hv(l)?(c.headers=ie({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,ie(ie({},c),i)):c};async function Gv(s,n,i,l,c,d){return new Promise((h,g)=>{s(i,Vv(n,l,c,d)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>$v(p,g,l))})}async function Qt(s,n,i,l,c){return Gv(s,"POST",n,l,c,i)}var Yv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},dc),n),this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getIndex(s,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteIndex(s,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}}},Kv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},dc),n),this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getVectors(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Qt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async queryVectors(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}},Xv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},dc),n),this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}},Jv=class extends Xv{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Qv(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,i=this;return n().call(i,s)}async getBucket(s){var n=()=>super.getBucket,i=this;return n().call(i,s)}async listBuckets(s={}){var n=()=>super.listBuckets,i=this;return n().call(i,s)}async deleteBucket(s){var n=()=>super.deleteBucket,i=this;return n().call(i,s)}},Qv=class extends Yv{constructor(s,n,i,l){super(s,n,l),this.vectorBucketName=i}async createIndex(s){var n=()=>super.createIndex,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,s)}index(s){return new Iv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Iv=class extends Kv{constructor(s,n,i,l,c){super(s,n,c),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var n=()=>super.getVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Zv=class extends Lv{constructor(s,n={},i,l){super(s,n,i,l)}from(s){return new Mv(this.url,this.headers,s,this.fetch)}get vectors(){return new Jv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bv(this.url+"/iceberg",this.headers,this.fetch)}};const um="2.89.0",zr=30*1e3,ac=3,Gu=ac*zr,Pv="http://localhost:9999",Wv="supabase.auth.token",Fv={"X-Client-Info":`gotrue-js/${um}`},nc="X-Supabase-Api-Version",cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ey=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ty=600*1e3;class Vs extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function W(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class ay extends Vs{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function ny(s){return W(s)&&s.name==="AuthApiError"}class Bn extends Vs{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class qa extends Vs{constructor(n,i,l,c){super(n,l,c),this.name=i,this.status=l}}class Kt extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ry(s){return W(s)&&s.name==="AuthSessionMissingError"}class Nr extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends qa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ul extends qa{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sy(s){return W(s)&&s.name==="AuthImplicitGrantRedirectError"}class R0 extends qa{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iy extends qa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rc extends qa{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Yu(s){return W(s)&&s.name==="AuthRetryableFetchError"}class U0 extends qa{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class sc extends qa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D0=` 	
\r=`.split(""),ly=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<D0.length;n+=1)s[D0[n].charCodeAt(0)]=-2;for(let n=0;n<hl.length;n+=1)s[hl[n].charCodeAt(0)]=n;return s})();function z0(s,n,i){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hl[l]),n.queuedBits-=6}}function dm(s,n,i){const l=ly[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function M0(s){const n=[],i=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{cy(h,l,i)};for(let h=0;h<s.length;h+=1)dm(s.charCodeAt(h),c,d);return n.join("")}function oy(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function uy(s,n){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}oy(l,n)}}function cy(s,n,i){if(n.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Br(s){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)dm(s.charCodeAt(c),i,l);return new Uint8Array(n)}function dy(s){const n=[];return uy(s,i=>n.push(i)),new Uint8Array(n)}function qn(s){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};return s.forEach(c=>z0(c,i,l)),z0(null,i,l),n.join("")}function hy(s){return Math.round(Date.now()/1e3)+s}function fy(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Dn={tested:!1,writable:!1},hm=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dn.tested)return Dn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Dn.tested=!0,Dn.writable=!0}catch{Dn.tested=!0,Dn.writable=!1}return Dn.writable};function my(s){const n={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return i.searchParams.forEach((l,c)=>{n[c]=l}),n}const fm=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),gy=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Mr=async(s,n,i)=>{await s.setItem(n,JSON.stringify(i))},zn=async(s,n)=>{const i=await s.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},wt=async(s,n)=>{await s.removeItem(n)};class vl{constructor(){this.promise=new vl.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}vl.promiseConstructor=Promise;function Ku(s){const n=s.split(".");if(n.length!==3)throw new sc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!ey.test(n[l]))throw new sc("JWT not in base64url format");return{header:JSON.parse(M0(n[0])),payload:JSON.parse(M0(n[1])),signature:Br(n[2]),raw:{header:n[0],payload:n[1]}}}async function py(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function vy(s,n){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await s(d);if(!n(d,null,h)){l(h);return}}catch(h){if(!n(d,h)){c(h);return}}})()})}function yy(s){return("0"+s.toString(16)).substr(-2)}function by(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,yy).join("")}async function wy(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function _y(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await wy(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(s,n,i=!1){const l=by();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Mr(s,`${n}-code-verifier`,c);const d=await _y(l);return[d,l===d?"plain":"s256"]}const xy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sy(s){const n=s.headers.get(nc);if(!n||!n.match(xy))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Ey(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function jy(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ty=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(s){if(!Ty.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const s={};return new Proxy(s,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ay(s,n){return new Proxy(s,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,c)}})}function L0(s){return JSON.parse(JSON.stringify(s))}const Mn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Oy=[502,503,504];async function B0(s){var n;if(!gy(s))throw new rc(Mn(s),0);if(Oy.includes(s.status))throw new rc(Mn(s),s.status);let i;try{i=await s.json()}catch(d){throw new Bn(Mn(d),d)}let l;const c=Sy(s);if(c&&c.getTime()>=cm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new U0(Mn(i),s.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Kt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new U0(Mn(i),s.status,i.weak_password.reasons);throw new ay(Mn(i),s.status||500,l)}const Ny=(s,n,i,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function se(s,n,i,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[nc]||(d[nc]=cm["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await ky(s,n,i+g,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function ky(s,n,i,l,c,d){const h=Ny(n,l,c,d);let g;try{g=await s(i,Object.assign({},h))}catch(p){throw console.error(p),new rc(Mn(p),0)}if(g.ok||await B0(g),l!=null&&l.noResolveJson)return g;try{return await g.json()}catch(p){await B0(p)}}function ua(s){var n;let i=null;Uy(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=hy(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:i,user:l},error:null}}function q0(s){const n=ua(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function mn(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function Cy(s){return{data:s,error:null}}function Ry(s){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d}=s,h=gl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function H0(s){return s}function Uy(s){return s.access_token&&s.refresh_token&&s.expires_in}const Ju=["global","local","others"];class Dy{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=fm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Ju[0]){if(Ju.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:mn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=gl(n,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ry,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(W(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:mn})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},w=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:H0});if(w.error)throw w.error;const x=await w.json(),_=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(T.split(";")[1].split("=")[1]);y[`${z}Page`]=C}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(W(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Cr(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:mn})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Cr(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:mn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Cr(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:mn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Cr(n.userId);try{const{data:i,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Cr(n.userId),Cr(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},w=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:H0});if(w.error)throw w.error;const x=await w.json(),_=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(T.split(";")[1].split("=")[1]);y[`${z}Page`]=C}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(W(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}}function $0(s={}){return{getItem:n=>s[n]||null,setItem:(n,i)=>{s[n]=i},removeItem:n=>{delete s[n]}}}const Rr={debug:!!(globalThis&&hm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class zy extends mm{}async function My(s,n,i){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await i()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new zy(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Rr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Ly(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gm(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function By(s){return parseInt(s,16)}function qy(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Hy(s){var n;const{chainId:i,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:p,resources:y,scheme:w,uri:x,version:_}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=gm(s.address),T=w?`${w}://${l}`:l,C=s.statement?`${s.statement}
`:"",z=`${T} wants you to sign in with your Ethereum account:
${N}

${C}`;let H=`URI: ${x}
Version: ${_}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),p&&(H+=`
Request ID: ${p}`),y){let G=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);G+=`
- ${B}`}H+=G}return`${z}
${H}`}class st extends Error{constructor({message:n,code:i,cause:l,name:c}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class fl extends st{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function $y({error:s,options:n}){var i,l,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new st({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(pm(h)){if(d.rp.id!==h)return new st({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Vy({error:s,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new st({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(pm(l)){if(i.rpId!==l)return new st({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Gy{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Yy=new Gy;function Ky(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:i,excludeCredentials:l}=s,c=gl(s,["challenge","user","excludeCredentials"]),d=Br(n).buffer,h=Object.assign(Object.assign({},i),{id:Br(i.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:h});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Br(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function Xy(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:i}=s,l=gl(s,["challenge","allowCredentials"]),c=Br(n).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Br(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Jy(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:qn(new Uint8Array(s.response.attestationObject)),clientDataJSON:qn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Qy(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:qn(new Uint8Array(c.authenticatorData)),clientDataJSON:qn(new Uint8Array(c.clientDataJSON)),signature:qn(new Uint8Array(c.signature)),userHandle:c.userHandle?qn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function pm(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function V0(){var s,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Iy(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:$y({error:n,options:s})}}}async function Zy(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:Vy({error:n,options:s})}}}const Py={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Wy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ml(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))l[d]=h;else if(i(h))l[d]=h;else if(n(h)){const g=l[d];n(g)?l[d]=ml(g,h):l[d]=ml(h)}else l[d]=h}return l}function Fy(s,n){return ml(Py,s,n||{})}function eb(s,n){return ml(Wy,s,n||{})}class tb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:c},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:g};const p=c??Yy.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Fy(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:w,error:x}=await Iy({publicKey:y,signal:p});return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const y=eb(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:w,error:x}=await Zy(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new Bn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Vs("rpId is required for WebAuthn authentication")};try{if(!V0())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:d});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new Bn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Vs("rpId is required for WebAuthn registration")};try{if(!V0())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(w=>{var x;return(x=w.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new Bn("Unexpected error in register",h)}}}}Ly();const ab={url:Pv,storageKey:Wv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function G0(s,n,i){return await i()}const Ur={};class Gs{get jwks(){var n,i;return(i=(n=Ur[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Ur[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},ab),n);if(this.storageKey=d.storageKey,this.instanceID=(i=Gs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Gs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&_t()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Dy({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=fm(d.fetch),this.lock=d.lock||G0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&_t()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=My:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:hm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=$0(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${um}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(_t()&&(i=my(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),_t()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),sy(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return W(i)?this._returnResult({error:i}):this._returnResult({error:new Bn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:ua}),{data:h,error:g}=d;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,l,c;try{let d;if("email"in n){const{email:w,password:x,options:_}=n;let N=null,T=null;this.flowType==="pkce"&&([N,T]=await kr(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:w,password:x,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:N,code_challenge_method:T},xform:ua})}else if("phone"in n){const{phone:w,password:x,options:_}=n;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:x,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},channel:(c=_==null?void 0:_.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:ua})}else throw new ol("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:h,options:g}=n;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:q0})}else if("phone"in n){const{phone:d,password:h,options:g}=n;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:q0})}else throw new ol("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Nr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,c,d,h,g,p,y,w,x,_;let N,T;if("message"in n)N=n.message,T=n.signature;else{const{chain:C,wallet:z,statement:H,options:G}=n;let B;if(_t())if(typeof z=="object")B=z;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")B=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=z}const X=new URL((i=G==null?void 0:G.url)!==null&&i!==void 0?i:window.location.href),ue=await B.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ue||ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=gm(ue[0]);let $=(l=G==null?void 0:G.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!$){const le=await B.request({method:"eth_chainId"});$=By(le)}const ne={domain:X.host,address:V,statement:H,uri:X.href,version:"1",chainId:$,nonce:(c=G==null?void 0:G.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=G==null?void 0:G.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=G==null?void 0:G.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=G==null?void 0:G.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=G==null?void 0:G.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=G==null?void 0:G.signInWithEthereum)===null||w===void 0?void 0:w.resources};N=Hy(ne),T=await B.request({method:"personal_sign",params:[qy(N),V]})}try{const{data:C,error:z}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:T},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ua});if(z)throw z;if(!C||!C.session||!C.user){const H=new Nr;return this._returnResult({data:{user:null,session:null},error:H})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:z})}catch(C){if(W(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var i,l,c,d,h,g,p,y,w,x,_,N;let T,C;if("message"in n)T=n.message,C=n.signature;else{const{chain:z,wallet:H,statement:G,options:B}=n;let X;if(_t())if(typeof H=="object")X=H;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))X=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=H}const ue=new URL((i=B==null?void 0:B.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in X&&X.signIn){const V=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),G?{statement:G}:null));let $;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")$=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)$=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)T=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),C=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ue.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(c=(l=B==null?void 0:B.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((x=(w=B==null?void 0:B.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||x===void 0)&&x.length?["Resources",...B.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const V=await X.signMessage(new TextEncoder().encode(T),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=V}}try{const{data:z,error:H}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:qn(C)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ua});if(H)throw H;if(!z||!z.session||!z.user){const G=new Nr;return this._returnResult({data:{user:null,session:null},error:G})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:H})}catch(z){if(W(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async _exchangeCodeForSession(n){const i=await zn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new iy;const{data:d,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ua});if(await wt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const g=new Nr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:l,token:c,access_token:d,nonce:h}=n,g=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ua}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const w=new Nr;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,c,d,h;try{if("email"in n){const{email:g,options:p}=n;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await kr(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:g,options:p}=n,{data:y,error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(d=p==null?void 0:p.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:w})}throw new ol("You must provide either an email or phone number.")}catch(g){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var i,l;try{let c,d;"options"in n&&(c=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:g}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ua});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var i,l,c,d,h;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await kr(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Cy});return!((d=y.data)===null||d===void 0)&&d.url&&_t()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Kt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:d}=n,{error:h}=await se(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:c,options:d}=n,{data:h,error:g}=await se(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new ol("You must provide either an email or phone number and a type")}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await zn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Xu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Ay(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:mn}):await this._useSession(async i=>{var l,c,d;const{data:h,error:g}=i;if(g)throw g;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:mn})})}catch(i){if(W(i))return ry(i)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Kt;const h=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await kr(this.storage,this.storageKey));const{data:y,error:w}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:mn});if(w)throw w;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Kt;const i=Date.now()/1e3;let l=i,c=!0,d=null;const{payload:h}=Ku(n.access_token);if(h.exp&&(l=h.exp,c=l<=i),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:h,error:g}=i;if(g)throw g;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Kt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!_t())throw new ul("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ul(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new R0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new R0("No code detected.");const{data:G,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:p,token_type:y}=n;if(!d||!g||!h||!y)throw new ul("No session defined in URL");const w=Math.round(Date.now()/1e3),x=parseInt(g);let _=w+x;p&&(_=parseInt(p));const N=_-w;N*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const T=_-x;w-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,w):w-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,w);const{data:C,error:z}=await this._getUser(d);if(z)throw z;const H={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:_,refresh_token:h,token_type:y,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:g}=await this.admin.signOut(h,n);if(g&&!(ny(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=fy(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,c;try{const{data:{session:d},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await kr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:c}=await this._useSession(async d=>{var h,g,p,y,w;const{data:x,error:_}=d;if(_)throw _;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",N,{headers:this.headers,jwt:(w=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return _t()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:h,provider:g,token:p,access_token:y,nonce:w}=n,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:p,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ua}),{data:_,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Nr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:N}))}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await vy(async c=>(c>0&&await py(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ua})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Yu(d)&&Date.now()+h-l<zr})}catch(l){if(this._debug(i,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),_t()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await zn(this.storage,this.storageKey);if(c&&this.userStorage){let h=await zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Mr(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Xu()}else if(c&&!c.user&&!c.user){const h=await zn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await wt(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,c)):c.user=Xu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Gu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Gu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Yu(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new vl;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new Kt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),W(d)){const h={data:null,error:d};return Yu(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,i,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,i)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=L0(c);await Mr(this.storage,this.storageKey,d)}else{const c=L0(i);await Mr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${zr}ms, refresh threshold is ${ac} ticks`),c<=ac&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof mm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await kr(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Jy(n.webauthn.credential_response):Qy(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Ky(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Xy(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ku(l.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Kt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Kt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(g=>g.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+ty>c)return l;const{data:d,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:N,error:T}=await this.getSession();if(T||!N.session)return this._returnResult({data:null,error:T});l=N.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:p}}=Ku(l);i!=null&&i.allowExpired||Ey(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!y){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:d,header:c,signature:h},error:null}}const w=jy(c.alg),x=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,x,h,dy(`${g}.${p}`)))throw new sc("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}Gs.nextInstanceID={};const nb=Gs,rb="2.89.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const sb={"X-Client-Info":`supabase-js-${Ms}/${rb}`},ib={headers:sb},lb={schema:"public"},ob={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ub={};function Ys(s){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ys(s)}function cb(s,n){if(Ys(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Ys(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function db(s){var n=cb(s,"string");return Ys(n)=="symbol"?n:n+""}function hb(s,n,i){return(n=db(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function Y0(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function Pe(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Y0(Object(i),!0).forEach(function(l){hb(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Y0(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const fb=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),mb=()=>Headers,gb=(s,n,i)=>{const l=fb(i),c=mb();return async(d,h)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:s;let y=new c(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(d,Pe(Pe({},h),{},{headers:y}))}};function pb(s){return s.endsWith("/")?s:s+"/"}function vb(s,n){var i,l;const{db:c,auth:d,realtime:h,global:g}=s,{db:p,auth:y,realtime:w,global:x}=n,_={db:Pe(Pe({},p),c),auth:Pe(Pe({},y),d),realtime:Pe(Pe({},w),h),storage:{},global:Pe(Pe(Pe({},x),g),{},{headers:Pe(Pe({},(i=x==null?void 0:x.headers)!==null&&i!==void 0?i:{}),(l=g==null?void 0:g.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function yb(s){const n=s==null?void 0:s.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bb=class extends nb{constructor(s){super(s)}},wb=class{constructor(s,n,i){var l,c;this.supabaseUrl=s,this.supabaseKey=n;const d=yb(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:lb,realtime:ub,auth:Pe(Pe({},ob),{},{storageKey:h}),global:ib},p=vb(i??{},g);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=gb(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Fp(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Zv(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Qp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,i)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:d,flowType:h,lock:g,debug:p,throwOnError:y},w,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bb({url:this.authUrl.href,headers:Pe(Pe({},_),w),storageKey:d,autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:g,debug:p,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new pv(this.realtimeUrl.href,Pe(Pe({},s),{},{params:Pe(Pe({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,n,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _b=(s,n,i)=>new wb(s,n,i);function xb(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const n=s.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sb="https://avyhikexewvhsrtnddbl.supabase.co",Eb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2eWhpa2V4ZXd2aHNydG5kZGJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNTAwMDUsImV4cCI6MjA3NjcyNjAwNX0.fz0wC8bdIzWECrPgnj4aTz3EA-jEIW_p9V1KfTtFztk",ve=_b(Sb,Eb),K0=({user:s,onClose:n,onSubmit:i,initialData:l})=>{const[c,d]=J.useState((l==null?void 0:l.content)||""),[h,g]=J.useState(null),[p,y]=J.useState((l==null?void 0:l.image)||""),[w,x]=J.useState(!1),_=!!l,N=C=>{var H;const z=(H=C.target.files)==null?void 0:H[0];if(z){g(z);const G=new FileReader;G.onloadend=()=>{y(G.result)},G.readAsDataURL(z)}},T=async()=>{x(!0);let C="";if(h){const z=h.name.split(".").pop(),G=`brews/${`${Math.random()}.${z}`}`,{data:B,error:X}=await ve.storage.from("brew-images").upload(G,h);if(X)console.error("FAILED_TO_UPLOAD_IMAGE",X),alert(`Failed to upload image: ${X.message}`);else if(B){const{data:ue}=ve.storage.from("brew-images").getPublicUrl(G);C=ue.publicUrl}}i(c,C),x(!1)};return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-xl flex items-center justify-center p-4 z-50 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[92vh] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.6)] overflow-hidden motion-safe:animate-in motion-safe:zoom-in-95 motion-safe:slide-in-from-bottom-8",children:[m.jsxs("div",{className:"px-8 py-6 border-b border-[#2c1a12] flex justify-between items-center bg-[#1a1817]",children:[m.jsx("button",{onClick:n,className:"text-[#a09a96] hover:text-[#efebe9] transition-all font-bold text-sm uppercase tracking-widest active:scale-95",children:"Cancel"}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-black text-[#efebe9] text-xl tracking-tight",children:_?"Edit Brew":"New Brew"}),m.jsx("div",{className:"h-1 w-8 bg-[#c29a67] rounded-full mt-1 opacity-50"})]}),m.jsx("div",{className:"w-16"})]}),m.jsx("div",{className:"px-8 py-8 overflow-y-auto custom-scrollbar",children:m.jsxs("div",{className:"flex gap-5",children:[m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("img",{src:s.avatar,className:"w-14 h-14 rounded-full border-2 border-[#c29a67]/30 object-cover shadow-xl"}),m.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-[#c29a67]/20 to-transparent rounded-full min-h-[40px]"})]}),m.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("span",{className:"font-black text-[#efebe9] text-lg tracking-tight",children:["@",s.username]}),m.jsx("span",{className:"text-xs font-bold text-[#c29a67] bg-[#c29a67]/10 px-3 py-1 rounded-full border border-[#c29a67]/20 uppercase tracking-widest",children:_?"Refining":"Drafting"})]}),m.jsx("textarea",{autoFocus:!0,value:c,onChange:C=>d(C.target.value),placeholder:"Share your coffee thoughts...",className:"w-full bg-transparent border-none focus:ring-0 text-xl font-medium leading-relaxed resize-none min-h-[160px] p-0 placeholder-[#a09a96]/30 text-[#efebe9]"}),p&&m.jsxs("div",{className:"group relative mt-6 rounded-[2rem] overflow-hidden border border-[#2c1a12] shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:p,className:"w-full object-contain max-h-[320px] transition-transform duration-500 group-hover:scale-[1.02]"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"}),m.jsx("button",{onClick:()=>{g(null),y("")},className:"absolute top-4 right-4 bg-black/60 backdrop-blur-md p-2.5 rounded-full hover:bg-black text-white transition-all transform hover:scale-110 shadow-xl",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"mt-8 flex items-center gap-6",children:m.jsxs("label",{className:"group flex items-center gap-2 cursor-pointer text-[#a09a96] hover:text-[#c29a67] transition-all",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"}),m.jsx("div",{className:"p-3 bg-[#2c1a12] rounded-2xl group-hover:bg-[#c29a67]/10 transition-colors",children:m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest hidden sm:block",children:p?"Change Photo":"Add Photo"})]})})]})]})}),m.jsx("div",{className:"px-8 py-6 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsxs("button",{onClick:T,disabled:!c.trim()||w,className:"group relative bg-[#efebe9] text-[#0e0d0c] font-black px-12 py-4 rounded-2xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-[0_20px_40px_-10px_rgba(239,235,233,0.2)] active:scale-95 flex items-center gap-3 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),w?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-3 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:_?"Updating...":"Brewing..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:_?"Update Brew":"Brew Now"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})]})})},jb=({currentUser:s})=>{const[n,i]=J.useState(null),[l,c]=J.useState(!0),[d,h]=J.useState(!1),[g,p]=J.useState({}),[y,w]=J.useState(null),[x,_]=J.useState(""),[N,T]=J.useState(!1);J.useEffect(()=>{C()},[]);const C=async()=>{c(!0);const{data:B,error:X}=await ve.from("featured_brews").select("*").eq("id",1).single();X?console.error("Error fetching featured brew:",X):(i(B),p(B)),c(!1)},z=B=>{var ue;const X=(ue=B.target.files)==null?void 0:ue[0];if(X){w(X);const V=new FileReader;V.onloadend=()=>{_(V.result),p({...g,image_url:V.result})},V.readAsDataURL(X)}},H=async()=>{T(!0);let B=g.image_url;if(y){const ue=y.name.split(".").pop(),V=`featured/brew-${Date.now()}.${ue}`,{data:$,error:ne}=await ve.storage.from("brew-images").upload(V,y);if(ne){alert("Image upload failed: "+ne.message),T(!1);return}const{data:{publicUrl:le}}=ve.storage.from("brew-images").getPublicUrl(V);B=le}const{error:X}=await ve.from("featured_brews").update({title:g.title,description:g.description,image_url:B,cta_text:g.cta_text,cta_link:g.cta_link,updated_at:new Date().toISOString()}).eq("id",1);X?alert("Failed to update featured brew: "+X.message):(i({...g,image_url:B}),h(!1),w(null),_("")),T(!1)};if(l&&!n)return m.jsxs("div",{className:"mx-6 my-8 p-12 bg-[#1a1817] rounded-[2.5rem] border border-[#2c1a12] animate-pulse flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-3 border-[#c29a67] border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-[#a09a96] text-xs font-bold uppercase tracking-widest",children:"Dialing in the espresso..."})]});const G=(s==null?void 0:s.username)==="twc_training";return m.jsxs("div",{className:"mx-6 my-8 p-8 bg-gradient-to-br from-[#1a1817] to-[#0e0d0c] rounded-[2.5rem] border border-[#c29a67]/30 shadow-2xl relative overflow-hidden group transition-all duration-500 hover:border-[#c29a67]/60",children:[m.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-[#c29a67]/5 rounded-full blur-3xl group-hover:bg-[#c29a67]/10 transition-colors duration-500"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex h-2 w-2 rounded-full bg-[#c29a67] animate-ping"}),m.jsx("h3",{className:"text-[#c29a67] text-xs font-black uppercase tracking-[0.2em]",children:"Barista's Choice"})]}),G&&!d&&m.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-[#c29a67] border border-[#c29a67]/30 rounded-xl hover:bg-[#c29a67] hover:text-[#0e0d0c] transition-all bg-[#0e0d0c]/50",children:"Edit Feature"})]}),d?m.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Image Preview"}),m.jsxs("div",{className:"group/edit-img relative w-full aspect-video md:aspect-square rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-2xl bg-[#0e0d0c]",children:[m.jsx("img",{src:x||g.image_url,className:"w-full h-full object-contain transition-transform duration-500 group-hover/edit-img:scale-[1.05]"}),m.jsxs("label",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover/edit-img:opacity-100 transition-opacity flex flex-col items-center justify-center cursor-pointer backdrop-blur-sm",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"}),m.jsx("div",{className:"p-4 bg-[#c29a67] rounded-full text-[#0e0d0c] shadow-2xl mb-2 transform scale-75 group-hover/edit-img:scale-100 transition-transform flex items-center justify-center",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Click to Replace Image"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Brew Title"}),m.jsx("input",{value:g.title,onChange:B=>p({...g,title:B.target.value}),placeholder:"e.g. La vien rose",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold text-lg transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Description"}),m.jsx("textarea",{value:g.description,onChange:B=>p({...g,description:B.target.value}),placeholder:"Describe the brew...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-6 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none h-32 font-medium leading-relaxed resize-none transition-all"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Button Text"}),m.jsx("input",{value:g.cta_text,onChange:B=>p({...g,cta_text:B.target.value}),placeholder:"Learn how to prepare it",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-bold transition-all"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] font-bold text-[#a09a96] uppercase ml-2 tracking-widest",children:"Action Link (PDF/Video)"}),m.jsx("input",{value:g.cta_link,onChange:B=>p({...g,cta_link:B.target.value}),placeholder:"e.g. https://...",className:"w-full bg-[#0e0d0c]/50 border border-[#c29a67]/20 rounded-2xl px-5 py-4 text-[#efebe9] focus:border-[#c29a67] outline-none font-medium text-xs transition-all"})]})]}),m.jsxs("div",{className:"flex gap-4 pt-8 border-t border-[#2c1a12]",children:[m.jsx("button",{onClick:H,disabled:N,className:"flex-1 bg-[#c29a67] text-[#0e0d0c] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:bg-[#efebe9] transition-all shadow-2xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:"Saving..."})]}):m.jsx("span",{children:"Save Feature Update"})}),m.jsx("button",{onClick:()=>{h(!1),_(""),w(null)},disabled:N,className:"flex-1 border border-[#2c1a12] text-[#a09a96] py-5 rounded-2xl font-black uppercase tracking-widest text-xs hover:text-[#efebe9] transition-all active:scale-95",children:"Discard Changes"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-4xl font-black text-[#efebe9] mb-8 tracking-tighter group-hover:text-white transition-colors",children:"Barista's Signature"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[m.jsxs("div",{className:"relative group/img shrink-0 bg-[#0e0d0c] rounded-[2.5rem] overflow-hidden border border-[#c29a67]/20 shadow-[0_20px_50px_rgba(0,0,0,0.5)] self-center",children:[m.jsx("img",{src:(n==null?void 0:n.image_url)||"https://images.unsplash.com/photo-1541167760496-162955ed8a9f?q=80&w=400&h=400&auto=format&fit=crop",alt:n==null?void 0:n.title,className:"w-full md:w-44 h-44 object-contain group-hover:scale-110 transition-transform duration-700 ease-out"}),m.jsx("div",{className:"absolute inset-0 ring-1 ring-inset ring-white/10"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-2xl font-black text-[#efebe9] tracking-tight mb-2",children:n==null?void 0:n.title}),m.jsx("p",{className:"text-[#a09a96] text-[16px] leading-relaxed font-medium",children:n==null?void 0:n.description}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsx("span",{className:"text-[10px] font-black text-[#c29a67] border border-[#c29a67]/20 px-3 py-1.5 rounded-xl bg-[#c29a67]/5 uppercase tracking-wider",children:"#ArtisanCraft"}),m.jsx("span",{className:"text-[10px] font-black text-[#efebe9]/40 border border-[#efebe9]/10 px-3 py-1.5 rounded-xl uppercase tracking-wider",children:"#BaristaGold"})]})]})]}),m.jsxs("button",{onClick:()=>{if(n!=null&&n.cta_link&&n.cta_link!=="#"){const B=n.cta_link.startsWith("http")?n.cta_link:`https://${n.cta_link}`;window.open(B,"_blank")}},className:"w-full mt-10 py-5 bg-[#efebe9] text-[#0e0d0c] font-black rounded-2xl hover:bg-white transition-all transform hover:-translate-y-1 active:scale-[0.98] shadow-[0_20px_40px_-10px_rgba(239,235,233,0.3)] flex items-center justify-center gap-3 group/btn",children:[m.jsx("span",{children:(n==null?void 0:n.cta_text)||"Learn how to prepare it"}),m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover/btn:translate-x-1 transition-transform",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})},cl=""+new URL("login_logo-C503ABGk.png",import.meta.url).href,Tb=({onLoginSuccess:s})=>{const[n,i]=J.useState(!1),[l,c]=J.useState(!1),[d,h]=J.useState(""),[g,p]=J.useState(""),[y,w]=J.useState(null),x=async _=>{_.preventDefault(),i(!0),w(null);let N=d.trim(),T="";try{if(!N.includes("@")){const{data:C,error:z}=await ve.from("allowed_employees").select("email, employee_name").ilike("employee_code",N).maybeSingle();if(console.log("Employee Lookup:",{id:N,data:C,error:z}),z)throw console.error("Database Error:",z),new Error(`Database Error: ${z.message} (${z.details||z.hint||"Check RLS on allowed_employees"})`);if(!C)throw new Error(`Employee ID "${N}" not found in allowed_employees. (Hint: Check RLS!)`);N=C.email,T=C.employee_name}if(N==="training@thirdwavecoffee.in"&&g==="Training@10"){localStorage.setItem("bc_mock_session","training_team_active"),s();return}if(l){const{error:C}=await ve.auth.signUp({email:N,password:g,options:{data:{full_name:T||void 0,employee_id:d.includes("@")?void 0:d}}});if(C)throw C;alert(`Confirmation link sent to ${N}!`)}else{const{error:C}=await ve.auth.signInWithPassword({email:N,password:g});if(C)throw C}}catch(C){w(C.message||"An error occurred during authentication.")}finally{i(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#0e0d0c] flex items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#c29a67]/5 rounded-full blur-[120px]"})]}),m.jsxs("div",{className:"w-full max-w-md z-10 pt-0",children:[m.jsxs("div",{className:"text-center mb-0 flex flex-col items-center",children:[m.jsx("div",{className:"w-80 h-32 overflow-hidden flex items-start justify-center",children:m.jsx("img",{src:cl,alt:"Wavegram",className:"w-full h-auto object-contain mt-[-10px]"})}),m.jsx("p",{className:"text-[#c29a67] font-bold uppercase tracking-[0.4em] text-[10px] opacity-70 mt-[-20px] mb-6",children:"The Coffee Network"})]}),m.jsxs("div",{className:"glass bg-[#1a1817]/60 p-8 rounded-[2.5rem] border border-[#2c1a12] shadow-2xl backdrop-blur-xl",children:[m.jsx("h2",{className:"text-xl font-bold text-[#efebe9] mb-8 text-center",children:l?"Apply for Access":"Welcome Back"}),m.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Work Email or Employee ID"}),m.jsx("input",{type:"text",required:!0,value:d,onChange:_=>h(_.target.value),placeholder:"e.g. TWC123 or email@thirdwavecoffee.in",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#a09a96] uppercase tracking-wider mb-2 ml-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:g,onChange:_=>p(_.target.value),placeholder:"",className:"w-full bg-[#0e0d0c]/50 border border-[#2c1a12] rounded-2xl px-5 py-4 text-[#efebe9] placeholder-[#a09a96]/30 focus:outline-none focus:border-[#c29a67] transition-all"})]}),y&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm px-4 py-3 rounded-2xl flex items-start gap-3",children:[m.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),y]}),m.jsx("button",{type:"submit",disabled:n,className:"w-full bg-[#efebe9] text-[#0e0d0c] font-black py-4 rounded-2xl hover:bg-white transition-all transform active:scale-[0.98] shadow-lg disabled:opacity-50",children:n?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0d0c] border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):l?"Join Wavegram":"Enter Lounge"})]}),m.jsxs("p",{className:"mt-8 text-center text-[#a09a96] text-sm",children:[l?"Already a member?":"New at TWC?",m.jsx("button",{onClick:()=>c(!l),className:"ml-2 text-[#c29a67] font-bold hover:underline",children:l?"Sign In":"Sign Up"})]})]}),m.jsx("p",{className:"mt-8 text-center text-[#a09a96]/40 text-xs px-8",children:"This is a private network. By entering, you agree to the TWC internal communication guidelines."})]})]})},Ab=({post:s,currentUser:n,onClose:i})=>{const[l,c]=J.useState([]),[d,h]=J.useState(!0),[g,p]=J.useState(""),[y,w]=J.useState(null);J.useEffect(()=>{x()},[]);const x=async()=>{h(!0);const{data:T,error:C}=await ve.from("profiles").select("*").order("full_name",{ascending:!0});C?console.error("Error fetching employees:",C):T&&c(T.map(z=>({id:z.id,username:z.username,name:z.full_name,avatar:z.avatar_url,verified:!0}))),h(!1)},_=async T=>{if(!n)return;w(T.id);const{error:C}=await ve.from("shares").insert({post_id:s.id,sender_id:n.id,receiver_id:T.id});C?(console.error("Error sharing brew:",C),alert("Failed to share brew. Please try again.")):(alert(`Shared with ${T.name}!`),i()),w(null)},N=l.filter(T=>T.name.toLowerCase().includes(g.toLowerCase())||T.username.toLowerCase().includes(g.toLowerCase()));return m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-md rounded-[2.5rem] border border-[#2c1a12] flex flex-col max-h-[80vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-[#2c1a12] flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-black text-[#efebe9] tracking-tight",children:"Share Brew"}),m.jsx("button",{onClick:i,className:"p-2 hover:bg-[#2c1a12] rounded-full text-[#a09a96] hover:text-[#efebe9] transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"p-4 bg-[#0e0d0c]/50",children:m.jsx("input",{type:"text",placeholder:"Search employees...",value:g,onChange:T=>p(T.target.value),className:"w-full bg-[#1a1817] border border-[#2c1a12] rounded-2xl px-5 py-3 text-sm focus:border-[#c29a67] outline-none text-[#efebe9] transition-all"})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:d?m.jsxs("div",{className:"flex flex-col items-center py-10 gap-4",children:[m.jsx("div",{className:"w-8 h-8 border-2 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-xs font-bold text-[#c29a67] uppercase tracking-widest",children:"Calling the team..."})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"px-2 py-4 border border-[#c29a67]/20 rounded-2xl bg-[#c29a67]/5 mb-6",children:m.jsx("p",{className:"text-xs text-center text-[#c29a67] font-bold uppercase tracking-widest",children:"Share this brew with"})}),N.map(T=>m.jsxs("button",{onClick:()=>_(T),disabled:y===T.id,className:"w-full flex items-center gap-4 p-3 rounded-2xl hover:bg-[#2c1a12] transition-all group active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("img",{src:T.avatar,className:"w-12 h-12 rounded-full border-2 border-[#c29a67]/10 object-cover"}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("p",{className:"font-bold text-[#efebe9] group-hover:text-[#c29a67] transition-colors",children:T.name}),m.jsxs("p",{className:"text-xs text-[#a09a96]",children:["@",T.username]})]}),m.jsx("div",{className:"w-8 h-8 rounded-full border border-[#2c1a12] flex items-center justify-center group-hover:bg-[#c29a67] group-hover:border-[#c29a67] transition-all",children:y===T.id?m.jsx("div",{className:"w-4 h-4 border-2 border-[#efebe9] border-t-transparent rounded-full animate-spin"}):m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover:text-[#0e0d0c]",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]},T.id)),N.length===0&&m.jsx("p",{className:"text-center py-10 text-[#a09a96] italic",children:"No employees found matched your search."})]})}),m.jsx("div",{className:"p-6 bg-[#0e0d0c] border-t border-[#2c1a12]",children:m.jsxs("div",{className:"flex items-center gap-3 opacity-60 grayscale scale-95",children:[m.jsx("img",{src:s.avatar,className:"w-8 h-8 rounded-full"}),m.jsxs("p",{className:"text-xs text-[#a09a96] truncate",children:["Brewing: ",s.content.substring(0,40),"..."]})]})})]})})},Ob=({achievement:s,isUnlocked:n=!0})=>{const[i,l]=J.useState({x:50,y:50}),[c,d]=J.useState(!1),[h,g]=J.useState(!1),[p,y]=J.useState("mouse"),[w,x]=J.useState(!1),_=J.useRef(null),N=J.useRef({x:50,y:50}),T=J.useRef(null);J.useEffect(()=>{const V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),$="DeviceOrientationEvent"in window;console.log("Device detection:",{isMobile:V,hasGyro:$,userAgent:navigator.userAgent}),y(V&&$?"gyro":V?"touch":"mouse")},[]),J.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[c]);const C=async()=>{if(console.log("Requesting gyroscope permission..."),typeof DeviceOrientationEvent.requestPermission=="function")try{const V=await DeviceOrientationEvent.requestPermission();return console.log("iOS permission result:",V),x(V==="granted"),V==="granted"}catch(V){return console.error("Gyroscope permission error:",V),!1}else return console.log("Android - granting permission"),x(!0),!0};J.useEffect(()=>{if(!c||p!=="gyro"||!w)return;const V=$=>{console.log("Gyro event:",{beta:$.beta,gamma:$.gamma});const ne=$.beta||0,le=$.gamma||0,Be=Math.max(-45,Math.min(45,ne));let Te=(Math.max(-45,Math.min(45,le))+45)/90*100,Ke=(Be+45)/90*100;const lt=.05;N.current.x+=(Te-N.current.x)*lt,N.current.y+=(Ke-N.current.y)*lt,l({x:N.current.x,y:N.current.y})};return window.addEventListener("deviceorientation",V),()=>window.removeEventListener("deviceorientation",V)},[c,p,w]);const z=J.useCallback(V=>{if(p!=="mouse"||!c||!_.current)return;const $=_.current.getBoundingClientRect(),ne=(V.clientX-$.left)/$.width*100,le=(V.clientY-$.top)/$.height*100;l({x:ne,y:le})},[p,c]),H=V=>{const $=V.touches[0];T.current={x:$.clientX,y:$.clientY,time:Date.now()}},G=async V=>{if(!T.current)return;const $=V.changedTouches[0],ne=Math.abs($.clientX-T.current.x),le=Math.abs($.clientY-T.current.y),Be=Date.now()-T.current.time,He=ne<10&&le<10&&Be<300;console.log("Touch end:",{deltaX:ne,deltaY:le,deltaTime:Be,isTap:He}),He&&(V.preventDefault(),V.stopPropagation(),c?(console.log("Flipping card, current state:",h),g(Te=>!Te)):(console.log("Expanding card..."),d(!0),p==="gyro"&&!w&&(console.log("Requesting permission after expansion..."),await C()))),T.current=null},B=async V=>{V.stopPropagation(),c?(console.log("Flipping card (mouse), current state:",h),g($=>!$)):(console.log("Expanding card (mouse)..."),d(!0))},X=V=>{V.stopPropagation(),V.preventDefault(),console.log("Closing card..."),d(!1),g(!1)},ue=V=>{switch(V){case"Legendary":return"text-amber-400 border-amber-500/50 bg-amber-500/10";case"Epic":return"text-purple-400 border-purple-500/50 bg-purple-500/10";case"Rare":return"text-sky-400 border-sky-500/50 bg-sky-500/10";default:return"text-slate-400 border-slate-700 bg-slate-800/50"}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:c?null:_,onClick:p==="mouse"?B:void 0,onTouchStart:p!=="mouse"?H:void 0,onTouchEnd:p!=="mouse"?G:void 0,className:`relative group cursor-pointer w-full aspect-[2/3] rounded-[32px] p-px 
                    transition-all duration-300 ease-out transform hover:-translate-y-2
                    ${n?"":"grayscale opacity-60"}
                    ${c?"opacity-0 pointer-events-none":"opacity-100"}
                `,children:[n&&m.jsx("div",{className:"absolute inset-0 rounded-[32px] transition-opacity duration-500 blur-2xl opacity-0 group-hover:opacity-30 pointer-events-none",style:{backgroundColor:s.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-4 mt-2",children:m.jsx("div",{className:"relative transform scale-90",children:m.jsx("div",{className:"relative drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:s.illustration})})}),m.jsx("div",{className:`absolute top-3 right-3 z-30 px-1.5 py-0.5 rounded-md border text-[8px] font-black uppercase tracking-widest ${ue(s.rarity.charAt(0).toUpperCase()+s.rarity.slice(1))}`,children:s.rarity}),m.jsxs("div",{className:"w-full p-5 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-base font-black text-white mb-1 tracking-tight leading-none uppercase truncate",children:s.name}),m.jsx("p",{className:"text-slate-400 text-[10px] leading-tight mb-3 font-medium min-h-[2.5em] line-clamp-2",children:s.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-800 to-transparent mb-3"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-slate-500 font-bold mb-0.5",children:s.metricLabel}),m.jsx("span",{className:"text-sm font-black text-white",children:s.metricValue})]}),m.jsx("div",{className:"px-2 py-1 rounded-lg border border-white/5 bg-white/5 backdrop-blur-md text-[8px] font-bold uppercase tracking-widest text-slate-400",children:n?`${s.id.substring(0,4)}`:"LOCKED"})]})]})]})]}),c&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",style:{perspective:"1000px"},children:[m.jsx("button",{onClick:p==="mouse"?X:void 0,onTouchEnd:p!=="mouse"?X:void 0,className:"absolute top-6 right-6 z-[60] w-10 h-10 rounded-full bg-white/10 border border-white/20 backdrop-blur-md flex items-center justify-center text-white hover:bg-white/20 transition-all",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{ref:c?_:null,onMouseMove:z,onClick:p==="mouse"?B:void 0,onTouchStart:p!=="mouse"?H:void 0,onTouchEnd:p!=="mouse"?G:void 0,className:"relative w-[85vw] max-w-[400px] aspect-[2/3] cursor-pointer",style:{transformStyle:"preserve-3d",transform:`
                                rotateX(${(i.y-50)/50*-15}deg)
                                rotateY(${(i.x-50)/50*15+(h?180:0)}deg)
                            `,transition:h?"transform 0.2s ease-out":"transform 0.1s ease-out"},children:[m.jsxs("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[m.jsx("div",{className:"absolute inset-0 rounded-[32px] blur-3xl opacity-40 pointer-events-none",style:{backgroundColor:s.color}}),m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col items-center shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-30`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),n&&m.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-100 mix-blend-color-dodge",style:{background:`
                                                radial-gradient(
                                                    circle at ${i.x}% ${i.y}%, 
                                                    rgba(255, 255, 255, ${s.rarity==="legendary"?"0.6":"0.5"}) 0%, 
                                                    transparent 60%
                                                ),
                                                linear-gradient(
                                                    ${i.x+i.y}deg, 
                                                    transparent 0%, 
                                                    ${s.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(255, 100, 200, 0.3)"} 15%, 
                                                    ${s.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 200, 255, 0.3)"} 30%, 
                                                    ${s.rarity==="legendary"?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.4)"} 45%, 
                                                    ${s.rarity==="legendary"?"rgba(255, 150, 50, 0.3)":"rgba(100, 255, 200, 0.3)"} 60%, 
                                                    ${s.rarity==="legendary"?"rgba(255, 220, 100, 0.4)":"rgba(200, 100, 255, 0.3)"} 75%, 
                                                    transparent 90%
                                                )
                                            `,backgroundSize:"150% 150%",transition:"background 0.15s ease-out"}}),m.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 w-full p-8 mt-4",children:m.jsxs("div",{className:"relative transform scale-110",children:[n&&m.jsx("div",{className:"absolute inset-0 blur-3xl opacity-20 bg-white"}),m.jsx("div",{className:"relative drop-shadow-[0_0_25px_rgba(255,255,255,0.2)]",children:s.illustration})]})}),m.jsx("div",{className:`absolute top-4 right-4 z-30 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${ue(s.rarity.charAt(0).toUpperCase()+s.rarity.slice(1))}`,children:s.rarity}),m.jsxs("div",{className:"w-full p-6 pt-0 relative z-10 flex flex-col",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-2 tracking-tight leading-none uppercase",children:s.name}),m.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-4 font-medium",children:s.description}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-700 to-transparent mb-4"}),m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold mb-1",children:s.metricLabel}),m.jsx("span",{className:"text-lg font-black text-white",children:s.metricValue})]}),m.jsx("div",{className:"px-3 py-1.5 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP"})]})]}),n&&m.jsx("div",{className:"absolute inset-0 pointer-events-none z-30 opacity-30",style:{background:"linear-gradient(115deg, transparent 20%, white 48%, white 52%, transparent 80%)",backgroundSize:"200% 200%",backgroundPosition:`${i.x/100*200-50}%`}})]})]}),m.jsx("div",{className:"absolute inset-0 rounded-[32px] p-px",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:m.jsxs("div",{className:"relative h-full w-full bg-[#0a0f1d] border border-white/5 rounded-[30px] overflow-hidden flex flex-col p-6 shadow-2xl",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-20`}),m.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat"}),m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsx("h3",{className:"text-xl font-black text-white mb-4 tracking-tight uppercase",children:"Badge Details"}),m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Achievement Name"}),m.jsx("span",{className:"text-base font-bold text-white",children:s.name})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Description"}),m.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:s.description})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Rarity"}),m.jsx("span",{className:`text-sm font-bold ${s.rarity==="legendary"?"text-amber-400":s.rarity==="epic"?"text-purple-400":"text-sky-400"}`,children:s.rarity.toUpperCase()})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:s.metricLabel}),m.jsx("span",{className:"text-2xl font-black text-white",children:s.metricValue})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[9px] uppercase tracking-wider text-slate-500 font-bold block mb-1",children:"Badge ID"}),m.jsx("span",{className:"text-xs font-mono text-slate-400",children:s.id})]})]}),m.jsx("div",{className:"mt-4 px-3 py-2 rounded-lg border border-white/10 bg-white/5 backdrop-blur-md text-center text-[9px] font-bold uppercase tracking-widest text-slate-300",children:"TAP TO FLIP BACK"})]})]})})]})]})]})},Nb=()=>m.jsxs("div",{className:"flex-1 flex flex-col items-center overflow-y-auto bg-[#0e0d0c] min-h-screen",children:[m.jsx("div",{className:"fixed top-0 z-50 flex justify-center items-center py-2 pt-[max(env(safe-area-inset-top)+8px,24px)] bg-[#0e0d0c]/98 backdrop-blur-xl border-b border-[#2c1a12] w-full max-w-[640px]",children:m.jsx("div",{className:"h-14 w-32 bg-[#1a1817] rounded-lg animate-pulse"})}),m.jsxs("div",{className:"w-full max-w-2xl px-4 pt-24 space-y-8 pb-32",children:[m.jsx("div",{className:"w-full h-64 bg-[#1a1817] rounded-[2.5rem] animate-pulse border border-[#2c1a12]"}),[1,2,3].map(s=>m.jsx("div",{className:"border-b border-[#2c1a12] p-6",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-[#1a1817] rounded-full animate-pulse flex-shrink-0"}),m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("div",{className:"h-4 w-32 bg-[#1a1817] rounded animate-pulse"}),m.jsx("div",{className:"h-4 w-16 bg-[#1a1817] rounded animate-pulse"})]}),m.jsx("div",{className:"h-4 w-full bg-[#1a1817] rounded animate-pulse"}),m.jsx("div",{className:"h-4 w-3/4 bg-[#1a1817] rounded animate-pulse"}),m.jsx("div",{className:"h-48 w-full bg-[#1a1817] rounded-xl animate-pulse mt-4"})]})]})},s))]})]});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase()),X0=s=>{const n=Cb(s);return n.charAt(0).toUpperCase()+n.slice(1)},vm=(...s)=>s.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim(),Rb=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=J.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:h,...g},p)=>J.createElement("svg",{ref:p,...Ub,width:n,height:n,stroke:s,strokeWidth:l?Number(i)*24/Number(n):i,className:vm("lucide",c),...!d&&!Rb(g)&&{"aria-hidden":"true"},...g},[...h.map(([y,w])=>J.createElement(y,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(s,n)=>{const i=J.forwardRef(({className:l,...c},d)=>J.createElement(Db,{ref:d,iconNode:n,className:vm(`lucide-${kb(X0(s))}`,`lucide-${s}`,l),...c}));return i.displayName=X0(s),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Mb=it("clapperboard",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Bb=it("coffee",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hb=it("crown",qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Vb=it("flame",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Yb=it("gem",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Xb=it("heart",Kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Qb=it("landmark",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Zb=it("medal",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wb=it("message-square",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],e1=it("mic",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],a1=it("orbit",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],r1=it("pen-tool",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],i1=it("repeat",s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],o1=it("smartphone",l1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],c1=it("sparkles",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],h1=it("star",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],m1=it("target",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],p1=it("trophy",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],y1=it("wind",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w1=it("zap",b1),dl=[{id:"first_brew",name:"First Brew",description:"Shared your first coffee moment",emoji:"",metricLabel:"Moment",metricValue:"1/1",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ye.createElement(Bb,{className:"w-20 h-20 text-slate-300"}),requirement:s=>s.totalBrews>=1,rarity:"common"},{id:"social_butterfly",name:"Social Butterfly",description:"Received 5 sips on your brews",emoji:"",metricLabel:"Sips",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ye.createElement(y1,{className:"w-20 h-20 text-slate-300"}),requirement:s=>s.totalSips>=5,rarity:"common"},{id:"conversationalist",name:"Conversationalist",description:"Received 3 comments",emoji:"",metricLabel:"Replies",metricValue:"3",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ye.createElement(Wb,{className:"w-20 h-20 text-slate-300"}),requirement:s=>s.totalComments>=3,rarity:"common"},{id:"coffee_lover",name:"Coffee Lover",description:"Posted 5 brews",emoji:"",metricLabel:"Brews",metricValue:"5",color:"#94a3b8",gradient:"from-slate-500/10 to-slate-400/5",illustration:Ye.createElement(Xb,{className:"w-20 h-20 text-slate-300"}),requirement:s=>s.totalBrews>=5,rarity:"common"},{id:"rising_star",name:"Rising Star",description:"Received 25 sips",emoji:"",metricLabel:"Sips",metricValue:"25",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ye.createElement(h1,{className:"w-20 h-20 text-sky-400"}),requirement:s=>s.totalSips>=25,rarity:"rare"},{id:"community_voice",name:"Community Voice",description:"Posted 10 brews",emoji:"",metricLabel:"Brews",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ye.createElement(e1,{className:"w-20 h-20 text-sky-400"}),requirement:s=>s.totalBrews>=10,rarity:"rare"},{id:"crowd_pleaser",name:"Crowd Pleaser",description:"Received 10 comments",emoji:"",metricLabel:"Applause",metricValue:"10",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ye.createElement(Mb,{className:"w-20 h-20 text-sky-400"}),requirement:s=>s.totalComments>=10,rarity:"rare"},{id:"share_worthy",name:"Share Worthy",description:"Your brews were shared 5 times",emoji:"",metricLabel:"Echoes",metricValue:"5",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ye.createElement(i1,{className:"w-20 h-20 text-sky-400"}),requirement:s=>s.sharesReceived>=5,rarity:"rare"},{id:"dedicated_barista",name:"Dedicated Barista",description:"Posted 20 brews",emoji:"",metricLabel:"Target",metricValue:"20",color:"#38bdf8",gradient:"from-sky-500/20 to-blue-600/20",illustration:Ye.createElement(m1,{className:"w-20 h-20 text-sky-400"}),requirement:s=>s.totalBrews>=20,rarity:"rare"},{id:"espresso_expert",name:"Espresso Expert",description:"Received 50 sips",emoji:"",metricLabel:"Impact",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(p1,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.totalSips>=50,rarity:"epic"},{id:"viral_brew",name:"Viral Brew",description:"Received 100 sips",emoji:"",metricLabel:"Heat",metricValue:"100+",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(Vb,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.totalSips>=100,rarity:"epic"},{id:"engagement_master",name:"Engagement Master",description:"Received 25 comments",emoji:"",metricLabel:"Gems",metricValue:"25",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(Yb,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.totalComments>=25,rarity:"epic"},{id:"prolific_creator",name:"Prolific Creator",description:"Posted 50 brews",emoji:"",metricLabel:"Folios",metricValue:"50",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(r1,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.totalBrews>=50,rarity:"epic"},{id:"influencer",name:"Influencer",description:"Your brews were shared 15 times",emoji:"",metricLabel:"Ping",metricValue:"15",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(o1,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.sharesReceived>=15,rarity:"epic"},{id:"triple_threat",name:"Triple Threat",description:"30 brews, 75 sips, and 20 comments",emoji:"",metricLabel:"Power",metricValue:"3X",color:"#a855f7",gradient:"from-purple-500/20 to-fuchsia-600/20",illustration:Ye.createElement(w1,{className:"w-20 h-20 text-purple-400"}),requirement:s=>s.totalBrews>=30&&s.totalSips>=75&&s.totalComments>=20,rarity:"epic"},{id:"coffee_legend",name:"Coffee Legend",description:"Received 200 sips",emoji:"",metricLabel:"Legacy",metricValue:"200+",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ye.createElement(Hb,{className:"w-20 h-20 text-amber-400"}),requirement:s=>s.totalSips>=200,rarity:"legendary"},{id:"master_barista",name:"Master Barista",description:"Posted 100 brews",emoji:"",metricLabel:"Honor",metricValue:"100",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ye.createElement(Zb,{className:"w-20 h-20 text-amber-400"}),requirement:s=>s.totalBrews>=100,rarity:"legendary"},{id:"community_pillar",name:"Community Pillar",description:"75 brews, 150 sips, and 50 comments",emoji:"",metricLabel:"Status",metricValue:"ELIT",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ye.createElement(Qb,{className:"w-20 h-20 text-amber-400"}),requirement:s=>s.totalBrews>=75&&s.totalSips>=150&&s.totalComments>=50,rarity:"legendary"},{id:"taste_maker",name:"Taste Maker",description:"Your brews were shared 30 times",emoji:"",metricLabel:"Spark",metricValue:"30",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ye.createElement(c1,{className:"w-20 h-20 text-amber-400"}),requirement:s=>s.sharesReceived>=30,rarity:"legendary"},{id:"wavegram_elite",name:"Wavegram Elite",description:"100 brews, 250 sips, 75 comments, and 25 shares",emoji:"",metricLabel:"Cosmos",metricValue:"",color:"#fbbf24",gradient:"from-amber-500/30 to-orange-600/30",illustration:Ye.createElement(a1,{className:"w-20 h-20 text-amber-400"}),requirement:s=>s.totalBrews>=100&&s.totalSips>=250&&s.totalComments>=75&&s.sharesReceived>=25,rarity:"legendary"}],_1=s=>dl.filter(n=>n.requirement(s)),x1="modulepreload",S1=function(s,n){return new URL(s,n).href},J0={},E1=function(n,i,l){let c=Promise.resolve();if(i&&i.length>0){let h=function(w){return Promise.all(w.map(x=>Promise.resolve(x).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const g=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));c=h(i.map(w=>{if(w=S1(w,l),w in J0)return;J0[w]=!0;const x=w.endsWith(".css"),_=x?'[rel="stylesheet"]':"";if(!!l)for(let C=g.length-1;C>=0;C--){const z=g[C];if(z.href===w&&(!x||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${w}"]${_}`))return;const T=document.createElement("link");if(T.rel=x?"stylesheet":x1,x||(T.as="script"),T.crossOrigin="",T.href=w,y&&T.setAttribute("nonce",y),document.head.appendChild(T),x)return new Promise((C,z)=>{T.addEventListener("load",C),T.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${w}`)))})}))}function d(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return c.then(h=>{for(const g of h||[])g.status==="rejected"&&d(g.reason);return n().catch(d)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var qr;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(qr||(qr={}));class Qu extends Error{constructor(n,i,l){super(n),this.message=n,this.code=i,this.data=l}}const j1=s=>{var n,i;return s!=null&&s.androidBridge?"android":!((i=(n=s==null?void 0:s.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},T1=s=>{const n=s.CapacitorCustomPlatform||null,i=s.Capacitor||{},l=i.Plugins=i.Plugins||{},c=()=>n!==null?n.name:j1(s),d=()=>c()!=="web",h=x=>{const _=y.get(x);return!!(_!=null&&_.platforms.has(c())||g(x))},g=x=>{var _;return(_=i.PluginHeaders)===null||_===void 0?void 0:_.find(N=>N.name===x)},p=x=>s.console.error(x),y=new Map,w=(x,_={})=>{const N=y.get(x);if(N)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),N.proxy;const T=c(),C=g(x);let z;const H=async()=>(!z&&T in _?z=typeof _[T]=="function"?z=await _[T]():z=_[T]:n!==null&&!z&&"web"in _&&(z=typeof _.web=="function"?z=await _.web():z=_.web),z),G=(ne,le)=>{var Be,He;if(C){const Te=C==null?void 0:C.methods.find(Ke=>le===Ke.name);if(Te)return Te.rtype==="promise"?Ke=>i.nativePromise(x,le.toString(),Ke):(Ke,lt)=>i.nativeCallback(x,le.toString(),Ke,lt);if(ne)return(Be=ne[le])===null||Be===void 0?void 0:Be.bind(ne)}else{if(ne)return(He=ne[le])===null||He===void 0?void 0:He.bind(ne);throw new Qu(`"${x}" plugin is not implemented on ${T}`,qr.Unimplemented)}},B=ne=>{let le;const Be=(...He)=>{const Te=H().then(Ke=>{const lt=G(Ke,ne);if(lt){const ot=lt(...He);return le=ot==null?void 0:ot.remove,ot}else throw new Qu(`"${x}.${ne}()" is not implemented on ${T}`,qr.Unimplemented)});return ne==="addListener"&&(Te.remove=async()=>le()),Te};return Be.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(Be,"name",{value:ne,writable:!1,configurable:!1}),Be},X=B("addListener"),ue=B("removeListener"),V=(ne,le)=>{const Be=X({eventName:ne},le),He=async()=>{const Ke=await Be;ue({eventName:ne,callbackId:Ke},le)},Te=new Promise(Ke=>Be.then(()=>Ke({remove:He})));return Te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await He()},Te},$=new Proxy({},{get(ne,le){switch(le){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?V:X;case"removeListener":return ue;default:return B(le)}}});return l[x]=$,y.set(x,{name:x,proxy:$,platforms:new Set([...Object.keys(_),...C?[T]:[]])}),$};return i.convertFileSrc||(i.convertFileSrc=x=>x),i.getPlatform=c,i.handleError=p,i.isNativePlatform=d,i.isPluginAvailable=h,i.registerPlugin=w,i.Exception=Qu,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},A1=s=>s.Capacitor=T1(s),ic=A1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),yl=ic.registerPlugin;class fc{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let l=!1;this.listeners[n]||(this.listeners[n]=[],l=!0),this.listeners[n].push(i);const d=this.windowListeners[n];d&&!d.registered&&this.addWindowListener(d),l&&this.sendRetainedArgumentsForEvent(n);const h=async()=>this.removeListener(n,i);return Promise.resolve({remove:h})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,l){const c=this.listeners[n];if(!c){if(l){let d=this.retainedEventArguments[n];d||(d=[]),d.push(i),this.retainedEventArguments[n]=d}return}c.forEach(d=>d(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:l=>{this.notifyListeners(i,l)}}}unimplemented(n="not implemented"){return new ic.Exception(n,qr.Unimplemented)}unavailable(n="not available"){return new ic.Exception(n,qr.Unavailable)}async removeListener(n,i){const l=this.listeners[n];if(!l)return;const c=l.indexOf(i);this.listeners[n].splice(c,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(l=>{this.notifyListeners(n,l)}))}}const Q0=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),I0=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class O1 extends fc{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(l=>{if(l.length<=0)return;let[c,d]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=I0(c).trim(),d=I0(d).trim(),i[c]=d}),i}async setCookie(n){try{const i=Q0(n.key),l=Q0(n.value),c=`; expires=${(n.expires||"").replace("expires=","")}`,d=(n.path||"/").replace("path=",""),h=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${l||""}${c}; path=${d}; ${h};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}yl("CapacitorCookies",{web:()=>new O1});const N1=async s=>new Promise((n,i)=>{const l=new FileReader;l.onload=()=>{const c=l.result;n(c.indexOf(",")>=0?c.split(",")[1]:c)},l.onerror=c=>i(c),l.readAsDataURL(s)}),k1=(s={})=>{const n=Object.keys(s);return Object.keys(s).map(c=>c.toLocaleLowerCase()).reduce((c,d,h)=>(c[d]=s[n[h]],c),{})},C1=(s,n=!0)=>s?Object.entries(s).reduce((l,c)=>{const[d,h]=c;let g,p;return Array.isArray(h)?(p="",h.forEach(y=>{g=n?encodeURIComponent(y):y,p+=`${d}=${g}&`}),p.slice(0,-1)):(g=n?encodeURIComponent(h):h,p=`${d}=${g}`),`${l}&${p}`},"").substr(1):null,R1=(s,n={})=>{const i=Object.assign({method:s.method||"GET",headers:s.headers},n),c=k1(s.headers)["content-type"]||"";if(typeof s.data=="string")i.body=s.data;else if(c.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[h,g]of Object.entries(s.data||{}))d.set(h,g);i.body=d.toString()}else if(c.includes("multipart/form-data")||s.data instanceof FormData){const d=new FormData;if(s.data instanceof FormData)s.data.forEach((g,p)=>{d.append(p,g)});else for(const g of Object.keys(s.data))d.append(g,s.data[g]);i.body=d;const h=new Headers(i.headers);h.delete("content-type"),i.headers=h}else(c.includes("application/json")||typeof s.data=="object")&&(i.body=JSON.stringify(s.data));return i};class U1 extends fc{async request(n){const i=R1(n,n.webFetchExtra),l=C1(n.params,n.shouldEncodeUrlParams),c=l?`${n.url}?${l}`:n.url,d=await fetch(c,i),h=d.headers.get("content-type")||"";let{responseType:g="text"}=d.ok?n:{};h.includes("application/json")&&(g="json");let p,y;switch(g){case"arraybuffer":case"blob":y=await d.blob(),p=await N1(y);break;case"json":p=await d.json();break;case"document":case"text":default:p=await d.text()}const w={};return d.headers.forEach((x,_)=>{w[_]=x}),{data:p,headers:w,status:d.status,url:d.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}yl("CapacitorHttp",{web:()=>new U1});var Z0;(function(s){s.Dark="DARK",s.Light="LIGHT",s.Default="DEFAULT"})(Z0||(Z0={}));var P0;(function(s){s.StatusBar="StatusBar",s.NavigationBar="NavigationBar"})(P0||(P0={}));class D1 extends fc{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}yl("SystemBars",{web:()=>new D1});const W0=yl("App",{web:()=>E1(()=>import("./web-Dy9MNqjv.js"),[],import.meta.url).then(s=>new s.AppWeb)}),z1=()=>{const[s,n]=J.useState(null),[i,l]=J.useState(null),[c,d]=J.useState(()=>{const F=localStorage.getItem("cachedPosts");return F?JSON.parse(F):[]}),[h,g]=J.useState(!c.length),[p,y]=J.useState(()=>localStorage.getItem("activeTab")||ge.HOME),[w,x]=J.useState(!1),[_,N]=J.useState(null),[T,C]=J.useState(null),[z,H]=J.useState(null),[G,B]=J.useState(""),[X,ue]=J.useState([]),[V,$]=J.useState(!1),[ne,le]=J.useState(null),[Be,He]=J.useState("brews"),[Te,Ke]=J.useState(null),[lt,ot]=J.useState(null),[U,Y]=J.useState(!1),[te,ke]=J.useState(0),[Re,E]=J.useState(!1),[q,K]=J.useState(0),[I,ce]=J.useState(parseInt(localStorage.getItem("lastViewedInteractions")||"0",10)),pe=Ye.useRef(I),Ee=Ye.useRef(0);J.useEffect(()=>{localStorage.setItem("activeTab",p)},[p]),J.useEffect(()=>{c.length>0&&localStorage.setItem("cachedPosts",JSON.stringify(c))},[c]),J.useEffect(()=>{let F;return(async()=>{F=await W0.addListener("backButton",({canGoBack:ye})=>{w?x(!1):_||T||z?(N(null),C(null),H(null)):p!==ge.HOME?y(ge.HOME):W0.exitApp()})})(),()=>{F&&F.remove()}},[p,w,_,T,z]),J.useEffect(()=>{if(localStorage.getItem("bc_mock_session")==="training_team_active"){n({user:{id:"77777777-7777-7777-7777-777777777777"}}),l({id:"77777777-7777-7777-7777-777777777777",username:"twc_training",name:"TWC Training Team",avatar:"https://api.dicebear.com/7.x/identicon/svg?seed=training",verified:!0});return}ve.auth.getSession().then(({data:{session:ye}})=>{n(ye),ye?dt(ye.user.id):g(!1)});const{data:{subscription:ee}}=ve.auth.onAuthStateChange((ye,Ae)=>{n(Ae),Ae?dt(Ae.user.id):(l(null),g(!1))});return()=>ee.unsubscribe()},[]);const dt=async F=>{const{data:ee,error:ye}=await ve.from("profiles").select("*").eq("id",F).single();ye?(console.error("Error fetching profile:",ye),g(!1)):ee?l({id:ee.id,username:ee.username,name:ee.full_name,avatar:ee.avatar_url,verified:!0}):g(!1)},Je=async()=>{E(!0)},gn=async()=>{localStorage.removeItem("bc_mock_session"),await ve.auth.signOut(),n(null),l(null),E(!1)},Hn=F=>{y(ge.HOME),le(F),setTimeout(()=>{const ee=document.getElementById(`post-${F}`);ee&&ee.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>le(null),3e3)},100)},$n=F=>{Ke(F),y(ge.PROFILE)},jt=J.useCallback(async(F=!1)=>{F||g(!0);const{data:ee,error:ye}=await ve.from("posts").select(`
        *,
        profiles (
          full_name,
          username,
          avatar_url
        ),
        comments (
          id,
          content,
          created_at,
          user_id,
          avatar,
          username
        ),
        likes (user_id),
        shares (id, sender_id, receiver_id)
      `).order("created_at",{ascending:!1});if(ye)console.error("Error fetching posts:",ye),d(Vp);else if(ee){const Ae=ee.map(be=>{var mt;return{id:be.id,userId:be.user_id,username:((mt=be.profiles)==null?void 0:mt.full_name)||be.username||"Unknown Barista",avatar:be.avatar,content:be.content,image:be.image,likes:be.likes_count,shares:(be.shares||[]).length,createdAt:new Date(be.created_at).toLocaleDateString(),isLiked:(be.likes||[]).some(xt=>xt.user_id===(i==null?void 0:i.id)),comments:be.comments.map(xt=>({id:xt.id,userId:xt.user_id,username:xt.username,avatar:xt.avatar,content:xt.content,createdAt:new Date(xt.created_at).toLocaleDateString(),likes:0}))}});d(Ae),ba()}g(!1)},[i]);J.useEffect(()=>{jt()},[jt]),J.useEffect(()=>{if(!i)return;console.log("Setting up real-time subscriptions...");const F=ve.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},Ae=>{console.log("Posts change detected:",Ae),jt()}).subscribe(),ee=ve.channel("comments-changes").on("postgres_changes",{event:"*",schema:"public",table:"comments"},Ae=>{console.log("Comments change detected:",Ae),jt()}).subscribe(),ye=ve.channel("likes-changes").on("postgres_changes",{event:"*",schema:"public",table:"likes"},Ae=>{console.log("Likes change detected:",Ae),jt()}).subscribe();return()=>{console.log("Cleaning up real-time subscriptions..."),F.unsubscribe(),ee.unsubscribe(),ye.unsubscribe()}},[i,jt]),J.useEffect(()=>{p===ge.POST&&(x(!0),y(ge.HOME)),p===ge.ACTIVITY&&ba()},[p]);const ha=async F=>{if(!i)return;const ee=c.find(Ae=>Ae.id===F);if(!ee)return;const ye=!ee.isLiked;d(Ae=>Ae.map(be=>be.id===F?{...be,isLiked:ye,likes:ye?be.likes+1:Math.max(0,be.likes-1)}:be)),ye?(await ve.from("likes").insert({post_id:F,user_id:i.id}),await ve.rpc("increment_likes",{post_id_val:F})):(await ve.from("likes").delete().eq("post_id",F).eq("user_id",i.id),await ve.rpc("decrement_likes",{post_id_val:F}))},Hr=async(F,ee)=>{if(!i)return;const{error:ye}=await ve.from("posts").insert([{user_id:i.id,username:i.username,avatar:i.avatar,content:F,image:ee,likes_count:0}]);ye?(console.error("FAILED_TO_CREATE_POST",ye),alert(`Failed to share your brew: ${ye.message}`)):(jt(),x(!1))},$r=async(F,ee)=>{if(!z||!i)return;const{error:ye}=await ve.from("posts").update({content:F,image:ee||z.image}).eq("id",z.id);ye?(console.error("FAILED_TO_UPDATE_POST",ye),alert(`Failed to update your brew: ${ye.message}`)):(jt(),H(null))},Xs=async F=>{if(i&&window.confirm("Are you sure you want to delete this brew? This cannot be undone."))try{const{error:ee}=await ve.from("shares").delete().eq("post_id",F);ee&&console.warn("App: Error deleting shares (might be empty, ignoring):",ee);const{error:ye}=await ve.from("likes").delete().eq("post_id",F);ye&&console.warn("App: Error deleting likes (might be empty, ignoring):",ye);const{error:Ae}=await ve.from("comments").delete().eq("post_id",F);Ae&&console.warn("App: Error deleting comments (might be empty, ignoring):",Ae);const{error:be}=await ve.from("posts").delete().eq("id",F).eq("user_id",i.id);if(be)throw be;d(mt=>mt.filter(xt=>xt.id!==F)),jt(),ba()}catch(ee){console.error("FAILED_TO_DELETE_POST",ee),alert(`Failed to delete your brew. Error: ${ee.message}`)}},Js=async()=>{if(!_||!G.trim()||!i)return;const{error:F}=await ve.from("comments").insert([{post_id:_.id,user_id:i.id,username:i.username,avatar:i.avatar,content:G}]);F?(console.error("FAILED_TO_ADD_COMMENT",F),alert(`Failed to post your reply: ${F.message}`)):(B(""),N(null),jt(),ba())},ba=async()=>{if(i){$(!0);try{const{data:F,error:ee}=await ve.from("posts").select("id, content").eq("user_id",i.id);if(ee)throw ee;if(!F||F.length===0){ue([]),$(!1);return}const ye=F.map(he=>he.id),Ae=F.reduce((he,et)=>({...he,[et.id]:et.content}),{}),{data:be,error:mt}=await ve.from("shares").select("*").eq("receiver_id",i.id),Ha=(be||[]).map(he=>he.post_id).filter(he=>!Ae[he]);if(Ha.length>0){const{data:he}=await ve.from("posts").select("id, content").in("id",Ha);(he||[]).forEach(et=>{Ae[et.id]=et.content})}const{data:Vn,error:pn}=await ve.from("likes").select("*").in("post_id",ye),{data:Lt,error:St}=await ve.from("comments").select("*").in("post_id",ye),P=[...new Set([...(Vn||[]).map(he=>he.user_id),...(Lt||[]).map(he=>he.user_id),...(be||[]).map(he=>he.sender_id)])];let oe={};if(P.length>0){const{data:he}=await ve.from("profiles").select("*").in("id",P);oe=(he||[]).reduce((et,Ot)=>({...et,[Ot.id]:Ot}),{})}const At=[];let fa=0;const ma=(he,et,Ot,It)=>{if(Ot===i.id)return;const Gn=!!he.created_at,$a=new Date(he.created_at||0);Gn&&$a.getTime()>pe.current&&fa++;const Nt=oe[Ot];At.push({id:`${et}-${he.id}`,type:et,actorName:(Nt==null?void 0:Nt.full_name)||(Nt==null?void 0:Nt.username)||"A barista",actorUsername:(Nt==null?void 0:Nt.username)||"unknown",actorAvatar:(Nt==null?void 0:Nt.avatar_url)||`https://api.dicebear.com/7.x/identicon/svg?seed=${Ot}`,postContent:Ae[he.post_id]||"your brew",postId:he.post_id,timestamp:$a,content:It})};(be||[]).forEach(he=>ma(he,"share",he.sender_id)),(Vn||[]).forEach(he=>ma(he,"like",he.user_id)),(Lt||[]).forEach(he=>ma(he,"comment",he.user_id,he.content)),ue(At.sort((he,et)=>et.timestamp.getTime()-he.timestamp.getTime())),p===ge.ACTIVITY?K(0):K(fa)}catch(F){console.error("FAILED_TO_FETCH_ACTIVITY",F)}finally{$(!1)}}};J.useEffect(()=>{Te&&Te!==(i==null?void 0:i.id)?(async()=>{const{data:ee,error:ye}=await ve.from("profiles").select("*").eq("id",Te).single();ee&&ot({id:ee.id,username:ee.username,name:ee.full_name,avatar:ee.avatar_url,verified:!0})})():ot(null)},[Te,i]);function Vr(F){if(F===ge.PROFILE&&Ke(null),F===ge.ACTIVITY){K(0);const ee=X.length>0?Math.max(...X.map(be=>be.timestamp.getTime())):0,ye=Date.now(),Ae=Math.max(ye,ee);ce(Ae),pe.current=Ae,localStorage.setItem("lastViewedInteractions",Ae.toString())}y(F)}const Gr=()=>{if(h&&p===ge.HOME)return m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium animate-pulse",children:"Frothing the milk..."})]})});switch(p){case ge.HOME:const F=P=>{P.currentTarget.scrollTop===0&&(Ee.current=P.touches[0].clientY)},ee=P=>{if(P.currentTarget.scrollTop===0&&Ee.current>0){const fa=P.touches[0].clientY-Ee.current,ma=Math.max(0,Math.min(Math.log10(1+fa/100)*150,120));ke(ma),fa>10&&P.cancelable&&P.preventDefault()}},ye=async P=>{if(te>70&&!U){Y(!0);const At=new Promise(fa=>setTimeout(fa,2500));await Promise.all([jt(!0),ba(),At]),Y(!1)}ke(0),Ee.current=0};return m.jsxs("div",{className:"flex-1 flex flex-col items-center overflow-y-auto",onTouchStart:F,onTouchMove:ee,onTouchEnd:ye,children:[m.jsx("div",{style:{height:U?"60px":`${te}px`,transition:"height 0.3s"}}),m.jsx("div",{className:"fixed top-0 z-50 flex justify-center items-center py-2 pt-[max(env(safe-area-inset-top)+8px,24px)] bg-[#0e0d0c]/98 backdrop-blur-xl border-b border-[#2c1a12] w-full max-w-[640px]",children:m.jsx("div",{className:`h-14 flex items-center transition-all duration-200 ${U?"animate-pulse-fast":""}`,style:{filter:te>0&&!U?`grayscale(${Math.max(0,1-te/100)}) opacity(${Math.min(1,.5+te/200)})`:"none",transform:`scale(${Math.min(1.2,1+te/500)})`},children:m.jsx("img",{src:cl,alt:"Wavegram",className:"h-full object-contain"})})}),m.jsxs("div",{className:"w-full max-w-2xl px-4 pt-24 space-y-8 pb-32",children:[m.jsx(jb,{currentUser:i}),m.jsx("div",{className:"space-y-0",children:c.map(P=>m.jsx("div",{id:`post-${P.id}`,className:`transition-all duration-300 ${ne===P.id?"ring-2 ring-[#c29a67] ring-offset-2 ring-offset-[#0e0d0c] rounded-3xl":""}`,children:m.jsx(_0,{post:P,isOwner:P.userId===i.id,onLike:ha,onComment:oe=>N(oe),onShare:oe=>C(oe),onEdit:oe=>H(oe),onDelete:Xs,onUserClick:$n})},P.id))})]})]});case ge.PROFILE:const Ae=!Te||Te===i.id,be=Ae?i:lt;if(!be)return m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] mt-4 font-medium",children:"Brewing profile..."})]});const mt=c.filter(P=>P.userId===be.id),xt=mt.length,Ha=mt.reduce((P,oe)=>P+(oe.likes||0),0),Vn={totalBrews:xt,totalSips:Ha,totalComments:mt.reduce((P,oe)=>{var At;return P+(((At=oe.comments)==null?void 0:At.length)||0)},0),totalShares:0,sharesReceived:mt.reduce((P,oe)=>P+(oe.shares||0),0)},pn=_1(Vn),Lt=dl.find(P=>!pn.some(oe=>oe.id===P.id)),St=async P=>{var It;const oe=(It=P.target.files)==null?void 0:It[0];if(!oe||!i)return;const At=oe.name.split(".").pop(),ma=`avatars/${`${i.id}-${Math.random()}.${At}`}`,{error:he}=await ve.storage.from("brew-images").upload(ma,oe);if(he){alert(`Upload failed: ${he.message}`);return}const{data:{publicUrl:et}}=ve.storage.from("brew-images").getPublicUrl(ma),{error:Ot}=await ve.from("profiles").update({avatar_url:et}).eq("id",i.id);Ot?alert(`Update failed: ${Ot.message}`):(l({...i,avatar:et}),jt(!0))};return m.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[m.jsx("div",{className:"fixed top-0 z-50 flex justify-center items-center py-2 pt-[max(env(safe-area-inset-top)+8px,24px)] bg-[#0e0d0c]/98 backdrop-blur-xl border-b border-[#2c1a12] w-full max-w-[640px]",children:m.jsx("div",{className:"h-14 flex items-center",children:m.jsx("img",{src:cl,alt:"Wavegram",className:"h-full object-contain"})})}),m.jsxs("div",{className:"w-full max-w-2xl px-4 pt-24 pb-32",children:[m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[#efebe9]",children:be.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[m.jsxs("span",{className:"text-[#a09a96]",children:["@",be.username]}),be.verified&&m.jsx("span",{className:"px-2 py-0.5 bg-[#c29a67]/10 text-[#c29a67] text-[10px] font-bold rounded-full border border-[#c29a67]/20 uppercase tracking-wider",children:"Verified Barista"})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("img",{src:be.avatar,className:"w-20 h-20 rounded-full border-2 border-[#c29a67]/20 object-cover"}),Ae&&m.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity",children:[m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:St}),m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[m.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),m.jsx("circle",{cx:"12",cy:"13",r:"4"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[m.jsxs("div",{onClick:()=>He("brews"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 ${Be==="brews"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:`text-xl font-bold ${Be==="brews"?"text-[#c29a67]":"text-[#efebe9]"}`,children:xt}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Brews"})]}),m.jsxs("div",{className:"bg-[#1a1817] p-4 rounded-2xl border border-[#2c1a12] text-center opacity-50 cursor-not-allowed",children:[m.jsx("div",{className:"text-xl font-bold text-[#efebe9]",children:Ha}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Sips"})]}),m.jsxs("div",{onClick:()=>He("badges"),className:`p-4 rounded-2xl border text-center cursor-pointer transition-all active:scale-95 bg-gradient-to-br from-[#c29a67]/10 to-transparent ${Be==="badges"?"bg-[#c29a67]/20 border-[#c29a67] shadow-[0_0_20px_rgba(194,154,103,0.1)]":"bg-[#1a1817] border-[#2c1a12] hover:border-[#c29a67]/50"}`,children:[m.jsx("div",{className:"text-xl font-bold text-[#c29a67]",children:pn.length}),m.jsx("div",{className:"text-[10px] text-[#a09a96] uppercase font-bold tracking-widest mt-1",children:"Badges"})]})]}),Be==="badges"?m.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("h3",{className:"text-[#efebe9] font-bold mb-4 flex items-center gap-2",children:[m.jsx("span",{children:" Earned Achievements"}),m.jsxs("span",{className:"text-xs font-normal text-[#a09a96] bg-[#2c1a12] px-2 py-1 rounded-full",children:[pn.length," / ",dl.length]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:dl.map(P=>{const oe=pn.some(At=>At.id===P.id);return m.jsx("div",{className:"flex justify-center w-full",children:m.jsx("div",{className:"w-full max-w-[280px]",children:m.jsx(Ob,{achievement:P,isUnlocked:oe})})},P.id)})}),Lt&&m.jsxs("div",{className:"mt-6 bg-[#1a1817]/40 p-4 rounded-2xl border border-[#2c1a12] flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0e0d0c] border border-[#2c1a12] flex items-center justify-center opacity-50 text-2xl grayscale",children:Lt.emoji}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[#a09a96] text-xs uppercase font-bold tracking-widest mb-0.5",children:"Next Goal"}),m.jsx("p",{className:"text-[#efebe9] font-bold text-sm",children:Lt.name}),m.jsx("p",{className:"text-[#a09a96] text-xs",children:Lt.description})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-b border-[#2c1a12] flex mb-6",children:[m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#c29a67] border-b-2 border-[#c29a67]",children:"Your Brews"}),m.jsx("button",{className:"px-6 py-3 text-sm font-bold text-[#a09a96]/50 cursor-not-allowed",children:"Sips"})]}),m.jsxs("div",{className:"space-y-6 w-full pb-32",children:[mt.map(P=>m.jsx(_0,{post:P,isOwner:P.userId===i.id,onLike:ha,onComment:oe=>N(oe),onShare:oe=>C(oe),onEdit:oe=>H(oe),onDelete:Xs,onUserClick:$n},P.id)),mt.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-[#a09a96] mb-4",children:"No brews shared yet."}),Ae&&m.jsx("button",{onClick:()=>x(!0),className:"px-6 py-2 bg-[#c29a67] text-[#0e0d0c] font-bold rounded-xl hover:bg-[#d4aa7d] transition-colors",children:"Brew your first cup"})]})]})]})]})]});case ge.ACTIVITY:return m.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[m.jsx("div",{className:"fixed top-0 z-50 flex justify-center items-center py-2 pt-[max(env(safe-area-inset-top)+8px,24px)] bg-[#0e0d0c]/98 backdrop-blur-xl border-b border-[#2c1a12] w-full max-w-[640px]",children:m.jsx("div",{className:"h-14 flex items-center",children:m.jsx("img",{src:cl,alt:"Wavegram",className:"h-full object-contain"})})}),m.jsx("div",{className:"w-full max-w-2xl px-4 pt-24 space-y-4 pb-32",children:V?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-[#c29a67] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-[#a09a96] font-medium",children:"Checking the office buzz..."})]}):X.length===0?m.jsx("div",{className:"text-center py-20 bg-[#1a1817]/30 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm",children:m.jsx("p",{className:"text-[#a09a96] font-medium italic",children:"No office buzz yet. Share a brew to get the conversation started! "})}):X.map(P=>m.jsx("div",{onClick:()=>Hn(P.postId),className:"bg-[#1a1817]/40 p-5 rounded-3xl border border-[#2c1a12]/50 backdrop-blur-sm hover:border-[#c29a67]/30 transition-all group cursor-pointer active:scale-[0.98]",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:P.actorAvatar,className:"w-12 h-12 rounded-2xl border border-[#2c1a12] shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("p",{className:"text-[#efebe9] font-bold text-sm truncate",children:[P.actorName,m.jsx("span",{className:"text-[#a09a96] font-medium ml-2",children:P.type==="like"?"sipped your brew":P.type==="comment"?"replied to you":"shared a brew with you"})]}),m.jsx("span",{className:"text-[10px] text-[#a09a96] uppercase tracking-wider shrink-0",children:P.timestamp.toLocaleDateString()})]}),P.type==="comment"&&m.jsxs("p",{className:"text-[#efebe9]/80 text-sm mb-3 line-clamp-2 bg-[#0e0d0c]/40 p-3 rounded-xl border border-[#2c1a12]/30 italic",children:['"',P.content,'"']}),m.jsxs("p",{className:"text-[11px] text-[#a09a96] truncate",children:["On: ",m.jsx("span",{className:"text-[#c29a67]/70 italic",children:P.postContent})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2 bg-[#2c1a12]/30 rounded-xl group-hover:bg-[#c29a67]/10 transition-colors",children:P.type==="like"?m.jsx("svg",{className:"w-5 h-5 text-[#ff4b4b]",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):P.type==="comment"?m.jsx("svg",{className:"w-5 h-5 text-[#c29a67]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}):m.jsx("svg",{className:"w-5 h-5 text-[#efebe9]",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]})},P.id))})]});default:return m.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-neutral-500",children:m.jsx("p",{className:"text-lg",children:"Coming soon..."})})}};if(h)return m.jsx(Nb,{});const bl=()=>{n({user:{id:"77777777-7777-7777-7777-777777777777"}}),l({id:"77777777-7777-7777-7777-777777777777",username:"twc_training",name:"TWC Training Team",avatar:"https://api.dicebear.com/7.x/identicon/svg?seed=training",verified:!0})};return!s||!i?m.jsx(Tb,{onLoginSuccess:bl}):m.jsxs(Yp,{activeTab:p,setActiveTab:Vr,onLogout:Je,unreadCount:q,children:[Gr(),w&&i&&m.jsx(K0,{user:i,onClose:()=>x(!1),onSubmit:Hr}),z&&i&&m.jsx(K0,{user:i,initialData:{content:z.content,image:z.image},onClose:()=>H(null),onSubmit:$r}),_&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"bg-[#1a1817] w-full max-w-xl rounded-3xl border border-[#2c1a12] flex flex-col max-h-[90vh] shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-[#2c1a12] flex items-center justify-between bg-[#1a1817]",children:[m.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Reply to Brew"}),m.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-[#2c1a12] rounded-full transition-colors text-[#a09a96] hover:text-[#efebe9]",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-[#1a1817]",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("img",{src:_.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-[#efebe9]",children:["@",_.username]}),m.jsx("div",{className:"mt-2 text-[#efebe9]/80 leading-relaxed",children:_.content})]})]}),m.jsxs("div",{className:"mt-8 flex gap-4",children:[m.jsx("img",{src:i.avatar,className:"w-12 h-12 rounded-full border border-[#c29a67]/20"}),m.jsx("textarea",{autoFocus:!0,value:G,onChange:F=>B(F.target.value),placeholder:"Share your thoughts on this brew...",className:"flex-1 bg-transparent border-none focus:ring-0 text-[17px] resize-none min-h-[120px] p-0 placeholder-[#a09a96]/50 text-[#efebe9]"})]})]}),m.jsx("div",{className:"p-5 border-t border-[#2c1a12] flex justify-end bg-[#1a1817]",children:m.jsx("button",{onClick:Js,disabled:!G.trim(),className:"bg-[#efebe9] text-[#0e0d0c] font-black px-8 py-3 rounded-xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white transition-all shadow-lg active:scale-95",children:"Sip Together"})})]})}),T&&m.jsx(Ab,{post:T,currentUser:i,onClose:()=>C(null)}),Re&&m.jsx("div",{className:"fixed inset-0 bg-[#0e0d0c]/90 backdrop-blur-md flex items-center justify-center p-6 z-[100] animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-[#1a1817] w-full max-w-sm rounded-[2.5rem] border border-[#2c1a12] p-8 shadow-2xl overflow-hidden transform animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:m.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),m.jsx("h3",{className:"text-xl font-bold text-[#efebe9] mb-2 tracking-tight",children:"Closing the Lounge?"}),m.jsx("p",{className:"text-[#a09a96] text-sm leading-relaxed mb-8",children:"Are you sure you want to log out of your session? You'll need to sign back in to see the latest brews."}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{onClick:()=>E(!1),className:"bg-[#2c1a12]/50 text-[#efebe9] font-bold py-4 rounded-2xl hover:bg-[#2c1a12] transition-all active:scale-95 border border-white/5",children:"Wait, stay"}),m.jsx("button",{onClick:gn,className:"bg-red-500 text-white font-bold py-4 rounded-2xl hover:bg-red-600 transition-all active:scale-95 shadow-lg shadow-red-500/20",children:"Yes, logout"})]})]})})})]})},ym=document.getElementById("root");if(!ym)throw new Error("Could not find root element to mount to");const M1=$p.createRoot(ym);M1.render(m.jsx(Ye.StrictMode,{children:m.jsx(z1,{})}));export{fc as W};
